/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={2750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Accumulator=void 0;class n{constructor(e){this._samples={},this._buffer=[],this._empty=!0,this._config=e}static create(e){const t=Object.assign({forwardIfEmpty:!1},e);return new n(t)}get isEmpty(){return this._empty}drainTo(e){if(this._buffering(),this._buffer.length<1)return void(this._config.forwardIfEmpty&&e());const t=this._buffer;this._buffer=[],t.forEach((t=>{e(t)}))}addClientSample(e){let t=this._samples.clientSamples;t||(t=[],this._samples.clientSamples=t),t.push(e),this._empty=!1,this._config.maxClientSamples&&t.length<=this._config.maxClientSamples&&this._buffering()}_buffering(){this._empty||(this._buffer.push(this._samples),this._samples={},this._empty=!0)}}t.Accumulator=n},603:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDevices=void 0;const a=s(n(1206)),o={name:"Unkown",version:void 0,versionName:void 0},c={name:"Unknown",version:void 0},l={type:"Unknown",vendor:void 0,model:void 0},d={name:"Unknown",version:void 0};t.ClientDevices=class{constructor(){let e;if(this._os=o,this._browser=c,this._platform=l,this._engine=d,navigator)e=navigator;else{if(!window||!window.navigator)return this;e=window.navigator}const t=a.parse(e.userAgent);return this._browser=Object.assign(this._browser,t.browser),this._engine=Object.assign(this._engine,t.engine),this._os=Object.assign(this._os,t.os),this._platform=Object.assign(this._platform,t.platform),this}get os(){return this._os}get browser(){return this._browser}get platform(){return this._platform}get engine(){return this._engine}}},3875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.setLogLevel=void 0;const r=n(4670),i=n(2339);t.setLogLevel=function(e){(0,i.setLevel)(e)},t.create=function(e){return r.ClientMonitorImpl.create(e)}},4670:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMonitorImpl=void 0;const o=n(5748),c=n(6863),l=n(9158),d=n(7332),u=n(7687),p=n(603),f=n(3695),h=n(2570),m=n(9828),g=n(2750),v=n(2339),y=n(7332),b=n(3069),_=s(n(6857)),w=a(n(7187)),S=(0,v.createLogger)("ClientMonitor"),k=()=>({sampler:(0,y.supplyDefaultConfig)()});S.debug("Version of the loaded schema:",o.version);const C="timerInvokedSendSenderNotExists";class R{constructor(e){this._closed=!1,this._flags=new Set,this._config=e,this._clientDevices=new p.ClientDevices,this._mediaDevices=new f.MediaDevices,this._statsStorage=new m.StatsStorage,this._metrics=new b.Metrics,this._accumulator=g.Accumulator.create(e.accumulator),this._eventer=l.EventsRelayer.create(),this._collector=this._makeCollector(),this._sampler=this._makeSampler(),this._createSender(),this._createTimer(),this._sampler.addEngine(this._clientDevices.engine),this._sampler.addPlatform(this._clientDevices.platform),this._sampler.addBrowser(this._clientDevices.browser),this._sampler.addOs(this._clientDevices.os)}static create(e){void 0!==(null==e?void 0:e.maxListeners)&&w.default.setMaxListeners(e.maxListeners);const t=e?Object.assign(k(),e):k(),n=new R(t);return S.debug("Created",t),n}get clientId(){return this._sampler.clientId}get callId(){return this._sampler.callId}get os(){return this._clientDevices.os}get metrics(){return this._metrics}get browser(){return this._clientDevices.browser}get platform(){return this._clientDevices.platform}get engine(){return this._clientDevices.engine}get audioInputs(){return this._mediaDevices.values("audioinput")}get audioOutputs(){return this._mediaDevices.values("audiooutput")}get videoInputs(){return this._mediaDevices.values("videoinput")}get events(){return this._eventer}get storage(){return this._statsStorage}setCallId(e){_.checkUuid(e),this._sampler.setCallId(e)}connect(e){this._sender?S.warn("Sender is already established"):(this._config.sender=e,this._createSender())}disconnect(){this._sender&&(this._sender.closed||this._sender.close(),this._sender=void 0)}addTrackRelation(e){this._sampler.addTrackRelation(e)}removeTrackRelation(e){this._sampler.removeTrackRelation(e)}addStatsCollector(e){this._collector.add(e),this._statsStorage.register(e.id,e.label)}removeStatsCollector(e){this._collector.remove(e),this._statsStorage.unregister(e)}addMediaDevice(...e){if(e)for(const t of e)this._mediaDevices.add(t),this._sampler.addMediaDevice(t)}removeMediaDevice(...e){if(e)for(const t of e){if(void 0===t.id)return;this._mediaDevices.remove(t.id)}}addMediaConstraints(e){const t=JSON.stringify(e);this._sampler.addMediaConstraints(t)}addUserMediaError(e){const t="string"==typeof e?e:JSON.stringify(e);this._sampler.addUserMediaError(t)}addExtensionStats(e){this._sampler.addExtensionStats(e)}addLocalSDP(e){this._sampler.addLocalSDP(e)}setMarker(e){this._sampler.setMarker(e)}async collect(){const e=Date.now();await this._collector.collect().catch((e=>{S.warn("Error occurred while collecting",e)}));const t=Date.now()-e;if(this._metrics.setCollectingTimeInMs(t),this._eventer.emitStatsCollected(),this._config.statsExpirationTimeInMs){const e=Date.now()-this._config.statsExpirationTimeInMs;this._statsStorage.trim(e)}}async sample(){const e=this._sampler.make();e&&(this._sender&&this._accumulator.addClientSample(e),this._eventer.emitSampleCreated(e))}async send(){if(!this._sender){if(this._flags.has(C))return;return this._flags.add(C),void S.warn("No Sender is available to send data")}const e=[];this._accumulator.drainTo((t=>{t&&e.push(t)}));for(const t of e)this._sender.send(t);this._eventer.emitSampleSent()}close(){var e;if(this._closed)S.warn("Attempted to close twice");else try{if(this._timer&&this._timer.clear(),this._sender){const e=[];this._accumulator.drainTo((t=>{t&&e.push(t)})),e.length<1?e.push({controls:{close:!0}}):e[e.length-1].controls={close:!0};for(const t of e)this._sender.send(t)}this._collector.close(),this._sampler.close(),null===(e=this._sender)||void 0===e||e.close(),this._statsStorage.clear()}finally{this._closed=!0,S.info("Closed")}}_makeCollector(){var e,t;const n=this._config.collectors,r={browserType:null===(e=this._clientDevices.browser)||void 0===e?void 0:e.name,browserVersion:null===(t=this._clientDevices.browser)||void 0===t?void 0:t.version},i=Object.assign({adapter:r},n),s=c.Collector.builder().withConfig(i).build();return s.statsAcceptor=this._statsStorage,s}_makeSampler(){const e=this._config.sampler,t=d.Sampler.builder().withConfig(e).build();return t.statsProvider=this._statsStorage,t}_createSender(){if(this._sender)return void S.warn("Attempted to replace an already established Sender component");const e=this._config.sender;e&&(this._sender=u.Sender.create(e).onClosed((()=>{this._sender=void 0})).onError((()=>{this._eventer.emitSenderDisconnected(),this._sender=void 0})))}_createTimer(){if(this._timer)return void S.warn("Attempted to create timer twice");const{collectingPeriodInMs:e,samplingPeriodInMs:t,sendingPeriodInMs:n}=this._config;if(!e&&!t&&!n)return;const r=new h.Timer;e&&0<e&&r.add({type:"collect",process:this.collect.bind(this),fixedDelayInMs:e,context:"Collect Stats"}),t&&0<t&&r.add({type:"sample",process:this.sample.bind(this),fixedDelayInMs:t,context:"Creating Sample"}),n&&0<n&&r.add({type:"send",process:this.send.bind(this),fixedDelayInMs:n,context:"Sending Samples"}),this._timer=r}}t.ClientMonitorImpl=R},6863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collector=void 0;const r=n(1149),i=(0,n(2339).createLogger)("Collector");class s{constructor(e){this._statsCollectors=new Map,this._closed=!1,this._config=e,this._adapter=(0,r.createAdapter)(this._config.adapter)}static builder(){let e;const t={withConfig:n=>(e=n,t),build(){if(!e)throw new Error("Cannot build a Collector without a config");const t=new s(e);return i.debug("Built",e),t}};return t}static create(e){const t=Object.assign({},e);return new s(t)}set statsAcceptor(e){this._statsWriter=e}async collect(){if(this._closed)throw new Error("Collector is already closed");if(!this._statsWriter)return void i.warn("Output of the collector has not been set");const e=[],t=[];for(const n of this._statsCollectors.values()){const{id:r,getStats:i}=n,s=new Promise((t=>{i().then((e=>{t([r,e])})).catch((n=>{e.push([r,n]),t(void 0)}))}));t.push(s)}for await(const n of t){if(void 0===n)continue;if(this._closed)return;const[t,r]=n;for(const n of this._adapter.adapt(r))if(n)try{this._statsWriter.accept(t,n)}catch(n){e.push([t,n])}}for(const t of e){const[e,n]=t;this.remove(e),i.warn(`collector ${e} is removed due to reported error`,n)}}add(e){if(this._closed)throw new Error("Cannot add StatsCollector because the Collector is closed");const{id:t}=e;if(this._statsCollectors.has(t))throw new Error(`StatsCollector with id ${t} has already been added`);this._statsCollectors.set(t,e)}has(e){return this._statsCollectors.has(e)}remove(e){if(this._closed)throw new Error("Cannot remove StatsCollector because the Collector is closed");this._statsCollectors.delete(e)||i.warn(`Collector with peer connection id ${e} was not found`)}close(){if(this._closed)i.warn("Attempted to close Collector twice");else try{for(const e of this._statsCollectors.keys())this.remove(e)}finally{this._closed=!0,i.info("Closed")}}}t.Collector=s},9158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventsRelayer=void 0;const r=n(7187),i="onStatsCollected",s="onSampleCreated",a="onSamplesSent",o="onSamplesSent";class c{constructor(){this._emitter=new r.EventEmitter({})}static create(){return new c}onStatsCollected(e){return this._emitter.on(i,e),this}emitStatsCollected(){this._emitter.emit(i)}offStatsCollected(e){return this._emitter.off(i,e),this}onSampleCreated(e){return this._emitter.on(s,e),this}emitSampleCreated(e){this._emitter.emit(s,e)}offSampleCreated(e){return this._emitter.off(s,e),this}onSampleSent(e){return this._emitter.on(a,e),this}emitSampleSent(){this._emitter.emit(a)}offSampleSent(e){return this._emitter.off(a,e),this}onSenderDisconnected(e){return this._emitter.on(o,e),this}emitSenderDisconnected(){this._emitter.emit(o)}offSenderDisconnected(e){return this._emitter.off(o,e),this}}t.EventsRelayer=c},3069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metrics=void 0,t.Metrics=class{setCollectingTimeInMs(e){this._collectingTimeInMs=e}get collectingTimeInMs(){return this._collectingTimeInMs}}},7332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sampler=t.supplyDefaultConfig=void 0;const r=n(8410),i=n(9923),s=n(6857),a=(0,n(2339).createLogger)("Sampler");t.supplyDefaultConfig=()=>({roomId:(0,r.v4)(),clientId:(0,r.v4)(),incrementalSampling:!0});class o{constructor(e){if(this._trackRelations=new Map,this._sampleSeq=0,this._timezoneOffset=(new Date).getTimezoneOffset(),this._closed=!1,e.callId&&!(0,s.isValidUuid)(e.callId))throw new Error("Sampler.config.callId must be a valid UUID");if(!(0,s.isValidUuid)(e.clientId))throw new Error("Sampler.config.clientId must be a valid UUID");this._config=e}static builder(){let e;const n={withConfig:t=>(e=t,n),build(){if(!e)throw new Error("Cannot create a Sampler without config");const n=Object.assign((0,t.supplyDefaultConfig)(),e);return new o(n)}};return n}static create(e){const n=Object.assign((0,t.supplyDefaultConfig)(),e),r=new o(n);return a.debug("Created",n),r}set statsProvider(e){this._statsReader=e}get clientId(){return this._config.clientId}get callId(){return this._config.callId}setCallId(e){(0,s.checkUuid)(e),this._config.callId=e}addTrackRelation(e){this._trackRelations.set(e.trackId,e)}removeTrackRelation(e){this._trackRelations.delete(e)}addEngine(e){this._engine=e}addPlatform(e){this._platform=e}addBrowser(e){this._browser=e}addOs(e){this._os=e}addMediaConstraints(e){this._mediaConstraints||(this._mediaConstraints=[]),this._mediaConstraints.push(e)}addUserMediaError(e){this._userMediaErrors||(this._userMediaErrors=[]),this._userMediaErrors.push(e)}addExtensionStats(e){this._extensionStats||(this._extensionStats=[]),this._extensionStats.push(e)}addLocalSDP(e){this._localSDP||(this._localSDP=[]),this._localSDP.push(...e)}addMediaDevice(e){this._mediaDevices||(this._mediaDevices=[]),this._mediaDevices.push(e)}setMarker(e){this._marker=e}close(){this._closed?a.warn("Attempted to close the Sampler twice"):(this._closed=!0,a.info("Closed"))}make(){if(this._closed)throw new Error("Cannot sample a closed Sampler");const e=Date.now(),t={callId:this._config.callId,clientId:this._config.clientId,sampleSeq:this._sampleSeq,roomId:this._config.roomId,userId:this._config.userId,timeZoneOffsetInHours:this._timezoneOffset,marker:this._marker,localSDPs:this._localSDP,engine:this._engine,platform:this._platform,browser:this._browser,os:this._os,mediaConstraints:this._mediaConstraints,userMediaErrors:this._userMediaErrors,extensionStats:this._extensionStats,mediaDevices:this._mediaDevices,timestamp:e};if(++this._sampleSeq,this._engine=void 0,this._platform=void 0,this._browser=void 0,this._os=void 0,this._mediaConstraints=void 0,this._userMediaErrors=void 0,this._extensionStats=void 0,this._mediaDevices=void 0,this._localSDP=void 0,!this._statsReader)return a.warn("No StatsProvider has been assigned to Sampler"),this._sampled=t.timestamp,t;let n,r,i,s,o,c,l,d,u,p,f,h;for(const e of this._statsReader.peerConnections()){for(const[t,i]of this._makeInboundTrack(e))t&&(n||(n=[]),n.push(t)),i&&(r||(r=[]),r.push(i));for(const[t,n]of this._makeOutboundTrack(e))t&&(i||(i=[]),i.push(t)),n&&(s||(s=[]),s.push(n));for(const t of this._makePcTransport(e))o||(o=[]),o.push(t);for(const t of this._makeMediaSource(e))c||(c=[]),c.push(t);for(const t of this._makeCodec(e))l||(l=[]),l.push(t);for(const t of this._makeCertificate(e))d||(d=[]),d.push(t);for(const t of this._makeIceLocalCandidate(e))u||(u=[]),u.push(t);for(const t of this._makeIceRemoteCandidate(e))p||(p=[]),p.push(t);for(const t of this._makeDataChannel(e))f||(f=[]),f.push(t);for(const t of this._makeIceServer(e))h||(h=[]),h.push(t)}return t.inboundAudioTracks=n,t.inboundVideoTracks=r,t.outboundAudioTracks=i,t.outboundVideoTracks=s,t.pcTransports=o,t.mediaSources=c,t.codecs=l,t.certificates=d,t.iceLocalCandidates=u,t.iceRemoteCandidates=p,t.dataChannels=f,t.iceServers=h,this._sampled=t.timestamp,a.debug("Assembled ClientSample",t),t}*_makeOutboundTrack(e){var t,n;for(const r of e.outboundRtps()){if(this._config.incrementalSampling&&this._sampled&&r.updated<=this._sampled)continue;const i=(null===(t=r.getRemoteInboundRtp())||void 0===t?void 0:t.stats)||{},o=r.getMediaSource(),c=r.getCodec();let l={};(!this._config.incrementalSampling&&(null==c?void 0:c.stats)||(null==c?void 0:c.stats)&&this._sampled&&this._sampled<=c.updated)&&(l=null==c?void 0:c.stats);const{ended:d,trackIdentifier:u}=(null===(n=r.getSender())||void 0===n?void 0:n.stats)||{};if("audio"===r.stats.kind){const{trackIdentifier:t,...n}=o?o.stats:{};let c={};n&&(this._config.incrementalSampling?o&&this._sampled&&this._sampled<=o.updated&&(c=n):c=n);const p=t||u;if(p&&!(0,s.isValidUuid)(p)){a.debug(`Invalid outbound audio track id ${p}, not be sampled`);continue}const{sfuStreamId:f}=this._trackRelations.get(p||"notId")||{},{perDscpPacketsSent:h,...m}=r.stats,g=h?Object.keys(h)[0]:void 0,v=h&&g?h[g]:void 0,y={...l,...c,...i,...m,peerConnectionId:e.collectorId,perDscpPacketsSent:v,trackId:p,sfuStreamId:f,ended:d};yield[y,void 0]}if("video"===r.stats.kind){const{trackIdentifier:t,...n}=o?o.stats:{};let c={};n&&(this._config.incrementalSampling?o&&this._sampled&&this._sampled<=o.updated&&(c=n):c=n);const p=t||u;if(p&&!(0,s.isValidUuid)(p)){a.debug(`Invalid outbound video track id ${p}, not be sampled`);continue}const{sfuStreamId:f}=this._trackRelations.get(p||"notId")||{},{qualityLimitationDurations:h,perDscpPacketsSent:m,...g}=r.stats,v=m?Object.keys(m)[0]:void 0,y=m&&v?m[v]:void 0,b={...l,...c,...i,...g,peerConnectionId:e.collectorId,qualityLimitationDurationNone:null==h?void 0:h.none,qualityLimitationDurationCPU:null==h?void 0:h.cpu,qualityLimitationDurationBandwidth:null==h?void 0:h.bandwidth,qualityLimitationDurationOther:null==h?void 0:h.none,perDscpPacketsSent:y,trackId:p,sfuStreamId:f,ended:d};yield[void 0,b]}}}*_makeInboundTrack(e){var t,n;for(const r of e.inboundRtps()){if(this._config.incrementalSampling&&this._sampled&&r.updated<=this._sampled)continue;const i=(null===(t=r.getRemoteOutboundRtp())||void 0===t?void 0:t.stats)||{},{ended:o,trackIdentifier:c}=(null===(n=r.getReceiver())||void 0===n?void 0:n.stats)||{};if(c&&!(0,s.isValidUuid)(c)){a.debug(`Invalid inbound track id ${c}, not be sampled`);continue}const{sfuSinkId:l,remoteClientId:d}=this._trackRelations.get(c||"notId")||{},u=r.getCodec();let p={};(!this._config.incrementalSampling&&(null==u?void 0:u.stats)||(null==u?void 0:u.stats)&&this._sampled&&this._sampled<=u.updated)&&(p=null==u?void 0:u.stats);const{perDscpPacketsReceived:f,...h}=r.stats,m=f?Object.keys(f)[0]:void 0,g=f&&m?f[m]:void 0;if("audio"===r.stats.kind){const t={...i,...p,...h,perDscpPacketsReceived:g,trackId:c,sfuSinkId:l,remoteClientId:d,ended:o,peerConnectionId:e.collectorId};yield[t,void 0]}if("video"===r.stats.kind){const t={...i,...p,...h,trackId:c,sfuSinkId:l,remoteClientId:d,ended:o,peerConnectionId:e.collectorId};yield[void 0,t]}}}*_makePcTransport(e){for(const t of e.transports()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const n=t.stats,r=t.getSelectedIceCandidatePair();let s={},a={},o={};if(r&&(!this._config.incrementalSampling||!this._sampled||this._sampled<=r.updated)){s=(0,i.makePrefixedObj)(r.stats,"candidatePair",!0);const e=r.getLocalCandidate();a=e?(0,i.makePrefixedObj)(e.stats,"local",!0):{};const t=r.getRemoteCandidate();o=t?(0,i.makePrefixedObj)(t.stats,"remote",!0):{}}const c={...e.stats,...n,...s,...a,...o,peerConnectionId:e.collectorId,label:e.collectorLabel};yield c}}*_makeMediaSource(e){for(const t of e.mediaSources()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const e=t.stats,n={...(e.kind,e)};yield n}}*_makeCodec(e){for(const t of e.codecs()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const e={...t.stats};yield e}}*_makeCertificate(e){for(const t of e.certificates()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const e={...t.stats};yield e}}*_makeIceLocalCandidate(e){for(const t of e.localCandidates()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const n={...t.stats,peerConnectionId:e.collectorId};yield n}}*_makeIceRemoteCandidate(e){for(const t of e.remoteCandidates()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const n=t.stats;yield{...n,peerConnectionId:e.collectorId}}}*_makeDataChannel(e){var t;for(const n of e.dataChannels()){if(this._config.incrementalSampling&&this._sampled&&n.updated<=this._sampled)continue;const r=n.stats;yield{...r,peerConnectionId:null!==(t=e.collectorId)&&void 0!==t?t:i.NULL_UUID}}}*_makeIceServer(e){for(const t of e.iceServers()){if(this._config.incrementalSampling&&this._sampled&&t.updated<=this._sampled)continue;const e=t.stats.url;yield e}}}t.Sampler=o},7687:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sender=void 0;const i=n(9002),s=n(565),a=n(2339),o=r(n(7187)),c=(0,a.createLogger)("Sender"),l="onError",d="onClosed";class u{constructor(e){var t;this._closed=!1,this._emitter=new o.default,this._config=e,this._codec=(0,i.createCodec)(this._config.format),this._transport=function(e){if(e.websocket)return s.WebsocketTransport.create(e.websocket);throw new Error(`No transport is manifested for config ${e}`)}({websocket:e.websocket}).setFormat(null!==(t=this._config.format)&&void 0!==t?t:"json")}static create(e){const t=Object.assign({},e),n=new u(t);return c.debug("Created",t),n}close(){this._closed||this._close()}_close(e){if(this._closed)c.warn("Attempted to close the Sender twice");else{try{this._transport&&!this._transport.closed&&this._transport.close()}finally{this._closed=!0,c.info("Closed")}e?this._emitter.emit(l,e):this._emitter.emit(d),[d,l].forEach((e=>this._emitter.removeAllListeners(e)))}}get closed(){return this._closed}send(e){if(this._closed)throw new Error("Cannot use an already closed Sender");const t=this._codec.encode(e);this._transport.send(t).catch((e=>{c.warn(e),this._closed||this.close()}))}onError(e){if(this._closed)throw new Error("Cannot subscribe / unsubscribe events of a closed Sender");return this._emitter.on(l,e),this}offError(e){return this._closed||this._emitter.off(l,e),this}onClosed(e){if(this._closed)throw new Error("Cannot subscribe / unsubscribe events of a closed Sender");return this._emitter.on(d,e),this}offClosed(e){return this._closed||this._emitter.off(d,e),this}}t.Sender=u},1149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castStats=t.createAdapter=void 0;const r=n(7550),i=n(7622),s=n(5748),a=n(5537),o=n(8305),c=(0,n(2339).createLogger)("Adapter");t.createAdapter=function(e){const t=Object.assign({},e);if(!t||!t.browserType)return new i.DefaultAdapter;switch(t.browserType.toLowerCase()){case"chrome":return function(e){if(!e)return new i.DefaultAdapter;const t=e.split(".")[0];if(!t)return c.warn(`Cannot recognize chrome version ${e}`),new i.DefaultAdapter;const n=Number.parseInt(t);return Number.isInteger(n)?n<86?(c.info("There is no adapter for chrome before version 86"),new i.DefaultAdapter):new r.Chrome86Adapter:(c.warn(`Cannot recognize chrome version major number ${t}`),new i.DefaultAdapter)}(t.browserVersion);case"firefox":return function(e){if(!e)return new i.DefaultAdapter;const t=e.split(".")[0];if(!t)return c.warn(`Cannot recognize firefox version ${e}`),new i.DefaultAdapter;const n=Number.parseInt(t);return Number.isInteger(n)?new a.Firefox94Adapter:(c.warn(`Cannot recognize firefox version major number ${t}`),new i.DefaultAdapter)}(t.browserVersion);case"safari":return function(e){if(!e)return new i.DefaultAdapter;const t=e.split(".")[0];if(!t)return c.warn(`Cannot recognize safari version ${e}`),new i.DefaultAdapter;const n=Number.parseInt(t);return Number.isInteger(n)?new o.Safari14Adapter:(c.warn(`Cannot recognize safari version major number ${t}`),new i.DefaultAdapter)}(t.browserVersion);default:return new i.DefaultAdapter}},t.castStats=function(e,t){switch(e.toLowerCase()){case s.W3CStats.StatsType.codec:return[s.W3CStats.StatsType.codec,t];case s.W3CStats.StatsType.inboundRtp:return[s.W3CStats.StatsType.inboundRtp,t];case s.W3CStats.StatsType.outboundRtp:return[s.W3CStats.StatsType.outboundRtp,t];case s.W3CStats.StatsType.remoteInboundRtp:return[s.W3CStats.StatsType.remoteInboundRtp,t];case s.W3CStats.StatsType.remoteOutboundRtp:return[s.W3CStats.StatsType.remoteOutboundRtp,t];case s.W3CStats.StatsType.mediaSource:return[s.W3CStats.StatsType.mediaSource,t];case s.W3CStats.StatsType.csrc:return[s.W3CStats.StatsType.csrc,t];case s.W3CStats.StatsType.peerConnection:return[s.W3CStats.StatsType.peerConnection,t];case s.W3CStats.StatsType.dataChannel:return[s.W3CStats.StatsType.dataChannel,t];case s.W3CStats.StatsType.stream:case s.W3CStats.StatsType.track:return;case s.W3CStats.StatsType.transceiver:return[s.W3CStats.StatsType.transceiver,t];case s.W3CStats.StatsType.sender:return[s.W3CStats.StatsType.sender,t];case s.W3CStats.StatsType.receiver:return[s.W3CStats.StatsType.receiver,t];case s.W3CStats.StatsType.transport:return[s.W3CStats.StatsType.transport,t];case s.W3CStats.StatsType.sctpTransport:return[s.W3CStats.StatsType.sctpTransport,t];case s.W3CStats.StatsType.candidatePair:return[s.W3CStats.StatsType.candidatePair,t];case s.W3CStats.StatsType.localCandidate:return[s.W3CStats.StatsType.localCandidate,t];case s.W3CStats.StatsType.remoteCandidate:return[s.W3CStats.StatsType.remoteCandidate,t];case s.W3CStats.StatsType.certificate:return[s.W3CStats.StatsType.certificate,t];case s.W3CStats.StatsType.iceServer:return[s.W3CStats.StatsType.iceServer,t];default:return}}},7550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome86Adapter=void 0;const r=n(1149),i=(0,n(2339).createLogger)("Chrome86Adapter");t.Chrome86Adapter=class{*adapt(e){if(!e||!e.values||"function"!=typeof e.values)return void i.warn("not rtcStats object is provided to the adapter: ",e);const t=new Map;for(const n of e.values())n&&"track"===n.type&&t.set(n.id,n);const n=new Map,s=new Map;for(let i of e.values()){const e=i.type;if(i&&e&&"string"==typeof e&&"track"!==e){if("inbound-rtp"===e||"outbound-rtp"===e){if(i.trackId){const r=t.get(i.trackId);r&&(i={...r,...i},"outbound-rtp"===e?n.set(r.id,r):"inbound-rtp"===e&&s.set(r.id,r))}i.mediaType&&!i.kind&&(i.kind=i.mediaType),"inbound-rtp"===e&&i.trackId&&!i.receiverId&&(i.receiverId=i.trackId),"outbound-rtp"===e&&i.trackId&&!i.senderId&&(i.senderId=i.trackId)}else"local-candidate"!==e&&"remote-candidate"!==e||i.ip&&!i.address&&(i.address=i.ip);yield(0,r.castStats)(e,i)}}for(const e of n.values())yield(0,r.castStats)("sender",e);for(const e of s.values())yield(0,r.castStats)("receiver",e)}}},7622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAdapter=void 0;const r=n(1149),i=(0,n(2339).createLogger)("DefaultAdapter");t.DefaultAdapter=class{*adapt(e){if(e&&e.values&&"function"==typeof e.values)for(const t of e.values()){const e=t.type;e&&"string"==typeof e&&(yield(0,r.castStats)(e,t))}else i.warn("not rtcStats object is provided to the adapter: ",e)}}},5537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox94Adapter=void 0;const r=n(1149),i=(0,n(2339).createLogger)("Safari14Adapter");t.Firefox94Adapter=class{*adapt(e){if(e&&e.values&&"function"==typeof e.values)for(const t of e.values()){const e=t.type;t&&e&&"string"==typeof e&&("inbound-rtp"!==e&&"outbound-rtp"!==e&&"remote-inbound-rtp"!==e&&"remote-outbound-rtp"!==e||t.mediaType&&!t.kind&&(t.kind=t.mediaType,delete t.mediaType),yield(0,r.castStats)(e,t))}else i.warn("not rtcStats object is provided to the adapter: ",e)}}},8305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Safari14Adapter=void 0;const r=n(1149),i=(0,n(2339).createLogger)("Safari14Adapter");t.Safari14Adapter=class{*adapt(e){if(!e||!e.values||"function"!=typeof e.values)return void i.warn("not rtcStats object is provided to the adapter: ",e);const t=new Map;for(const n of e.values())n&&"track"===n.type&&t.set(n.id,n);const n=new Map,s=new Map;for(let i of e.values()){const e=i.type;if(i&&e&&"string"==typeof e&&"track"!==e){if("inbound-rtp"===e||"outbound-rtp"===e){if(i.trackId){const r=t.get(i.trackId);r&&(i={...r,...i},"outbound-rtp"===e?n.set(r.id,r):"inbound-rtp"===e&&s.set(r.id,r))}"inbound-rtp"===e&&i.trackId&&!i.receiverId&&(i.receiverId=i.trackId),"outbound-rtp"===e&&i.trackId&&!i.senderId&&(i.senderId=i.trackId)}yield(0,r.castStats)(e,i)}}for(const e of n.values())yield(0,r.castStats)("sender",e);for(const e of s.values())yield(0,r.castStats)("receiver",e)}}},9002:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createCodec=void 0;const a=n(2236),o=n(7482),c=n(234),l=n(2301),d=n(5748),u=s(n(4492));t.createCodec=function(e){const t=null!=e?e:"json";if("json"===t){const e=o.JsonCodec.create(),t=l.TextCodec.create();return a.FacadedCodec.wrap(e).then(t)}if("protobuf"===t){const e=u.parse(d.ProtobufSamples).root.lookupType("org.observertc.schemas.protobuf.Samples");return c.ProtobufCodec.create({validate:!1,messageSchema:e})}throw new Error(`Unrecognized format config: ${t}`)}},2236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FacadedCodec=void 0;class n{constructor(e){this._codec=e}static wrap(e){return new n(e)}encode(e){return this._codec.encode(e)}decode(e){return this._codec.decode(e)}then(e){const t=this._codec;return n.wrap({encode(n){const r=t.encode(n);return e.encode(r)},decode(n){const r=e.decode(n);return t.decode(r)}})}}t.FacadedCodec=n},7482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonCodec=void 0;class n{constructor(e){this._config=e}static create(e){const t=Object.assign({},e);return new n(t)}encode(e){return this._config.space?JSON.stringify(e,void 0,this._config.space):JSON.stringify(e)}decode(e){return JSON.parse(e)}}t.JsonCodec=n},234:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProtobufCodec=void 0;const a=n(5748),o=s(n(3281));class c{constructor(e){this._config=e}static create(e){const t={validate:!1,messageSchema:o.parse(a.ProtobufSamples).root.lookupType("org.observertc.schemas.protobuf.Samples")},n=Object.assign(t,e);return new c(n)}encode(e){if(this._config.validate){const t=this._config.messageSchema.verify(e);if(t)throw Error(t)}const t=this._config.messageSchema.create(e);return this._config.messageSchema.encode(t).finish()}decode(e){const t=this._config.messageSchema.decode(e);return this._config.messageSchema.toObject(t)}}t.ProtobufCodec=c},2301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextCodec=void 0;const n={};class r{constructor(e){this._config=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder}static create(e){const t=Object.assign(n,e);return new r(t)}encode(e){return this._encoder.encode(e)}decode(e){return this._decoder.decode(e)}}t.TextCodec=r},1063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeerConnectionEntryImpl=void 0;const r=n(688),i=n(715);class s{constructor(e){this._ssrcsToInboundRtpPair=new Map,this._ssrcsToOutboundRtpPair=new Map,this._codecs=new Map,this._inboundRtps=new Map,this._outboundRtps=new Map,this._remoteInboundRtps=new Map,this._remoteOutboundRtps=new Map,this._mediaSources=new Map,this._contributingSources=new Map,this._dataChannels=new Map,this._transceivers=new Map,this._senders=new Map,this._receivers=new Map,this._transports=new Map,this._sctpTransports=new Map,this._iceCandidatePairs=new Map,this._localCandidates=new Map,this._remoteCandidates=new Map,this._certificates=new Map,this._iceServers=new Map,this.Visitor=class extends r.StatsVisitor{constructor(e){super(),this.touched=!1,this.created=Date.now(),this._pc=e}visit(e){super.visit(e),this.touched=!0}visitCodec(e){const t=this._pc,n=t._codecs,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.hashCode=s,r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,created:this.created,updated:this.created,touched:this.created,hashCode:s,getTransport:()=>{const e=a.stats.transportId;return t._transports.get(e)}};n.set(e.id,a)}visitMediaSource(e){const t=this._pc,n=t._mediaSources,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created};n.set(e.id,a)}visitInboundRtp(e){const t=this._pc,n=t._inboundRtps,r=n.get(e.id),s=(0,i.hash)(e);if(r)r.touched=this.created,r.hashCode!==s&&(r.updated=this.created,r.stats=e);else{const r=this._pc._ssrcsToInboundRtpPair,i=this._pc._remoteOutboundRtps,a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getSsrc:()=>a.stats.ssrc,getTrackId:()=>{var e;const{stats:t}=null!==(e=a.getReceiver())&&void 0!==e?e:{};return null==t?void 0:t.trackIdentifier},getReceiver:()=>{const e=a.stats.receiverId;return t._receivers.get(e)},getCodec:()=>{const e=a.stats.codecId;if(e)return t._codecs.get(e)},getTransport:()=>{const e=a.stats.transportId;if(e)return t._transports.get(e)},getRemoteOutboundRtp:()=>{const e=a.getSsrc();if(!e)return;const t=r.get(e);return t&&t.remoteOutboundRtpId?i.get(t.remoteOutboundRtpId):void 0}};n.set(e.id,a);const o=a.getSsrc();if(o){const e=this._pc._ssrcsToInboundRtpPair;let t=e.get(o);t||(t={},e.set(o,t)),t.inboundRtpId=a.stats.id}}}visitOutboundRtp(e){const t=this._pc,n=t._outboundRtps;let r=n.get(e.id);const s=(0,i.hash)(e);if(r)r.touched=this.created,r.hashCode!==s&&(r.updated=this.created,r.stats=e);else{const i=this._pc._ssrcsToOutboundRtpPair,a=this._pc._remoteInboundRtps,o={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getSsrc:()=>o.stats.ssrc,getTrackId:()=>{var e,t;const{stats:n}=null!==(e=o.getSender())&&void 0!==e?e:{};if(null==n?void 0:n.trackIdentifier)return n.trackIdentifier;const{stats:r}=null!==(t=o.getMediaSource())&&void 0!==t?t:{};return null==r?void 0:r.trackIdentifier},getSender:()=>{const e=o.stats.senderId;if(e)return t._senders.get(e)},getCodec:()=>{const e=o.stats.codecId;if(e)return t._codecs.get(e)},getTransport:()=>{const e=o.stats.transportId;if(e)return t._transports.get(e)},getMediaSource:()=>{const e=o.stats.mediaSourceId;if(e)return t._mediaSources.get(e)},getRemoteInboundRtp:()=>{const e=o.getSsrc();if(!e)return;const t=i.get(e);return t&&t.remoteInboundRtpId?a.get(t.remoteInboundRtpId):void 0}};n.set(e.id,o),r=o}const a=r.getSsrc();if(a){const e=this._pc._ssrcsToOutboundRtpPair;let t=e.get(a);t||(t={},e.set(a,t)),t.outboundRtpId=r.stats.id}}visitRemoteInboundRtp(e){const t=this._pc,n=t._remoteInboundRtps,r=n.get(e.id),s=(0,i.hash)(e);if(r)r.touched=this.created,r.hashCode!==s&&(r.updated=this.created,r.stats=e);else{const r=this._pc._ssrcsToOutboundRtpPair,i=this._pc._outboundRtps,a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getSsrc:()=>a.stats.ssrc,getCodec:()=>{const e=a.stats.codecId;if(e)return t._codecs.get(e)},getTransport:()=>{const e=a.stats.transportId;if(e)return t._transports.get(e)},getOutboundRtp:()=>{const e=a.getSsrc();if(!e)return;const t=r.get(e);return t&&t.outboundRtpId?i.get(t.outboundRtpId):void 0}};n.set(e.id,a);const o=a.getSsrc();if(o){const e=this._pc._ssrcsToOutboundRtpPair;let t=e.get(o);t||(t={},e.set(o,t)),t.remoteInboundRtpId=a.stats.id}}}visitRemoteOutboundRtp(e){const t=this._pc,n=t._remoteOutboundRtps,r=n.get(e.id),s=(0,i.hash)(e);if(r)r.touched=this.created,s!==r.hashCode&&(r.updated=this.created,r.stats=e);else{const r=this._pc._ssrcsToInboundRtpPair,i=this._pc._inboundRtps,a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getSsrc:()=>a.stats.ssrc,getCodec:()=>{const e=a.stats.codecId;if(e)return t._codecs.get(e)},getTransport:()=>{const e=a.stats.transportId;if(e)return t._transports.get(e)},getInboundRtp:()=>{const e=a.getSsrc();if(!e)return;const t=r.get(e);return t&&t.inboundRtpId?i.get(t.inboundRtpId):void 0}};n.set(e.id,a);const o=a.getSsrc();if(o){let e=r.get(o);e||(e={},r.set(o,e)),e.remoteOutboundRtpId=a.stats.id}}}visitContributingSource(e){const t=this._pc,n=t._contributingSources,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getInboundRtp:()=>{const e=a.stats.inboundRtpStreamId;return t._inboundRtps.get(e)}};n.set(e.id,a)}visitPeerConnection(e){const t=this._pc;t._stats=e,t._updated=this.created}visitDataChannel(e){const t=this._pc,n=t._dataChannels,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created};n.set(e.id,a)}visitTransceiver(e){const t=this._pc,n=t._transceivers,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getSender:()=>{const e=a.stats.senderId;return t._senders.get(e)},getReceiver:()=>{const e=a.stats.senderId;return t._receivers.get(e)}};n.set(e.id,a)}visitSender(e){const t=this._pc,n=t._senders,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getMediaSource:()=>{const e=a.stats.mediaSourceId;if(e)return t._mediaSources.get(e)}};n.set(e.id,a)}visitReceiver(e){const t=this._pc,n=t._receivers,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created};n.set(e.id,a)}visitTransport(e){const t=this._pc,n=t._transports,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getSelectedIceCandidatePair:()=>{const e=a.stats.selectedCandidatePairId;if(e)return t._iceCandidatePairs.get(e)},getLocalCertificate:()=>{const e=a.stats.localCertificateId;if(e)return t._certificates.get(e)},getRemoteCertificate:()=>{const e=a.stats.remoteCertificateId;if(e)return t._certificates.get(e)},getRtcpTransport:()=>{const e=a.stats.rtcpTransportStatsId;if(e)return t._transports.get(e)}};n.set(e.id,a)}visitSctpTransport(e){const t=this._pc,n=t._sctpTransports,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getTransport:()=>{const e=a.stats.transportId;if(e)return t._transports.get(e)}};n.set(e.id,a)}visitIceCandidatePair(e){const t=this._pc,n=t._iceCandidatePairs,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getTransport:()=>{const e=a.stats.transportId;if(e)return t._transports.get(e)},getLocalCandidate:()=>{const e=a.stats.localCandidateId;if(e)return t._localCandidates.get(e)},getRemoteCandidate:()=>{const e=a.stats.remoteCandidateId;if(e)return t._remoteCandidates.get(e)}};n.set(e.id,a)}visitLocalCandidate(e){const t=this._pc,n=t._localCandidates,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getTransport:()=>{const e=a.stats.transportId;if(e)return t._transports.get(e)}};n.set(e.id,a)}visitRemoteCandidate(e){const t=this._pc,n=t._remoteCandidates,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created,getTransport:()=>{const e=a.stats.transportId;if(e)return t._transports.get(e)}};n.set(e.id,a)}visitCertificate(e){const t=this._pc,n=t._certificates,r=n.get(e.id),s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;return r.updated=this.created,void(r.stats=e)}const a={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created};n.set(e.id,a)}visitIceServer(e){const t=this._pc,n=t._iceServers;let r=n.get(e.id);const s=(0,i.hash)(e);if(r){if(r.touched=this.created,r.hashCode===s)return;r.updated=this.created,r.stats=e}else r={id:e.id,getPeerConnection:()=>t,stats:e,hashCode:s,touched:this.created,created:this.created,updated:this.created},n.set(e.id,r)}},this._config=e;const t=Date.now();this.created=t,this._updated=t,this._touched=t}static create(e){return new s(e)}get collectorId(){return this._config.collectorId}get collectorLabel(){return this._config.collectorLabel}*trackIds(){for(const e of this._receivers.values()){if(!e.stats)continue;const{trackIdentifier:t}=e.stats;t&&(yield t)}for(const e of this._senders.values()){if(!e.stats)continue;const{trackIdentifier:t}=e.stats;t&&(yield t)}for(const e of this._mediaSources.values()){if(!e.stats)continue;const{trackIdentifier:t}=e.stats;t&&(yield t)}}receivers(){return this._receivers.values()}mediaSources(){return this._mediaSources.values()}outboundRtps(){return this._outboundRtps.values()}remoteInboundRtps(){return this._remoteInboundRtps.values()}remoteOutboundRtps(){return this._remoteOutboundRtps.values()}contributingSources(){return this._contributingSources.values()}dataChannels(){return this._dataChannels.values()}transceivers(){return this._transceivers.values()}senders(){return this._senders.values()}transports(){return this._transports.values()}sctpTransports(){return this._sctpTransports.values()}iceCandidatePairs(){return this._iceCandidatePairs.values()}localCandidates(){return this._localCandidates.values()}remoteCandidates(){return this._remoteCandidates.values()}certificates(){return this._certificates.values()}iceServers(){return this._iceServers.values()}get stats(){return this._stats}get id(){var e;return null===(e=this._stats)||void 0===e?void 0:e.id}get updated(){return this._updated}get touched(){return this._touched}codecs(){return this._codecs.values()}inboundRtps(){return this._inboundRtps.values()}update(e){const t=new this.Visitor(this);t.visit(e),t.touched&&(this._touched=t.created)}_getEntryMaps(){return[this._codecs,this._inboundRtps,this._outboundRtps,this._remoteInboundRtps,this._remoteOutboundRtps,this._mediaSources,this._contributingSources,this._dataChannels,this._transceivers,this._senders,this._receivers,this._transports,this._sctpTransports,this._iceCandidatePairs,this._localCandidates,this._remoteCandidates,this._certificates,this._iceServers]}trim(e){const t=this._getEntryMaps();for(const n of t){const t=[];for(const r of n.values())r.touched<e&&t.push(r.id);for(const e of t)n.delete(e)}}clear(){const e=this._getEntryMaps();for(const t of e)t.clear()}}t.PeerConnectionEntryImpl=s},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsStorage=void 0;const r=n(1063),i=(0,n(2339).createLogger)("StatsStorage");t.StatsStorage=class{constructor(){this._peerConnections=new Map}accept(e,t){const n=this._peerConnections.get(e);n?n.update(t):i.warn(`PeerConnectionEntry is not registered for collectorId ${e}`)}trim(e){for(const t of this._peerConnections.values())t.trim(e)}clear(){for(const e of this._peerConnections.values())e.clear()}register(e,t){const n=r.PeerConnectionEntryImpl.create({collectorId:e,collectorLabel:t});this._peerConnections.set(e,n)}unregister(e){this._peerConnections.delete(e)||i.warn(`Peer Connection Entry does not exist for collectorId ${e}`)}*peerConnections(){for(const e of this._peerConnections.values())yield e}*receivers(){for(const e of this._peerConnections.values())for(const t of e.receivers())yield t}*mediaSources(){for(const e of this._peerConnections.values())for(const t of e.mediaSources())yield t}*outboundRtps(){for(const e of this._peerConnections.values())for(const t of e.outboundRtps())yield t}*remoteInboundRtps(){for(const e of this._peerConnections.values())for(const t of e.remoteInboundRtps())yield t}*remoteOutboundRtps(){for(const e of this._peerConnections.values())for(const t of e.remoteOutboundRtps())yield t}*contributingSources(){for(const e of this._peerConnections.values())for(const t of e.contributingSources())yield t}*dataChannels(){for(const e of this._peerConnections.values())for(const t of e.dataChannels())yield t}*transceivers(){for(const e of this._peerConnections.values())for(const t of e.transceivers())yield t}*senders(){for(const e of this._peerConnections.values())for(const t of e.senders())yield t}*transports(){for(const e of this._peerConnections.values())for(const t of e.transports())yield t}*sctpTransports(){for(const e of this._peerConnections.values())for(const t of e.sctpTransports())yield t}*iceCandidatePairs(){for(const e of this._peerConnections.values())for(const t of e.iceCandidatePairs())yield t}*localCandidates(){for(const e of this._peerConnections.values())for(const t of e.localCandidates())yield t}*remoteCandidates(){for(const e of this._peerConnections.values())for(const t of e.remoteCandidates())yield t}*certificates(){for(const e of this._peerConnections.values())for(const t of e.certificates())yield t}*iceServers(){for(const e of this._peerConnections.values())for(const t of e.iceServers())yield t}*codecs(){for(const e of this._peerConnections.values())for(const t of e.codecs())yield t}*inboundRtps(){for(const e of this._peerConnections.values())for(const t of e.inboundRtps())yield t}}},6648:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMonitor=void 0,t.ClientMonitor=s(n(3875))},9891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeUrl=void 0;const r=n(5748);t.makeUrl=function(e,t){const n=`format=${null!=t?t:"json"}&schemaVersion=${r.version}`;return-1!==e.indexOf("?")?`${e}&${n}`:`${e}?${n}`}},565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketTransport=void 0;const r=n(7187),i=n(2339),s=n(9891),a=(0,i.createLogger)("WebsocketTransport"),o="onReceived";class c{constructor(e){if(this._closed=!1,this._emitter=new r.EventEmitter,this._sendingCounter=0,"undefined"==typeof WebSocket)throw new Error("No Websocket class has found in global namespace");this._config=e}static create(e){const t=Object.assign({urls:["cannot be this"],maxRetries:3},e),n=new c(t);return a.debug("Created",t),n}setFormat(e){return this._format=e,this}onReceived(e){return this._emitter.on(o,e),this}offReceived(e){return this._emitter.off(o,e),this}get closed(){return this._closed}get connected(){return!!this._ws}close(){if(this._closed)a.warn("Attempted to close twice");else{this._closed=!0;try{this._ws&&this._ws.close(),this._cancelTimer&&this._cancelTimer(),this._sent=void 0}finally{a.info("Closed")}}}async send(e){var t;if(this._closed)throw new Error("Failed to send data on an already closed transport");const n=++this._sendingCounter,r=async(t=!1)=>{const{reconnect:n}=this._config;if(!this._ws){if(this._closed)return;if(await this._connect(),!this._ws)return void(this._closed||this.close())}try{this._ws.send(e)}catch(e){if(!n||t)throw e;await r(!0)}};return this._sent=(null!==(t=this._sent)&&void 0!==t?t:Promise.resolve()).then((async()=>{await r()})).catch((()=>{this._closed||this.close()})).finally((()=>{this._sendingCounter===n&&(this._sent=void 0)})),this._sent}async _connect(){if(this._closed)throw new Error("Failed to connect to an already closed transport");if(this._ws)return void a.info("Already connected");const e=await this._createWebsocket(),{reconnect:t}=this._config;e.addEventListener("message",(e=>{this._emitter.emit(o,e)})),e.addEventListener("close",(()=>{this._ws=void 0,this._closed||t||this.close()})),e.addEventListener("error",(e=>{this._ws=void 0,a.warn("Error occurred in transport",e),this._closed||t||this.close()})),this._ws=e,a.info(`Connected to ${this._ws.url}`)}async _createWebsocket(e=0){if(this._closed)throw new Error("The transport is already closed");const{urls:t,maxRetries:n,protocols:r}=this._config,i=e<n*t.length,o=(0,s.makeUrl)(t[e%t.length],this._format);return await new Promise(((e,t)=>{const n=new WebSocket(o,r);n.readyState===WebSocket.OPEN?e(n):(n.addEventListener("close",t),n.addEventListener("error",t),n.addEventListener("open",(()=>e(n))))})).catch((async()=>{if(i)return a.info(`Connection to ${o} is failed. Tried: ${e}`),await this._waitBeforeReconnect(e+1),await this._createWebsocket(e+1);throw new Error(`Cannot connect to ${t.join(", ")}.`)}))}async _waitBeforeReconnect(e){const t=e+1,n=Math.random(),r=1+Math.max(.1,Math.min(n,1/t)),i=Math.floor(1e3*Math.min(Math.pow(t,r),60));return new Promise((e=>{const t=setTimeout((()=>{this._cancelTimer=void 0,e()}),i);this._cancelTimer=()=>{clearTimeout(t),this._cancelTimer=void 0},a.info(`Enforced waiting before reconnect is ${i}ms`)}))}}t.WebsocketTransport=c},3695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDevices=void 0;const n=[];t.MediaDevices=class{constructor(){this._mediaDevices=new Map,this._indexes=new Map}add(e){if(!e.id)return;const t=e.id;if(this._mediaDevices.set(t,e),!e.kind)return;const n=e.kind,r=this._indexes.get(n)||[];r.push(t),this._indexes.set(n,r)}remove(e){const t=this._mediaDevices.get(e);if(!t)return;if(this._mediaDevices.delete(e),!t.kind)return;const n=this._indexes.get(t.kind);if(!n)return;const r=n.filter((t=>t!==e));this._indexes.set(t.kind,r)}values(e){if(!e)return this._mediaDevices.values();const t=this._indexes.get(e);if(!t)return n.values();const r=[];for(const e of t){const t=this._mediaDevices.get(e);t&&r.push(t)}return r.values()}}},688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsVisitor=void 0;const r=n(5748),i=(0,n(2339).createLogger)("StatsVisitor");t.StatsVisitor=class{visit(e){const[t,n]=e;try{switch(t){case r.W3CStats.StatsType.codec:this.visitCodec(n);break;case r.W3CStats.StatsType.inboundRtp:this.visitInboundRtp(n);break;case r.W3CStats.StatsType.outboundRtp:this.visitOutboundRtp(n);break;case r.W3CStats.StatsType.remoteInboundRtp:this.visitRemoteInboundRtp(n);break;case r.W3CStats.StatsType.remoteOutboundRtp:this.visitRemoteOutboundRtp(n);break;case r.W3CStats.StatsType.mediaSource:this.visitMediaSource(n);break;case r.W3CStats.StatsType.csrc:this.visitContributingSource(n);break;case r.W3CStats.StatsType.peerConnection:this.visitPeerConnection(n);break;case r.W3CStats.StatsType.dataChannel:this.visitDataChannel(n);break;case r.W3CStats.StatsType.transceiver:this.visitTransceiver(n);break;case r.W3CStats.StatsType.sender:this.visitSender(n);break;case r.W3CStats.StatsType.receiver:this.visitReceiver(n);break;case r.W3CStats.StatsType.transport:this.visitTransport(n);break;case r.W3CStats.StatsType.sctpTransport:this.visitSctpTransport(n);break;case r.W3CStats.StatsType.candidatePair:this.visitIceCandidatePair(n);break;case r.W3CStats.StatsType.localCandidate:this.visitLocalCandidate(n);break;case r.W3CStats.StatsType.remoteCandidate:this.visitRemoteCandidate(n);break;case r.W3CStats.StatsType.certificate:this.visitCertificate(n);break;case r.W3CStats.StatsType.iceServer:this.visitIceServer(n)}}catch(e){i.warn(e)}}}},2570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;const r=n(8410),i=(0,n(2339).createLogger)("Timer");t.Timer=class{constructor(){this._collecting=new Map,this._sending=new Map,this._sampling=new Map}add(e){const t=(0,r.v4)(),n=Date.now(),i={...e,id:t,nextInvokeInMs:n+e.fixedDelayInMs,invoked:0},s=this,a=new class extends class{visit(e){switch(e.type){case"collect":this.visitCollectTypeAction(e);break;case"sample":this.visitSampleTypeAction(e);break;case"send":this.visitSendTypeAction(e)}}}{visitCollectTypeAction(e){s._collecting.set(t,i)}visitSampleTypeAction(e){s._sampling.set(t,i)}visitSendTypeAction(e){s._sending.set(t,i)}};return a.visit(i),this._timer||(this._timer=setTimeout(this._invoke.bind(this),0)),t}remove(e){let t=!1;this._iterateInOrder((n=>{t=t||n.delete(e)})),t||i.warn("Cannot remove a not existing action")}clear(){this._timer&&(clearTimeout(this._timer),this._timer=void 0),this._collecting.clear(),this._sampling.clear(),this._sending.clear()}_invoke(){const e=Date.now();let t=e+6e4,n=0;if(this._iterateInOrder((r=>{const s=Array.from(r.values());for(const a of s){let s=0;const o=a.nextInvokeInMs-e;if(10<o)t=Math.min(t,a.nextInvokeInMs),++n;else{0<o&&(s=o);try{a.process()}catch(e){i.warn(`Error occurred while executing timer action (${a.context})`)}a.nextInvokeInMs=e+a.fixedDelayInMs+s,t=Math.min(t,a.nextInvokeInMs),++a.invoked,a.maxInvoke&&a.maxInvoke<=a.invoked?r.delete(a.id):++n}}})),n<1)return void(this._timer=void 0);const r=t-e;this._timer=setTimeout(this._invoke.bind(this),r)}_iterateInOrder(e){for(const t of[this._collecting,this._sampling,this._sending])e(t)}}},9923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NULL_UUID=t.makeForwardDeltaObj=t.makePrefixedObj=void 0,t.makePrefixedObj=function(e,t,n){const r={};for(const[i,s]of Object.entries(e))r[`${t}${n?i.charAt(0).toUpperCase()+i.slice(1):i}`]=s;return r},t.makeForwardDeltaObj=function e(t,n){if(void 0===t||void 0===n){if(void 0===t&&void 0===n)return;return void 0===t?n:void 0}if(null===t||null===n){if(null===t&&null===n)return;return null===t?n:void 0}const r=typeof t;if(r!==typeof n)throw new Error(`Cannot make a delta obj between different type of object (${r}, ${typeof n}), sorry!`);if("function"===r)throw new Error("Cannot make a delta obj on functions?!");if(Array.isArray(t)||Array.isArray(n))throw new Error("Cannot make a delta obj between arrays, sorry!");if("object"===r){const r={};for(const i of Object.keys(t)){const s=e(t[i],n[i]);void 0!==s&&(r[i]=s)}for(const i of Object.keys(n)){if(void 0!==r[i])continue;const s=e(t[i],n[i]);void 0!==s&&(r[i]=s)}return r}if(t!==n)return n},t.NULL_UUID="00000000-0000-0000-0000-000000000000"},715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash=void 0;const r=n(2023);t.hash=function e(t){const n=r.sha256.create();if(void 0===t)return n.update("undefined"),n.hex();if(null===t)return n.update("undefined"),n.hex();const i=typeof t;if("function"===i)return n.update("function"),n.hex();if("object"===i){for(const[r,i]of Object.entries(t)){const t=e(i);n.update(r+t)}return n.hex()}switch(i){case"bigint":case"boolean":case"number":case"symbol":n.update(t.toString());break;case"string":n.update(t);break;case"undefined":n.update("undefined")}return n.hex()}},2339:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.setLevel=t.createLogger=void 0;const a=s(n(2043));let o="info";const c=new Map;t.createLogger=e=>{const t=(e=>{const t=a.getLogger(e);return t.methodFactory=(t,n,r)=>{const i=(0,a.methodFactory)(t,n,r);return function(...t){i(`${e} ${(new Date).toUTCString()}`,...t)}},t})(`ObserveRTC::${e}`);return t.setLevel(o),c.set(e,t),t},t.setLevel=e=>{for(const t of c.values())t.setLevel(e);o=e}},6857:(e,t)=>{"use strict";function n(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.checkUuid=t.isValidUuid=void 0,t.isValidUuid=n,t.checkUuid=function(e,t){if(!n(e))throw new Error(`Invalid Uuid ${e}. Context: ${t}`)}},5748:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.W3CStats=t.ProtobufSamples=void 0,s(n(2717),t);var o=n(6074);Object.defineProperty(t,"ProtobufSamples",{enumerable:!0,get:function(){return o.schema}}),t.W3CStats=a(n(3309)),t.version="2.0.0-beta.64"},6074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schema=void 0,t.schema='\nsyntax = "proto2";\n\npackage org.observertc.schemas.protobuf;\n\nmessage Samples {\n\tmessage Controls {\n\t\toptional string accessClaim = 1;\n\t\toptional bool close = 2;\n\t}\n\tmessage ClientSample {\n\t\tmessage Engine {\n\t\t\toptional string name = 1;\n\t\t\toptional string version = 2;\n\t\t}\n\t\tmessage Platform {\n\t\t\toptional string model = 1;\n\t\t\toptional string type = 2;\n\t\t\toptional string vendor = 3;\n\t\t}\n\t\tmessage Browser {\n\t\t\toptional string name = 1;\n\t\t\toptional string version = 2;\n\t\t}\n\t\tmessage OperationSystem {\n\t\t\toptional string name = 1;\n\t\t\toptional string version = 2;\n\t\t\toptional string versionName = 3;\n\t\t}\n\t\tmessage MediaDevice {\n\t\t\toptional string id = 1;\n\t\t\toptional string kind = 2;\n\t\t\toptional string label = 3;\n\t\t}\n\t\tmessage ExtensionStat {\n\t\t\trequired string payload = 1;\n\t\t\trequired string type = 2;\n\t\t}\n\t\tmessage PeerConnectionTransport {\n\t\t\trequired string peerConnectionId = 1;\n\t\t\toptional int64 bytesReceived = 2;\n\t\t\toptional int64 bytesSent = 3;\n\t\t\toptional double candidatePairAvailableIncomingBitrate = 4;\n\t\t\toptional double candidatePairAvailableOutgoingBitrate = 5;\n\t\t\toptional int64 candidatePairBytesDiscardedOnSend = 6;\n\t\t\toptional int64 candidatePairBytesReceived = 7;\n\t\t\toptional int64 candidatePairBytesSent = 8;\n\t\t\toptional int32 candidatePairCircuitBreakerTriggerCount = 9;\n\t\t\toptional int64 candidatePairConsentExpiredTimestamp = 10;\n\t\t\toptional int64 candidatePairConsentRequestBytesSent = 11;\n\t\t\toptional int32 candidatePairConsentRequestsSent = 12;\n\t\t\toptional double candidatePairCurrentRoundTripTime = 13;\n\t\t\toptional int64 candidatePairFirstRequestTimestamp = 14;\n\t\t\toptional int64 candidatePairLastPacketReceivedTimestamp = 15;\n\t\t\toptional int64 candidatePairLastPacketSentTimestamp = 16;\n\t\t\toptional int64 candidatePairLastRequestTimestamp = 17;\n\t\t\toptional int64 candidatePairLastResponseTimestamp = 18;\n\t\t\toptional int32 candidatePairPacketsDiscardedOnSend = 19;\n\t\t\toptional int32 candidatePairPacketsReceived = 20;\n\t\t\toptional int32 candidatePairPacketsSent = 21;\n\t\t\toptional int64 candidatePairRequestBytesSent = 22;\n\t\t\toptional int32 candidatePairRequestsReceived = 23;\n\t\t\toptional int32 candidatePairRequestsSent = 24;\n\t\t\toptional int64 candidatePairResponseBytesSent = 25;\n\t\t\toptional int32 candidatePairResponsesReceived = 26;\n\t\t\toptional int32 candidatePairResponsesSent = 27;\n\t\t\toptional int32 candidatePairRetransmissionReceived = 28;\n\t\t\toptional int32 candidatePairRetransmissionSent = 29;\n\t\t\toptional string candidatePairState = 30;\n\t\t\toptional double candidatePairTotalRoundTripTime = 31;\n\t\t\toptional int32 dataChannelsAccepted = 32;\n\t\t\toptional int32 dataChannelsClosed = 33;\n\t\t\toptional int32 dataChannelsOpened = 34;\n\t\t\toptional int32 dataChannelsRequested = 35;\n\t\t\toptional string dtlsCipher = 36;\n\t\t\toptional string dtlsState = 37;\n\t\t\toptional string iceLocalUsernameFragment = 38;\n\t\t\toptional string iceRole = 39;\n\t\t\toptional string iceState = 40;\n\t\t\toptional string label = 41;\n\t\t\toptional string localAddress = 42;\n\t\t\toptional string localCandidateICEServerUrl = 43;\n\t\t\toptional string localCandidateRelayProtocol = 44;\n\t\t\toptional string localCandidateType = 45;\n\t\t\toptional int32 localPort = 46;\n\t\t\toptional string localProtocol = 47;\n\t\t\toptional int32 packetsReceived = 48;\n\t\t\toptional int32 packetsSent = 49;\n\t\t\toptional string remoteAddress = 50;\n\t\t\toptional string remoteCandidateICEServerUrl = 51;\n\t\t\toptional string remoteCandidateRelayProtocol = 52;\n\t\t\toptional string remoteCandidateType = 53;\n\t\t\toptional int32 remotePort = 54;\n\t\t\toptional string remoteProtocol = 55;\n\t\t\toptional double sctpCongestionWindow = 56;\n\t\t\toptional int32 sctpMtu = 57;\n\t\t\toptional double sctpReceiverWindow = 58;\n\t\t\toptional double sctpSmoothedRoundTripTime = 59;\n\t\t\toptional int32 sctpUnackData = 60;\n\t\t\toptional int32 selectedCandidatePairChanges = 61;\n\t\t\toptional string srtpCipher = 62;\n\t\t\toptional string tlsGroup = 63;\n\t\t\toptional string tlsVersion = 64;\n\t\t}\n\t\tmessage MediaSourceStat {\n\t\t\toptional double audioLevel = 1;\n\t\t\toptional int32 bitDepth = 2;\n\t\t\toptional double echoReturnLoss = 3;\n\t\t\toptional double echoReturnLossEnhancement = 4;\n\t\t\toptional int32 frames = 5;\n\t\t\toptional double framesPerSecond = 6;\n\t\t\toptional int32 height = 7;\n\t\t\toptional string kind = 8;\n\t\t\toptional bool relayedSource = 9;\n\t\t\toptional double totalAudioEnergy = 10;\n\t\t\toptional double totalSamplesDuration = 11;\n\t\t\toptional string trackIdentifier = 12;\n\t\t\toptional int32 width = 13;\n\t\t}\n\t\tmessage MediaCodecStats {\n\t\t\toptional int32 channels = 1;\n\t\t\toptional int32 clockRate = 2;\n\t\t\toptional string codecType = 3;\n\t\t\toptional string mimeType = 4;\n\t\t\toptional string payloadType = 5;\n\t\t\toptional string sdpFmtpLine = 6;\n\t\t}\n\t\tmessage Certificate {\n\t\t\toptional string base64Certificate = 1;\n\t\t\toptional string fingerprint = 2;\n\t\t\toptional string fingerprintAlgorithm = 3;\n\t\t\toptional string issuerCertificateId = 4;\n\t\t}\n\t\tmessage InboundAudioTrack {\n\t\t\trequired int64 ssrc = 1;\n\t\t\toptional double averageRtcpInterval = 2;\n\t\t\toptional int32 burstDiscardCount = 3;\n\t\t\toptional double burstDiscardRate = 4;\n\t\t\toptional int32 burstLossCount = 5;\n\t\t\toptional double burstLossRate = 6;\n\t\t\toptional int32 burstPacketsDiscarded = 7;\n\t\t\toptional int32 burstPacketsLost = 8;\n\t\t\toptional int64 bytesReceived = 9;\n\t\t\toptional int64 bytesSent = 10;\n\t\t\toptional int32 channels = 11;\n\t\t\toptional int32 clockRate = 12;\n\t\t\toptional int32 concealedSamples = 13;\n\t\t\toptional int32 concealmentEvents = 14;\n\t\t\toptional string decoderImplementation = 15;\n\t\t\toptional bool ended = 16;\n\t\t\toptional int64 estimatedPlayoutTimestamp = 17;\n\t\t\toptional int32 fecPacketsDiscarded = 18;\n\t\t\toptional int32 fecPacketsReceived = 19;\n\t\t\toptional double gapDiscardRate = 20;\n\t\t\toptional double gapLossRate = 21;\n\t\t\toptional int64 headerBytesReceived = 22;\n\t\t\toptional int32 insertedSamplesForDeceleration = 23;\n\t\t\toptional double jitter = 24;\n\t\t\toptional double jitterBufferDelay = 25;\n\t\t\toptional int32 jitterBufferEmittedCount = 26;\n\t\t\toptional int64 lastPacketReceivedTimestamp = 27;\n\t\t\toptional string mimeType = 28;\n\t\t\toptional int32 nackCount = 29;\n\t\t\toptional int32 packetsDiscarded = 30;\n\t\t\toptional int32 packetsDuplicated = 31;\n\t\t\toptional int32 packetsFailedDecryption = 32;\n\t\t\toptional int32 packetsLost = 33;\n\t\t\toptional int32 packetsReceived = 34;\n\t\t\toptional int32 packetsRepaired = 35;\n\t\t\toptional int32 packetsSent = 36;\n\t\t\toptional int32 payloadType = 37;\n\t\t\toptional string peerConnectionId = 38;\n\t\t\toptional int32 perDscpPacketsReceived = 39;\n\t\t\toptional string remoteClientId = 40;\n\t\t\toptional int64 remoteTimestamp = 41;\n\t\t\toptional int32 removedSamplesForAcceleration = 42;\n\t\t\toptional int32 reportsSent = 43;\n\t\t\toptional double roundTripTime = 44;\n\t\t\toptional int32 roundTripTimeMeasurements = 45;\n\t\t\toptional int32 samplesDecodedWithCelt = 46;\n\t\t\toptional int32 samplesDecodedWithSilk = 47;\n\t\t\toptional string sdpFmtpLine = 48;\n\t\t\toptional string sfuSinkId = 49;\n\t\t\toptional int32 silentConcealedSamples = 50;\n\t\t\toptional double totalProcessingDelay = 51;\n\t\t\toptional double totalRoundTripTime = 52;\n\t\t\toptional int32 totalSamplesDecoded = 53;\n\t\t\toptional int32 totalSamplesReceived = 54;\n\t\t\toptional string trackId = 55;\n\t\t\toptional bool voiceActivityFlag = 56;\n\t\t}\n\t\tmessage InboundVideoTrack {\n\t\t\trequired int64 ssrc = 1;\n\t\t\toptional double averageRtcpInterval = 2;\n\t\t\toptional int32 burstDiscardCount = 3;\n\t\t\toptional double burstDiscardRate = 4;\n\t\t\toptional int32 burstLossCount = 5;\n\t\t\toptional double burstLossRate = 6;\n\t\t\toptional int32 burstPacketsDiscarded = 7;\n\t\t\toptional int32 burstPacketsLost = 8;\n\t\t\toptional int64 bytesReceived = 9;\n\t\t\toptional int64 bytesSent = 10;\n\t\t\toptional int32 channels = 11;\n\t\t\toptional int32 clockRate = 12;\n\t\t\toptional string decoderImplementation = 13;\n\t\t\toptional bool ended = 14;\n\t\t\toptional int64 estimatedPlayoutTimestamp = 15;\n\t\t\toptional int32 fecPacketsDiscarded = 16;\n\t\t\toptional int32 fecPacketsReceived = 17;\n\t\t\toptional int32 firCount = 18;\n\t\t\toptional int32 frameBitDepth = 19;\n\t\t\toptional int32 frameHeight = 20;\n\t\t\toptional int32 frameWidth = 21;\n\t\t\toptional int32 framesDecoded = 22;\n\t\t\toptional int32 framesDropped = 23;\n\t\t\toptional double framesPerSecond = 24;\n\t\t\toptional int32 framesReceived = 25;\n\t\t\toptional int32 fullFramesLost = 26;\n\t\t\toptional double gapDiscardRate = 27;\n\t\t\toptional double gapLossRate = 28;\n\t\t\toptional int64 headerBytesReceived = 29;\n\t\t\toptional double jitter = 30;\n\t\t\toptional double jitterBufferDelay = 31;\n\t\t\toptional int32 jitterBufferEmittedCount = 32;\n\t\t\toptional int32 keyFramesDecoded = 33;\n\t\t\toptional int64 lastPacketReceivedTimestamp = 34;\n\t\t\toptional string mimeType = 35;\n\t\t\toptional int32 nackCount = 36;\n\t\t\toptional int32 packetsDiscarded = 37;\n\t\t\toptional int32 packetsDuplicated = 38;\n\t\t\toptional int32 packetsFailedDecryption = 39;\n\t\t\toptional int32 packetsLost = 40;\n\t\t\toptional int32 packetsReceived = 41;\n\t\t\toptional int32 packetsRepaired = 42;\n\t\t\toptional int32 packetsSent = 43;\n\t\t\toptional int32 partialFramesLost = 44;\n\t\t\toptional int32 payloadType = 45;\n\t\t\toptional string peerConnectionId = 46;\n\t\t\toptional int32 perDscpPacketsReceived = 47;\n\t\t\toptional int32 pliCount = 48;\n\t\t\toptional int64 qpSum = 49;\n\t\t\toptional string remoteClientId = 50;\n\t\t\toptional int64 remoteTimestamp = 51;\n\t\t\toptional int32 reportsSent = 52;\n\t\t\toptional double roundTripTime = 53;\n\t\t\toptional int32 roundTripTimeMeasurements = 54;\n\t\t\toptional string sdpFmtpLine = 55;\n\t\t\toptional string sfuSinkId = 56;\n\t\t\toptional int32 sliCount = 57;\n\t\t\toptional double totalDecodeTime = 58;\n\t\t\toptional double totalInterFrameDelay = 59;\n\t\t\toptional double totalProcessingDelay = 60;\n\t\t\toptional double totalRoundTripTime = 61;\n\t\t\toptional double totalSquaredInterFrameDelay = 62;\n\t\t\toptional string trackId = 63;\n\t\t}\n\t\tmessage OutboundAudioTrack {\n\t\t\trequired int64 ssrc = 1;\n\t\t\toptional double audioLevel = 2;\n\t\t\toptional double averageRtcpInterval = 3;\n\t\t\toptional int32 burstDiscardCount = 4;\n\t\t\toptional double burstDiscardRate = 5;\n\t\t\toptional int32 burstLossCount = 6;\n\t\t\toptional double burstLossRate = 7;\n\t\t\toptional int32 burstPacketsDiscarded = 8;\n\t\t\toptional int32 burstPacketsLost = 9;\n\t\t\toptional int64 bytesDiscardedOnSend = 10;\n\t\t\toptional int64 bytesSent = 11;\n\t\t\toptional int32 channels = 12;\n\t\t\toptional int32 clockRate = 13;\n\t\t\toptional double echoReturnLoss = 14;\n\t\t\toptional double echoReturnLossEnhancement = 15;\n\t\t\toptional string encoderImplementation = 16;\n\t\t\toptional bool ended = 17;\n\t\t\toptional int32 fecPacketsSent = 18;\n\t\t\toptional double fractionLost = 19;\n\t\t\toptional double gapDiscardRate = 20;\n\t\t\toptional double gapLossRate = 21;\n\t\t\toptional int64 headerBytesSent = 22;\n\t\t\toptional double jitter = 23;\n\t\t\toptional int64 lastPacketSentTimestamp = 24;\n\t\t\toptional string mimeType = 25;\n\t\t\toptional int32 nackCount = 26;\n\t\t\toptional int32 packetsDiscarded = 27;\n\t\t\toptional int32 packetsDiscardedOnSend = 28;\n\t\t\toptional int32 packetsLost = 29;\n\t\t\toptional int32 packetsReceived = 30;\n\t\t\toptional int32 packetsRepaired = 31;\n\t\t\toptional int32 packetsSent = 32;\n\t\t\toptional int32 payloadType = 33;\n\t\t\toptional string peerConnectionId = 34;\n\t\t\toptional int32 perDscpPacketsSent = 35;\n\t\t\toptional bool relayedSource = 36;\n\t\t\toptional int32 reportsReceived = 37;\n\t\t\toptional int64 retransmittedBytesSent = 38;\n\t\t\toptional int32 retransmittedPacketsSent = 39;\n\t\t\toptional string rid = 40;\n\t\t\toptional double roundTripTime = 41;\n\t\t\toptional int32 roundTripTimeMeasurements = 42;\n\t\t\toptional int64 rtxSsrc = 43;\n\t\t\toptional int32 samplesEncodedWithCelt = 44;\n\t\t\toptional int32 samplesEncodedWithSilk = 45;\n\t\t\toptional string sdpFmtpLine = 46;\n\t\t\toptional string sfuStreamId = 47;\n\t\t\toptional int32 targetBitrate = 48;\n\t\t\toptional double totalAudioEnergy = 49;\n\t\t\toptional int64 totalEncodedBytesTarget = 50;\n\t\t\toptional double totalPacketSendDelay = 51;\n\t\t\toptional double totalRoundTripTime = 52;\n\t\t\toptional double totalSamplesDuration = 53;\n\t\t\toptional int32 totalSamplesSent = 54;\n\t\t\toptional string trackId = 55;\n\t\t\toptional bool voiceActivityFlag = 56;\n\t\t}\n\t\tmessage OutboundVideoTrack {\n\t\t\trequired int64 ssrc = 1;\n\t\t\toptional double averageRtcpInterval = 2;\n\t\t\toptional int32 bitDepth = 3;\n\t\t\toptional int32 burstDiscardCount = 4;\n\t\t\toptional double burstDiscardRate = 5;\n\t\t\toptional int32 burstLossCount = 6;\n\t\t\toptional double burstLossRate = 7;\n\t\t\toptional int32 burstPacketsDiscarded = 8;\n\t\t\toptional int32 burstPacketsLost = 9;\n\t\t\toptional int64 bytesDiscardedOnSend = 10;\n\t\t\toptional int64 bytesSent = 11;\n\t\t\toptional int32 channels = 12;\n\t\t\toptional int32 clockRate = 13;\n\t\t\toptional string encoderImplementation = 14;\n\t\t\toptional bool ended = 15;\n\t\t\toptional int32 fecPacketsSent = 16;\n\t\t\toptional int32 firCount = 17;\n\t\t\toptional double fractionLost = 18;\n\t\t\toptional int32 frameBitDepth = 19;\n\t\t\toptional int32 frameHeight = 20;\n\t\t\toptional int32 frameWidth = 21;\n\t\t\toptional int32 frames = 22;\n\t\t\toptional int32 framesDiscardedOnSend = 23;\n\t\t\toptional int32 framesDropped = 24;\n\t\t\toptional int32 framesEncoded = 25;\n\t\t\toptional double framesPerSecond = 26;\n\t\t\toptional int32 framesSent = 27;\n\t\t\toptional int32 fullFramesLost = 28;\n\t\t\toptional double gapDiscardRate = 29;\n\t\t\toptional double gapLossRate = 30;\n\t\t\toptional int64 headerBytesSent = 31;\n\t\t\toptional int32 height = 32;\n\t\t\toptional int32 hugeFramesSent = 33;\n\t\t\toptional double jitter = 34;\n\t\t\toptional int32 keyFramesEncoded = 35;\n\t\t\toptional int64 lastPacketSentTimestamp = 36;\n\t\t\toptional string mimeType = 37;\n\t\t\toptional int32 nackCount = 38;\n\t\t\toptional int32 packetsDiscarded = 39;\n\t\t\toptional int32 packetsDiscardedOnSend = 40;\n\t\t\toptional int32 packetsLost = 41;\n\t\t\toptional int32 packetsReceived = 42;\n\t\t\toptional int32 packetsRepaired = 43;\n\t\t\toptional int32 packetsSent = 44;\n\t\t\toptional int32 partialFramesLost = 45;\n\t\t\toptional int32 payloadType = 46;\n\t\t\toptional string peerConnectionId = 47;\n\t\t\toptional int32 perDscpPacketsSent = 48;\n\t\t\toptional int32 pliCount = 49;\n\t\t\toptional int64 qpSum = 50;\n\t\t\toptional double qualityLimitationDurationBandwidth = 51;\n\t\t\toptional double qualityLimitationDurationCPU = 52;\n\t\t\toptional double qualityLimitationDurationNone = 53;\n\t\t\toptional double qualityLimitationDurationOther = 54;\n\t\t\toptional string qualityLimitationReason = 55;\n\t\t\toptional int32 qualityLimitationResolutionChanges = 56;\n\t\t\toptional bool relayedSource = 57;\n\t\t\toptional int32 reportsReceived = 58;\n\t\t\toptional int64 retransmittedBytesSent = 59;\n\t\t\toptional int32 retransmittedPacketsSent = 60;\n\t\t\toptional string rid = 61;\n\t\t\toptional double roundTripTime = 62;\n\t\t\toptional int32 roundTripTimeMeasurements = 63;\n\t\t\toptional int64 rtxSsrc = 64;\n\t\t\toptional string sdpFmtpLine = 65;\n\t\t\toptional string sfuStreamId = 66;\n\t\t\toptional int32 sliCount = 67;\n\t\t\toptional int32 targetBitrate = 68;\n\t\t\toptional double totalEncodeTime = 69;\n\t\t\toptional int64 totalEncodedBytesTarget = 70;\n\t\t\toptional double totalPacketSendDelay = 71;\n\t\t\toptional double totalRoundTripTime = 72;\n\t\t\toptional string trackId = 73;\n\t\t\toptional int32 width = 74;\n\t\t}\n\t\tmessage IceLocalCandidate {\n\t\t\toptional string address = 1;\n\t\t\toptional string candidateType = 2;\n\t\t\toptional string id = 3;\n\t\t\toptional string peerConnectionId = 4;\n\t\t\toptional int32 port = 5;\n\t\t\toptional int64 priority = 6;\n\t\t\toptional string protocol = 7;\n\t\t\toptional string relayProtocol = 8;\n\t\t\toptional string url = 9;\n\t\t}\n\t\tmessage IceRemoteCandidate {\n\t\t\toptional string address = 1;\n\t\t\toptional string candidateType = 2;\n\t\t\toptional string id = 3;\n\t\t\toptional string peerConnectionId = 4;\n\t\t\toptional int32 port = 5;\n\t\t\toptional int64 priority = 6;\n\t\t\toptional string protocol = 7;\n\t\t\toptional string relayProtocol = 8;\n\t\t\toptional string url = 9;\n\t\t}\n\t\tmessage DataChannel {\n\t\t\toptional string address = 1;\n\t\t\toptional int64 bytesReceived = 2;\n\t\t\toptional int64 bytesSent = 3;\n\t\t\toptional int32 dataChannelIdentifier = 4;\n\t\t\toptional string id = 5;\n\t\t\toptional string label = 6;\n\t\t\toptional int32 messagesReceived = 7;\n\t\t\toptional int32 messagesSent = 8;\n\t\t\toptional string peerConnectionId = 9;\n\t\t\toptional int32 port = 10;\n\t\t\toptional string protocol = 11;\n\t\t\toptional string state = 12;\n\t\t}\n\t\trepeated Certificate certificates = 1;\n\t\trepeated MediaCodecStats codecs = 2;\n\t\trepeated DataChannel dataChannels = 3;\n\t\trepeated ExtensionStat extensionStats = 4;\n\t\trepeated IceLocalCandidate iceLocalCandidates = 5;\n\t\trepeated IceRemoteCandidate iceRemoteCandidates = 6;\n\t\trepeated string iceServers = 7;\n\t\trepeated InboundAudioTrack inboundAudioTracks = 8;\n\t\trepeated InboundVideoTrack inboundVideoTracks = 9;\n\t\trepeated string localSDPs = 10;\n\t\trepeated string mediaConstraints = 11;\n\t\trepeated MediaDevice mediaDevices = 12;\n\t\trepeated MediaSourceStat mediaSources = 13;\n\t\trepeated OutboundAudioTrack outboundAudioTracks = 14;\n\t\trepeated OutboundVideoTrack outboundVideoTracks = 15;\n\t\trepeated PeerConnectionTransport pcTransports = 16;\n\t\trepeated string userMediaErrors = 17;\n\t\trequired string clientId = 18;\n\t\trequired int64 timestamp = 19;\n\t\toptional Browser browser = 20;\n\t\toptional string callId = 21;\n\t\toptional Engine engine = 22;\n\t\toptional string marker = 23;\n\t\toptional OperationSystem os = 24;\n\t\toptional Platform platform = 25;\n\t\toptional string roomId = 26;\n\t\toptional int32 sampleSeq = 27;\n\t\toptional int32 timeZoneOffsetInHours = 28;\n\t\toptional string userId = 29;\n\t}\n\tmessage SfuSample {\n\t\tmessage SfuTransport {\n\t\t\trequired string transportId = 1;\n\t\t\toptional string dtlsState = 2;\n\t\t\toptional string iceRole = 3;\n\t\t\toptional string iceState = 4;\n\t\t\toptional bool internal = 5;\n\t\t\toptional string localAddress = 6;\n\t\t\toptional int32 localPort = 7;\n\t\t\toptional bool noReport = 8;\n\t\t\toptional string protocol = 9;\n\t\t\toptional string remoteAddress = 10;\n\t\t\toptional int32 remotePort = 11;\n\t\t\toptional int64 rtpBytesReceived = 12;\n\t\t\toptional int64 rtpBytesSent = 13;\n\t\t\toptional int32 rtpPacketsLost = 14;\n\t\t\toptional int32 rtpPacketsReceived = 15;\n\t\t\toptional int32 rtpPacketsSent = 16;\n\t\t\toptional int64 rtxBytesReceived = 17;\n\t\t\toptional int64 rtxBytesSent = 18;\n\t\t\toptional int32 rtxPacketsDiscarded = 19;\n\t\t\toptional int32 rtxPacketsLost = 20;\n\t\t\toptional int32 rtxPacketsReceived = 21;\n\t\t\toptional int32 rtxPacketsSent = 22;\n\t\t\toptional int64 sctpBytesReceived = 23;\n\t\t\toptional int64 sctpBytesSent = 24;\n\t\t\toptional int32 sctpPacketsReceived = 25;\n\t\t\toptional int32 sctpPacketsSent = 26;\n\t\t\toptional string sctpState = 27;\n\t\t}\n\t\tmessage SfuInboundRtpPad {\n\t\t\trequired string padId = 1;\n\t\t\trequired int64 ssrc = 2;\n\t\t\trequired string streamId = 3;\n\t\t\trequired string transportId = 4;\n\t\t\toptional int64 bytesReceived = 5;\n\t\t\toptional int32 clockRate = 6;\n\t\t\toptional int32 fecPacketsDiscarded = 7;\n\t\t\toptional int32 fecPacketsReceived = 8;\n\t\t\toptional int32 firCount = 9;\n\t\t\toptional double fractionLost = 10;\n\t\t\toptional int32 framesDecoded = 11;\n\t\t\toptional int32 framesReceived = 12;\n\t\t\toptional bool internal = 13;\n\t\t\toptional double jitter = 14;\n\t\t\toptional int32 keyFramesDecoded = 15;\n\t\t\toptional string mediaType = 16;\n\t\t\toptional string mimeType = 17;\n\t\t\toptional int32 nackCount = 18;\n\t\t\toptional bool noReport = 19;\n\t\t\toptional int32 packetsDiscarded = 20;\n\t\t\toptional int32 packetsDuplicated = 21;\n\t\t\toptional int32 packetsFailedDecryption = 22;\n\t\t\toptional int32 packetsLost = 23;\n\t\t\toptional int32 packetsReceived = 24;\n\t\t\toptional int32 packetsRepaired = 25;\n\t\t\toptional int32 payloadType = 26;\n\t\t\toptional int32 pliCount = 27;\n\t\t\toptional string rid = 28;\n\t\t\toptional double roundTripTime = 29;\n\t\t\toptional int32 rtcpRrSent = 30;\n\t\t\toptional int32 rtcpSrReceived = 31;\n\t\t\toptional int32 rtxPacketsDiscarded = 32;\n\t\t\toptional int32 rtxPacketsReceived = 33;\n\t\t\toptional int64 rtxSsrc = 34;\n\t\t\toptional string sdpFmtpLine = 35;\n\t\t\toptional int32 sliCount = 36;\n\t\t\toptional int32 targetBitrate = 37;\n\t\t\toptional bool voiceActivityFlag = 38;\n\t\t}\n\t\tmessage SfuOutboundRtpPad {\n\t\t\trequired string padId = 1;\n\t\t\trequired string sinkId = 2;\n\t\t\trequired int64 ssrc = 3;\n\t\t\trequired string streamId = 4;\n\t\t\trequired string transportId = 5;\n\t\t\toptional int64 bytesSent = 6;\n\t\t\toptional string callId = 7;\n\t\t\toptional string clientId = 8;\n\t\t\toptional int32 clockRate = 9;\n\t\t\toptional int32 fecPacketsDiscarded = 10;\n\t\t\toptional int32 fecPacketsSent = 11;\n\t\t\toptional int32 firCount = 12;\n\t\t\toptional double fractionLost = 13;\n\t\t\toptional int32 framesEncoded = 14;\n\t\t\toptional int32 framesSent = 15;\n\t\t\toptional bool internal = 16;\n\t\t\toptional double jitter = 17;\n\t\t\toptional int32 keyFramesEncoded = 18;\n\t\t\toptional string mediaType = 19;\n\t\t\toptional string mimeType = 20;\n\t\t\toptional int32 nackCount = 21;\n\t\t\toptional bool noReport = 22;\n\t\t\toptional int32 packetsDiscarded = 23;\n\t\t\toptional int32 packetsDuplicated = 24;\n\t\t\toptional int32 packetsFailedEncryption = 25;\n\t\t\toptional int32 packetsLost = 26;\n\t\t\toptional int32 packetsRetransmitted = 27;\n\t\t\toptional int32 packetsSent = 28;\n\t\t\toptional int32 payloadType = 29;\n\t\t\toptional int32 pliCount = 30;\n\t\t\toptional string rid = 31;\n\t\t\toptional double roundTripTime = 32;\n\t\t\toptional int32 rtcpRrReceived = 33;\n\t\t\toptional int32 rtcpSrSent = 34;\n\t\t\toptional int32 rtxPacketsDiscarded = 35;\n\t\t\toptional int32 rtxPacketsSent = 36;\n\t\t\toptional int64 rtxSsrc = 37;\n\t\t\toptional string sdpFmtpLine = 38;\n\t\t\toptional int32 sliCount = 39;\n\t\t\toptional int32 targetBitrate = 40;\n\t\t\toptional string trackId = 41;\n\t\t\toptional bool voiceActivityFlag = 42;\n\t\t}\n\t\tmessage SfuSctpChannel {\n\t\t\trequired string channelId = 1;\n\t\t\trequired string streamId = 2;\n\t\t\trequired string transportId = 3;\n\t\t\toptional int64 bytesReceived = 4;\n\t\t\toptional int64 bytesSent = 5;\n\t\t\toptional string label = 6;\n\t\t\toptional int32 messageReceived = 7;\n\t\t\toptional int32 messageSent = 8;\n\t\t\toptional bool noReport = 9;\n\t\t\toptional string protocol = 10;\n\t\t\toptional double sctpCongestionWindow = 11;\n\t\t\toptional int32 sctpMtu = 12;\n\t\t\toptional double sctpReceiverWindow = 13;\n\t\t\toptional double sctpSmoothedRoundTripTime = 14;\n\t\t\toptional int32 sctpUnackData = 15;\n\t\t}\n\t\tmessage SfuExtensionStats {\n\t\t\trequired string payload = 1;\n\t\t\trequired string type = 2;\n\t\t}\n\t\trepeated SfuExtensionStats extensionStats = 1;\n\t\trepeated SfuInboundRtpPad inboundRtpPads = 2;\n\t\trepeated SfuOutboundRtpPad outboundRtpPads = 3;\n\t\trepeated SfuSctpChannel sctpChannels = 4;\n\t\trepeated SfuTransport transports = 5;\n\t\trequired string sfuId = 6;\n\t\trequired int64 timestamp = 7;\n\t\toptional string marker = 8;\n\t\toptional int32 timeZoneOffsetInHours = 9;\n\t}\n\tmessage TurnSample {\n\t\tmessage TurnPeerAllocation {\n\t\t\trequired string peerId = 1;\n\t\t\trequired string relayedAddress = 2;\n\t\t\trequired int32 relayedPort = 3;\n\t\t\trequired string sessionId = 4;\n\t\t\trequired string transportProtocol = 5;\n\t\t\toptional string peerAddress = 6;\n\t\t\toptional int32 peerPort = 7;\n\t\t\toptional int64 receivedBytes = 8;\n\t\t\toptional int32 receivedPackets = 9;\n\t\t\toptional int32 receivingBitrate = 10;\n\t\t\toptional int32 sendingBitrate = 11;\n\t\t\toptional int64 sentBytes = 12;\n\t\t\toptional int32 sentPackets = 13;\n\t\t}\n\t\tmessage TurnSession {\n\t\t\trequired string sessionId = 1;\n\t\t\toptional string clientAddress = 2;\n\t\t\toptional string clientId = 3;\n\t\t\toptional int32 clientPort = 4;\n\t\t\toptional int64 nonceExpirationTime = 5;\n\t\t\toptional string realm = 6;\n\t\t\toptional int64 receivedBytes = 7;\n\t\t\toptional int32 receivedPackets = 8;\n\t\t\toptional int32 receivingBitrate = 9;\n\t\t\toptional int32 sendingBitrate = 10;\n\t\t\toptional int64 sentBytes = 11;\n\t\t\toptional int32 sentPackets = 12;\n\t\t\toptional string serverAddress = 13;\n\t\t\toptional int32 serverPort = 14;\n\t\t\toptional int64 started = 15;\n\t\t\toptional string transportProtocol = 16;\n\t\t\toptional string username = 17;\n\t\t}\n\t\trepeated TurnPeerAllocation allocations = 1;\n\t\trepeated TurnSession sessions = 2;\n\t\trequired string serverId = 3;\n\t}\n\trepeated ClientSample clientSamples = 1;\n\trepeated SfuSample sfuSamples = 2;\n\trepeated TurnSample turnSamples = 3;\n\toptional Controls controls = 4;\n}\n'},2717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3309:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StatsType=t.version=void 0,t.version={date:new Date("2021-11-10")},(n=t.StatsType||(t.StatsType={})).codec="codec",n.inboundRtp="inbound-rtp",n.outboundRtp="outbound-rtp",n.remoteInboundRtp="remote-inbound-rtp",n.remoteOutboundRtp="remote-outbound-rtp",n.mediaSource="media-source",n.csrc="csrc",n.peerConnection="peer-connection",n.dataChannel="data-channel",n.stream="stream",n.track="track",n.transceiver="transceiver",n.sender="sender",n.receiver="receiver",n.transport="transport",n.sctpTransport="sctp-transport",n.candidatePair="candidate-pair",n.localCandidate="local-candidate",n.remoteCandidate="remote-candidate",n.certificate="certificate",n.iceServer="ice-server"},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(s)if(s=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){s&&(s=!1,a(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),s=0;s<64;)i[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,n){for(var i,s=null,a=[],o=0,c=0;t<n;){var l=e[t++];switch(c){case 0:a[o++]=r[l>>2],i=(3&l)<<4,c=1;break;case 1:a[o++]=r[i|l>>4],i=(15&l)<<2,c=2;break;case 2:a[o++]=r[i|l>>6],a[o++]=r[63&l],c=0}o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0)}return c&&(a[o++]=r[i],a[o++]=61,1===c&&(a[o++]=61)),s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))};var a="invalid encoding";n.decode=function(e,t,n){for(var r,s=n,o=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&o>1)break;if(void 0===(l=i[l]))throw Error(a);switch(o){case 0:r=l,o=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,o=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,o=3;break;case 3:t[n++]=(3&r)<<6|l,o=0}}if(1===o)throw Error(a);return n-s},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},5124:e=>{"use strict";function t(e,n){"string"==typeof e&&(n=e,e=void 0);var r=[];function i(e){if("string"!=typeof e){var n=s();if(t.verbose&&console.log("codegen: "+n),n="return "+n,e){for(var a=Object.keys(e),o=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)o[l]=a[l],c[l]=e[a[l++]];return o[l]=n,Function.apply(null,o).apply(null,c)}return Function(n)()}for(var d=new Array(arguments.length-1),u=0;u<d.length;)d[u]=arguments[++u];if(u=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=d[u++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),u!==d.length)throw Error("parameter count mismatch");return r.push(e),i}function s(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=s,i}e.exports=t,t.verbose=!1},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},9054:(e,t,n)=>{"use strict";e.exports=s;var r=n(4537),i=n(7199)("fs");function s(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?s.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):s.xhr(e,t,n):r(s,this,e,t)}s.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function s(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function o(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:s,e.writeFloatBE=r?s:i,e.readFloatLE=r?a:o,e.readFloatBE=r?o:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2);e((i<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,n,r)}}function a(e,t,n){var r=e(t,n),i=2*(r>>31)+1,s=r>>>23&255,a=8388607&r;return 255===s?a?NaN:i*(1/0):0===s?1401298464324817e-60*i*a:i*Math.pow(2,s-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function s(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function o(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:s,e.writeDoubleBE=r?s:i,e.readDoubleLE=r?a:o,e.readDoubleBE=r?o:a}():function(){function t(e,t,n,r,i,s){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,s+t),e(1/r>0?0:2147483648,i,s+n);else if(isNaN(r))e(0,i,s+t),e(2146959360,i,s+n);else if(r>17976931348623157e292)e(0,i,s+t),e((a<<31|2146435072)>>>0,i,s+n);else{var o;if(r<22250738585072014e-324)e((o=r/5e-324)>>>0,i,s+t),e((a<<31|o/4294967296)>>>0,i,s+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(o=r*Math.pow(2,-c))>>>0,i,s+t),e((a<<31|c+1023<<20|1048576*o&1048575)>>>0,i,s+n)}}}function a(e,t,n,r,i){var s=e(r,i+t),a=e(r,i+n),o=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+s;return 2047===c?l?NaN:o*(1/0):0===c?5e-324*o*l:o*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,s,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},8626:(e,t)=>{"use strict";var n=t,r=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),i="";n&&(i=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):n?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return i+t.join("/")};n.resolve=function(e,t,n){return n||(t=i(t)),r(t)?t:(n||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,s=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(s=e(r),a=0);var o=t.call(s,a,a+=n);return 7&a&&(a=1+(7|a)),o}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,s=[],a=0;t<n;)(r=e[t++])<128?s[a++]=r:r>191&&r<224?s[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[a++]=55296+(r>>10),s[a++]=56320+(1023&r)):s[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))},n.write=function(e,t,n){for(var r,i,s=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-s}},2186:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueue=class{constructor({ClosedErrorClass:e=Error,StoppedErrorClass:t=Error}={ClosedErrorClass:Error,StoppedErrorClass:Error}){this.closed=!1,this.pendingTasks=[],this.ClosedErrorClass=Error,this.StoppedErrorClass=Error,this.ClosedErrorClass=e,this.StoppedErrorClass=t}get size(){return this.pendingTasks.length}close(){if(!this.closed){this.closed=!0;for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.ClosedErrorClass("AwaitQueue closed"));this.pendingTasks.length=0}}push(e,t){return n(this,void 0,void 0,(function*(){if(this.closed)throw new this.ClosedErrorClass("AwaitQueue closed");if("function"!=typeof e)throw new TypeError("given task is not a function");if(!e.name&&t)try{Object.defineProperty(e,"name",{value:t})}catch(e){}return new Promise(((n,r)=>{const i={task:e,name:t,resolve:n,reject:r,stopped:!1,enqueuedAt:new Date,executedAt:void 0};this.pendingTasks.push(i),1===this.pendingTasks.length&&this.next()}))}))}stop(){if(!this.closed){for(const e of this.pendingTasks)e.stopped=!0,e.reject(new this.StoppedErrorClass("AwaitQueue stopped"));this.pendingTasks.length=0}}dump(){const e=new Date;return this.pendingTasks.map((t=>({task:t.task,name:t.name,enqueuedTime:t.executedAt?t.executedAt.getTime()-t.enqueuedAt.getTime():e.getTime()-t.enqueuedAt.getTime(),executingTime:t.executedAt?e.getTime()-t.executedAt.getTime():0})))}next(){return n(this,void 0,void 0,(function*(){const e=this.pendingTasks[0];e&&(yield this.executeTask(e),this.pendingTasks.shift(),this.next())}))}executeTask(e){return n(this,void 0,void 0,(function*(){if(!e.stopped){e.executedAt=new Date;try{const t=yield e.task();if(e.stopped)return;e.resolve(t)}catch(t){if(e.stopped)return;e.reject(t)}}}))}}},1206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(n),a=Math.max(i,s),o=0,c=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===o)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=s.length;t<n;t+=1)o();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},s=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],null&&a(t.prototype,null),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),s=c(n(94)),a=c(n(95)),o=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,s+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),c=o.default.find(a,(function(e){return t.isOS(e)}));if(c){var l=this.satisfies(n[c]);if(void 0!==l)return l}var d=o.default.find(a,(function(e){return t.isPlatform(e)}));if(d){var u=this.satisfies(n[d]);if(void 0!==u)return u}}if(s>0){var p=Object.keys(i),f=o.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(i[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(o.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:s.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:s.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:s.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,a,l;if(o(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"==typeof a?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=a.length,l=d,console&&console.warn&&console.warn(l)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,d=h(c,l);for(n=0;n<l;++n)r(d[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,a;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7855:(e,t,n)=>{const r=n(4276)("h264-profile-level-id");r.log=console.info.bind(console),t.ProfileConstrainedBaseline=1,t.ProfileBaseline=2,t.ProfileMain=3,t.ProfileConstrainedHigh=4,t.ProfileHigh=5;t.Level1_b=0,t.Level1=10,t.Level1_1=11,t.Level1_2=12,t.Level1_3=13,t.Level2=20,t.Level2_1=21,t.Level2_2=22,t.Level3=30,t.Level3_1=31,t.Level3_2=32,t.Level4=40,t.Level4_1=41,t.Level4_2=42,t.Level5=50,t.Level5_1=51,t.Level5_2=52;class i{constructor(e,t){this.profile=e,this.level=t}}t.ProfileLevelId=i;const s=new i(1,31);class a{constructor(e){this._mask=~l("x",e),this._maskedValue=l("1",e)}isMatch(e){return this._maskedValue===(e&this._mask)}}class o{constructor(e,t,n){this.profile_idc=e,this.profile_iop=t,this.profile=n}}const c=[new o(66,new a("x1xx0000"),1),new o(77,new a("1xxx0000"),1),new o(88,new a("11xx0000"),1),new o(66,new a("x0xx0000"),2),new o(88,new a("10xx0000"),2),new o(77,new a("0x0x0000"),3),new o(100,new a("00000000"),5),new o(100,new a("00001100"),4)];function l(e,t){return(t[0]===e)<<7|(t[1]===e)<<6|(t[2]===e)<<5|(t[3]===e)<<4|(t[4]===e)<<3|(t[5]===e)<<2|(t[6]===e)<<1|(t[7]===e)<<0}function d(e={}){const t=e["level-asymmetry-allowed"];return 1===t||"1"===t}t.parseProfileLevelId=function(e){if("string"!=typeof e||6!==e.length)return null;const t=parseInt(e,16);if(0===t)return null;const n=255&t,s=t>>8&255,a=t>>16&255;let o;switch(n){case 11:o=0!=(16&s)?0:11;break;case 10:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:o=n;break;default:return r("parseProfileLevelId() | unrecognized level_idc:%s",n),null}for(const e of c)if(a===e.profile_idc&&e.profile_iop.isMatch(s))return new i(e.profile,o);return r("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},t.profileLevelIdToString=function(e){if(0==e.level)switch(e.profile){case 1:return"42f00b";case 2:return"42100b";case 3:return"4d100b";default:return r("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",e.profile),null}let t;switch(e.profile){case 1:t="42e0";break;case 2:t="4200";break;case 3:t="4d00";break;case 4:t="640c";break;case 5:t="6400";break;default:return r("profileLevelIdToString() | unrecognized profile:%s",e.profile),null}let n=e.level.toString(16);return 1===n.length&&(n=`0${n}`),`${t}${n}`},t.parseSdpProfileLevelId=function(e={}){const n=e["profile-level-id"];return n?t.parseProfileLevelId(n):s},t.isSameProfile=function(e={},n={}){const r=t.parseSdpProfileLevelId(e),i=t.parseSdpProfileLevelId(n);return Boolean(r&&i&&r.profile===i.profile)},t.generateProfileLevelIdForAnswer=function(e={},n={}){if(!e["profile-level-id"]&&!n["profile-level-id"])return r("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;const s=t.parseSdpProfileLevelId(e),a=t.parseSdpProfileLevelId(n);if(!s)throw new TypeError("invalid local_profile_level_id");if(!a)throw new TypeError("invalid remote_profile_level_id");if(s.profile!==a.profile)throw new TypeError("H264 Profile mismatch");const o=d(e)&&d(n),c=s.level,l=function(e,t){return 0===e?10!==t&&0!==t:0===t?10!==e:e<t}(u=c,p=a.level)?u:p;var u,p;const f=o?c:l;return r("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",s.profile,f),t.profileLevelIdToString(new i(s.profile,f))}},4276:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(3465)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},3465:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,s,a=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),s=i-(n||i);r.diff=s,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";a++;const s=t.formatters[i];if("function"==typeof s){const t=e[a];n=s.call(r,t),e.splice(a,1),a--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{a=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(2830),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},2830:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,a){a=a||{};var o,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return a.long?(o=e,(c=Math.abs(o))>=i?s(o,c,i,"day"):c>=r?s(o,c,r,"hour"):c>=n?s(o,c,n,"minute"):c>=t?s(o,c,t,"second"):o+" ms"):function(e){var s=Math.abs(e);return s>=i?Math.round(e/i)+"d":s>=r?Math.round(e/r)+"h":s>=n?Math.round(e/n)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2023:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,i=typeof e;if("string"===i){var s,a=[],o=e.length,c=0;for(r=0;r<o;++r)(s=e.charCodeAt(r))<128?a[c++]=s:s<2048?(a[c++]=192|s>>6,a[c++]=128|63&s):s<55296||s>=57344?(a[c++]=224|s>>12,a[c++]=128|s>>6&63,a[c++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++r)),a[c++]=240|s>>18,a[c++]=128|s>>12&63,a[c++]=128|s>>6&63,a[c++]=128|63&s);e=a}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var l=[],d=[];for(r=0;r<64;++r){var u=e[r]||0;l[r]=92^u,d[r]=54^u}Sha256.call(this,t,n),this.update(d),this.oKeyPad=l,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,i,s=0,a=e.length,o=this.blocks;s<a;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(i=this.start;s<a&&i<64;++s)o[i>>2]|=e[s]<<SHIFT[3&i++];else for(i=this.start;s<a&&i<64;++s)(r=e.charCodeAt(s))<128?o[i>>2]|=r<<SHIFT[3&i++]:r<2048?(o[i>>2]|=(192|r>>6)<<SHIFT[3&i++],o[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(o[i>>2]|=(224|r>>12)<<SHIFT[3&i++],o[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],o[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++s)),o[i>>2]|=(240|r>>18)<<SHIFT[3&i++],o[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],o[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],o[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=o[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,i,s,a,o,c,l=this.h0,d=this.h1,u=this.h2,p=this.h3,f=this.h4,h=this.h5,m=this.h6,g=this.h7,v=this.blocks;for(e=16;e<64;++e)t=((i=v[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=v[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,v[e]=v[e-16]+t+v[e-7]+n<<0;for(c=d&u,e=0;e<64;e+=4)this.first?(this.is224?(s=300032,g=(i=v[0]-1413257819)-150054599<<0,p=i+24177077<<0):(s=704751109,g=(i=v[0]-210244248)-1521486534<<0,p=i+143694565<<0),this.first=!1):(t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(s=l&d)^l&u^c,g=p+(i=g+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&h^~f&m)+K[e]+v[e])<<0,p=i+(t+r)<<0),t=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),r=(a=p&l)^p&d^s,m=u+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&f^~g&h)+K[e+1]+v[e+1])<<0,t=((u=i+(t+r)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&p)^u&l^a,h=d+(i=h+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&f)+K[e+2]+v[e+2])<<0,t=((d=i+(t+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(c=d&u)^d&p^o,f=l+(i=f+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&m^~h&g)+K[e+3]+v[e+3])<<0,l=i+(t+r)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+d<<0,this.h2=this.h2+u<<0,this.h3=this.h3+p<<0,this.h4=this.h4+f<<0,this.h5=this.h5+h<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,a=this.h6,o=this.h7,c=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(c+=HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,a=this.h6,o=this.h7,c=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||c.push(o>>24&255,o>>16&255,o>>8&255,255&o),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},2043:function(e,t,n){var r,i;!function(s,a){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function o(t,n){for(var i=0;i<r.length;i++){var s=r[i];this[s]=i<t?e:this.methodFactory(s,t,n)}this.log=this.debug}function c(e,n,r){return function(){typeof console!==t&&(o.call(this,n,r),this[e].apply(this,arguments))}}function l(e,t,n){return a(e)||c.apply(this,arguments)}function d(e,n,i){var s,a=this;n=null==n?"WARN":n;var c="loglevel";function d(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(c)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||l,a.getLevel=function(){return s},a.setLevel=function(n,i){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(s=n,!1!==i&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{return void(window.localStorage[c]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(e){}}}(n),o.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){n=e,d()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(n,!1),function(){if(typeof window!==t&&c){try{return void window.localStorage.removeItem(c)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var u=d();null==u&&(u=n),a.setLevel(u,!1)}var u=new d,p={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new d(e,u.getLevel(),u.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=f),u},u.getLoggers=function(){return p},u.default=u,u},void 0===(i=r.call(t,n,t,e))||(e.exports=i)}()},9514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Consumer=void 0;const r=n(8562),i=n(4493),s=n(9992),a=new r.Logger("Consumer");class o extends i.EnhancedEventEmitter{constructor({id:e,localId:t,producerId:n,rtpReceiver:r,track:s,rtpParameters:o,appData:c}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,a.debug("constructor()"),this._id=e,this._localId=t,this._producerId=n,this._rtpReceiver=r,this._track=s,this._rtpParameters=o,this._paused=!s.enabled,this._appData=c,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(a.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(a.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new s.InvalidStateError("closed");return this.safeEmitAsPromise("@getstats")}pause(){a.debug("pause()"),this._closed?a.error("pause() | Consumer closed"):(this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause"))}resume(){a.debug("resume()"),this._closed?a.error("resume() | Consumer closed"):(this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume"))}_onTrackEnded(){a.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}_handleTrack(){this._track.addEventListener("ended",this._onTrackEnded)}_destroyTrack(){try{this._track.removeEventListener("ended",this._onTrackEnded),this._track.stop()}catch(e){}}}t.Consumer=o},1623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataConsumer=void 0;const r=n(8562),i=n(4493),s=new r.Logger("DataConsumer");class a extends i.EnhancedEventEmitter{constructor({id:e,dataProducerId:t,dataChannel:n,sctpStreamParameters:r,appData:a}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,s.debug("constructor()"),this._id=e,this._dataProducerId=t,this._dataChannel=n,this._sctpStreamParameters=r,this._appData=a,this._handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(e){this._dataChannel.binaryType=e}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}_handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(s.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?s.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):s.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(s.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"))})),this._dataChannel.addEventListener("message",(e=>{this._closed||this.safeEmit("message",e.data)}))}}t.DataConsumer=a},5504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataProducer=void 0;const r=n(8562),i=n(4493),s=n(9992),a=new r.Logger("DataProducer");class o extends i.EnhancedEventEmitter{constructor({id:e,dataChannel:t,sctpStreamParameters:n,appData:r}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,a.debug("constructor()"),this._id=e,this._dataChannel=t,this._sctpStreamParameters=n,this._appData=r,this._handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){this._dataChannel.bufferedAmountLowThreshold=e}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(a.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(a.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(e){if(a.debug("send()"),this._closed)throw new s.InvalidStateError("closed");this._dataChannel.send(e)}_handleDataChannel(){this._dataChannel.addEventListener("open",(()=>{this._closed||(a.debug('DataChannel "open" event'),this.safeEmit("open"))})),this._dataChannel.addEventListener("error",(e=>{if(this._closed)return;let{error:t}=e;t||(t=new Error("unknown DataChannel error")),"sctp-failure"===t.errorDetail?a.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",t.sctpCauseCode,t.message):a.error('DataChannel "error" event: %o',t),this.safeEmit("error",t)})),this._dataChannel.addEventListener("close",(()=>{this._closed||(a.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"))})),this._dataChannel.addEventListener("message",(()=>{this._closed||a.warn('DataChannel "message" event in a DataProducer, message discarded')})),this._dataChannel.addEventListener("bufferedamountlow",(()=>{this._closed||this.safeEmit("bufferedamountlow")}))}}t.DataProducer=o},3120:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Device=t.detectDevice=void 0;const o=a(n(1206)),c=n(8562),l=n(4493),d=n(9992),u=s(n(3347)),p=s(n(5280)),f=n(5202),h=n(6656),m=n(5372),g=n(5697),v=n(564),y=n(1419),b=n(9862),_=n(2205),w=n(7392),S=n(4770),k=new c.Logger("Device");function C(){if("object"==typeof navigator&&"ReactNative"===navigator.product)return"undefined"==typeof RTCPeerConnection?void k.warn("this._detectDevice() | unsupported ReactNative without RTCPeerConnection"):(k.debug("this._detectDevice() | ReactNative handler chosen"),"ReactNative");if("object"!=typeof navigator||"string"!=typeof navigator.userAgent)k.warn("this._detectDevice() | unknown device");else{const e=navigator.userAgent,t=o.default.getParser(e),n=t.getEngine();if(t.satisfies({chrome:">=74",chromium:">=74","microsoft edge":">=88"}))return"Chrome74";if(t.satisfies({chrome:">=70",chromium:">=70"}))return"Chrome70";if(t.satisfies({chrome:">=67",chromium:">=67"}))return"Chrome67";if(t.satisfies({chrome:">=55",chromium:">=55"}))return"Chrome55";if(t.satisfies({firefox:">=60"}))return"Firefox60";if(t.satisfies({ios:{OS:">=14.3",firefox:">=30.0"}}))return"Safari12";if(t.satisfies({safari:">=12.0"})&&"undefined"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(t.satisfies({safari:">=11"}))return"Safari11";if(t.satisfies({"microsoft edge":">=11"})&&t.satisfies({"microsoft edge":"<=18"}))return"Edge11";if(n.name&&"blink"===n.name.toLowerCase()){const t=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(t){const e=Number(t[1]);return e>=74?"Chrome74":e>=70?"Chrome70":e>=67?"Chrome67":"Chrome55"}return"Chrome74"}k.warn("this._detectDevice() | browser not supported [name:%s, version:%s]",t.getBrowserName(),t.getBrowserVersion())}}t.detectDevice=C,t.Device=class{constructor({handlerName:e,handlerFactory:t,Handler:n}={}){if(this._loaded=!1,this._observer=new l.EnhancedEventEmitter,k.debug("constructor()"),n){if(k.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),"string"!=typeof n)throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");e=n}if(e&&t)throw new TypeError("just one of handlerName or handlerInterface can be given");if(t)this._handlerFactory=t;else{if(e)k.debug("constructor() | handler given: %s",e);else{if(!(e=C()))throw new d.UnsupportedError("device not supported");k.debug("constructor() | detected handler: %s",e)}switch(e){case"Chrome74":this._handlerFactory=h.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=m.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=g.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=v.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=y.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=b.Safari12.createFactory();break;case"Safari11":this._handlerFactory=_.Safari11.createFactory();break;case"Edge11":this._handlerFactory=w.Edge11.createFactory();break;case"ReactNative":this._handlerFactory=S.ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${e}"`)}}const r=this._handlerFactory();this._handlerName=r.name,r.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new d.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new d.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:e}){let t;k.debug("load() [routerRtpCapabilities:%o]",e),e=u.clone(e,void 0);try{if(this._loaded)throw new d.InvalidStateError("already loaded");p.validateRtpCapabilities(e),t=this._handlerFactory();const n=await t.getNativeRtpCapabilities();k.debug("load() | got native RTP capabilities:%o",n),p.validateRtpCapabilities(n),this._extendedRtpCapabilities=p.getExtendedRtpCapabilities(n,e),k.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=p.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=p.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=p.getRecvRtpCapabilities(this._extendedRtpCapabilities),p.validateRtpCapabilities(this._recvRtpCapabilities),k.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await t.getNativeSctpCapabilities(),k.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),p.validateSctpCapabilities(this._sctpCapabilities),k.debug("load() succeeded"),this._loaded=!0,t.close()}catch(e){throw t&&t.close(),e}}canProduce(e){if(!this._loaded)throw new d.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError(`invalid kind "${e}"`);return this._canProduceByKind[e]}createSendTransport({id:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,appData:l={}}){return k.debug("createSendTransport()"),this._createTransport({direction:"send",id:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,appData:l})}createRecvTransport({id:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,appData:l={}}){return k.debug("createRecvTransport()"),this._createTransport({direction:"recv",id:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,appData:l})}_createTransport({direction:e,id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:u={}}){if(!this._loaded)throw new d.InvalidStateError("not loaded");if("string"!=typeof t)throw new TypeError("missing id");if("object"!=typeof n)throw new TypeError("missing iceParameters");if(!Array.isArray(r))throw new TypeError("missing iceCandidates");if("object"!=typeof i)throw new TypeError("missing dtlsParameters");if(s&&"object"!=typeof s)throw new TypeError("wrong sctpParameters");if(u&&"object"!=typeof u)throw new TypeError("if given, appData must be an object");const p=new f.Transport({direction:e,id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:a,iceTransportPolicy:o,additionalSettings:c,proprietaryConstraints:l,appData:u,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",p),p}}},4493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedEventEmitter=void 0;const r=n(7187),i=new(n(8562).Logger)("EnhancedEventEmitter");class s extends r.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}safeEmit(e,...t){const n=this.listenerCount(e);try{return this.emit(e,...t)}catch(t){return i.error("safeEmit() | event listener threw an error [event:%s]:%o",e,t),Boolean(n)}}async safeEmitAsPromise(e,...t){return new Promise(((n,r)=>{try{this.emit(e,...t,n,r)}catch(t){i.error("safeEmitAsPromise() | event listener threw an error [event:%s]:%o",e,t),r(t)}}))}}t.EnhancedEventEmitter=s},8562:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const i=r(n(388)),s="mediasoup-client";t.Logger=class{constructor(e){e?(this._debug=(0,i.default)(`${s}:${e}`),this._warn=(0,i.default)(`${s}:WARN:${e}`),this._error=(0,i.default)(`${s}:ERROR:${e}`)):(this._debug=(0,i.default)(s),this._warn=(0,i.default)(`${s}:WARN`),this._error=(0,i.default)(`${s}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}},6569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Producer=void 0;const r=n(8562),i=n(4493),s=n(9992),a=new r.Logger("Producer");class o extends i.EnhancedEventEmitter{constructor({id:e,localId:t,rtpSender:n,track:r,rtpParameters:s,stopTracks:o,disableTrackOnPause:c,zeroRtpOnPause:l,appData:d}){super(),this._closed=!1,this._observer=new i.EnhancedEventEmitter,a.debug("constructor()"),this._id=e,this._localId=t,this._rtpSender=n,this._track=r,this._kind=r.kind,this._rtpParameters=s,this._paused=!!c&&!r.enabled,this._maxSpatialLayer=void 0,this._stopTracks=o,this._disableTrackOnPause=c,this._zeroRtpOnPause=l,this._appData=d,this._onTrackEnded=this._onTrackEnded.bind(this),this._handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){this._closed||(a.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(a.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new s.InvalidStateError("closed");return this.safeEmitAsPromise("@getstats")}pause(){a.debug("pause()"),this._closed?a.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",null).catch((()=>{})),this._observer.safeEmit("pause"))}resume(){a.debug("resume()"),this._closed?a.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",this._track).catch((()=>{})),this._observer.safeEmit("resume"))}async replaceTrack({track:e}){if(a.debug("replaceTrack() [track:%o]",e),this._closed){if(e&&this._stopTracks)try{e.stop()}catch(e){}throw new s.InvalidStateError("closed")}if(e&&"ended"===e.readyState)throw new s.InvalidStateError("track ended");e!==this._track?(this._zeroRtpOnPause&&this._paused||await this.safeEmitAsPromise("@replacetrack",e),this._destroyTrack(),this._track=e,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this._handleTrack()):a.debug("replaceTrack() | same track, ignored")}async setMaxSpatialLayer(e){if(this._closed)throw new s.InvalidStateError("closed");if("video"!==this._kind)throw new s.UnsupportedError("not a video Producer");if("number"!=typeof e)throw new TypeError("invalid spatialLayer");e!==this._maxSpatialLayer&&(await this.safeEmitAsPromise("@setmaxspatiallayer",e),this._maxSpatialLayer=e)}async setRtpEncodingParameters(e){if(this._closed)throw new s.InvalidStateError("closed");if("object"!=typeof e)throw new TypeError("invalid params");await this.safeEmitAsPromise("@setrtpencodingparameters",e)}_onTrackEnded(){a.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}_handleTrack(){this._track&&this._track.addEventListener("ended",this._onTrackEnded)}_destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this._onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}t.Producer=o},4879:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5202:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const a=n(2186),o=n(8562),c=n(4493),l=n(9992),d=s(n(3347)),u=s(n(5280)),p=n(6569),f=n(9514),h=n(5504),m=n(1623);class g{constructor(e){this.consumerOptions=e,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const v=new o.Logger("Transport");class y extends c.EnhancedEventEmitter{constructor({direction:e,id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:u,additionalSettings:p,proprietaryConstraints:f,appData:h,handlerFactory:m,extendedRtpCapabilities:g,canProduceByKind:y}){super(),this._closed=!1,this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new a.AwaitQueue({ClosedErrorClass:l.InvalidStateError}),this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._observer=new c.EnhancedEventEmitter,v.debug("constructor() [id:%s, direction:%s]",t,e),this._id=t,this._direction=e,this._extendedRtpCapabilities=g,this._canProduceByKind=y,this._maxSctpMessageSize=s?s.maxMessageSize:null,delete(p=d.clone(p,{})).iceServers,delete p.iceTransportPolicy,delete p.bundlePolicy,delete p.rtcpMuxPolicy,delete p.sdpSemantics,this._handler=m(),this._handler.run({direction:e,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:s,iceServers:o,iceTransportPolicy:u,additionalSettings:p,proprietaryConstraints:f,extendedRtpCapabilities:g}),this._appData=h,this._handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(e){throw new Error("cannot override appData object")}get observer(){return this._observer}close(){if(!this._closed){v.debug("close()"),this._closed=!0,this._awaitQueue.close(),this._handler.close();for(const e of this._producers.values())e.transportClosed();this._producers.clear();for(const e of this._consumers.values())e.transportClosed();this._consumers.clear();for(const e of this._dataProducers.values())e.transportClosed();this._dataProducers.clear();for(const e of this._dataConsumers.values())e.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new l.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:e}){if(v.debug("restartIce()"),this._closed)throw new l.InvalidStateError("closed");if(!e)throw new TypeError("missing iceParameters");return this._awaitQueue.push((async()=>this._handler.restartIce(e)),"transport.restartIce()")}async updateIceServers({iceServers:e}={}){if(v.debug("updateIceServers()"),this._closed)throw new l.InvalidStateError("closed");if(!Array.isArray(e))throw new TypeError("missing iceServers");return this._awaitQueue.push((async()=>this._handler.updateIceServers(e)),"transport.updateIceServers()")}async produce({track:e,encodings:t,codecOptions:n,codec:r,stopTracks:i=!0,disableTrackOnPause:s=!0,zeroRtpOnPause:a=!1,appData:o={}}={}){if(v.debug("produce() [track:%o]",e),!e)throw new TypeError("missing track");if("send"!==this._direction)throw new l.UnsupportedError("not a sending Transport");if(!this._canProduceByKind[e.kind])throw new l.UnsupportedError(`cannot produce ${e.kind}`);if("ended"===e.readyState)throw new l.InvalidStateError("track ended");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("produce"))throw new TypeError('no "produce" listener set into this transport');if(o&&"object"!=typeof o)throw new TypeError("if given, appData must be an object");return this._awaitQueue.push((async()=>{let c;if(t&&!Array.isArray(t))throw TypeError("encodings must be an array");t&&0===t.length?c=void 0:t&&(c=t.map((e=>{const t={active:!0};return!1===e.active&&(t.active=!1),"boolean"==typeof e.dtx&&(t.dtx=e.dtx),"string"==typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"==typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"==typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"==typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"==typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"==typeof e.priority&&(t.priority=e.priority),"string"==typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t})));const{localId:l,rtpParameters:d,rtpSender:f}=await this._handler.send({track:e,encodings:c,codecOptions:n,codec:r});try{u.validateRtpParameters(d);const{id:t}=await this.safeEmitAsPromise("produce",{kind:e.kind,rtpParameters:d,appData:o}),n=new p.Producer({id:t,localId:l,rtpSender:f,track:e,rtpParameters:d,stopTracks:i,disableTrackOnPause:s,zeroRtpOnPause:a,appData:o});return this._producers.set(n.id,n),this._handleProducer(n),this._observer.safeEmit("newproducer",n),n}catch(e){throw this._handler.stopSending(l).catch((()=>{})),e}}),"transport.produce()").catch((t=>{if(i)try{e.stop()}catch(e){}throw t}))}async consume({id:e,producerId:t,kind:n,rtpParameters:r,appData:i={}}){if(v.debug("consume()"),r=d.clone(r,void 0),this._closed)throw new l.InvalidStateError("closed");if("recv"!==this._direction)throw new l.UnsupportedError("not a receiving Transport");if("string"!=typeof e)throw new TypeError("missing id");if("string"!=typeof t)throw new TypeError("missing producerId");if("audio"!==n&&"video"!==n)throw new TypeError(`invalid kind '${n}'`);if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(i&&"object"!=typeof i)throw new TypeError("if given, appData must be an object");if(!u.canReceive(r,this._extendedRtpCapabilities))throw new l.UnsupportedError("cannot consume this Producer");const s=new g({id:e,producerId:t,kind:n,rtpParameters:r,appData:i});return this._pendingConsumerTasks.push(s),!1===this._consumerCreationInProgress&&this._createPendingConsumers(),s.promise}async produceData({ordered:e=!0,maxPacketLifeTime:t,maxRetransmits:n,label:r="",protocol:i="",appData:s={}}={}){if(v.debug("produceData()"),"send"!==this._direction)throw new l.UnsupportedError("not a sending Transport");if(!this._maxSctpMessageSize)throw new l.UnsupportedError("SCTP not enabled by remote Transport");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount("producedata"))throw new TypeError('no "producedata" listener set into this transport');if(s&&"object"!=typeof s)throw new TypeError("if given, appData must be an object");return(t||n)&&(e=!1),this._awaitQueue.push((async()=>{const{dataChannel:a,sctpStreamParameters:o}=await this._handler.sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i});u.validateSctpStreamParameters(o);const{id:c}=await this.safeEmitAsPromise("producedata",{sctpStreamParameters:o,label:r,protocol:i,appData:s}),l=new h.DataProducer({id:c,dataChannel:a,sctpStreamParameters:o,appData:s});return this._dataProducers.set(l.id,l),this._handleDataProducer(l),this._observer.safeEmit("newdataproducer",l),l}),"transport.produceData()")}async consumeData({id:e,dataProducerId:t,sctpStreamParameters:n,label:r="",protocol:i="",appData:s={}}){if(v.debug("consumeData()"),n=d.clone(n,void 0),this._closed)throw new l.InvalidStateError("closed");if("recv"!==this._direction)throw new l.UnsupportedError("not a receiving Transport");if(!this._maxSctpMessageSize)throw new l.UnsupportedError("SCTP not enabled by remote Transport");if("string"!=typeof e)throw new TypeError("missing id");if("string"!=typeof t)throw new TypeError("missing dataProducerId");if(0===this.listenerCount("connect")&&"new"===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(s&&"object"!=typeof s)throw new TypeError("if given, appData must be an object");return u.validateSctpStreamParameters(n),this._awaitQueue.push((async()=>{const{dataChannel:a}=await this._handler.receiveDataChannel({sctpStreamParameters:n,label:r,protocol:i}),o=new m.DataConsumer({id:e,dataProducerId:t,dataChannel:a,sctpStreamParameters:n,appData:s});return this._dataConsumers.set(o.id,o),this._handleDataConsumer(o),this._observer.safeEmit("newdataconsumer",o),o}),"transport.consumeData()")}async _createPendingConsumers(){this._awaitQueue.push((async()=>{this._consumerCreationInProgress=!0;const e=[...this._pendingConsumerTasks];let t;this._pendingConsumerTasks=[];const n=[];for(const t of e){const{id:e,kind:r,rtpParameters:i}=t.consumerOptions;n.push({trackId:e,kind:r,rtpParameters:i})}try{const r=await this._handler.receive(n);for(let n=0;n<r.length;n++){const i=e[n],s=r[n],{id:a,producerId:o,kind:c,rtpParameters:l,appData:d}=i.consumerOptions,{localId:u,rtpReceiver:p,track:h}=s,m=new f.Consumer({id:a,localId:u,producerId:o,rtpReceiver:p,track:h,rtpParameters:l,appData:d});this._consumers.set(m.id,m),this._handleConsumer(m),this._probatorConsumerCreated||t||"video"!==c||(t=m),this._observer.safeEmit("newconsumer",m),i.resolve(m)}}catch(t){for(const n of e)n.reject(t)}if(t)try{const e=u.generateProbatorRtpParameters(t.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:e}]),v.debug("_createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(e){v.error("_createPendingConsumers() | failed to create Consumer for RTP probation:%o",e)}this._consumerCreationInProgress=!1}),"transport._createPendingConsumers()").then((()=>{this._pendingConsumerTasks.length>0&&this._createPendingConsumers()})).catch((()=>{}))}_pausePendingConsumers(){this._awaitQueue.push((async()=>{this._consumerPauseInProgress=!0;const e=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear(),await this._handler.pauseReceiving(e.map((e=>e.localId)))}),"consumer @pause event").catch((()=>{})).finally((()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this._pausePendingConsumers()}))}_resumePendingConsumers(){this._awaitQueue.push((async()=>{this._consumerResumeInProgress=!0;const e=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear(),await this._handler.resumeReceiving(e.map((e=>e.localId)))}),"consumer @resume event").catch((()=>{})).finally((()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this._resumePendingConsumers()}))}_handleHandler(){const e=this._handler;e.on("@connect",(({dtlsParameters:e},t,n)=>{this._closed?n(new l.InvalidStateError("closed")):this.safeEmit("connect",{dtlsParameters:e},t,n)})),e.on("@connectionstatechange",(e=>{e!==this._connectionState&&(v.debug("connection state changed to %s",e),this._connectionState=e,this._closed||this.safeEmit("connectionstatechange",e))}))}_handleProducer(e){e.on("@close",(()=>{this._producers.delete(e.id),this._closed||this._awaitQueue.push((async()=>this._handler.stopSending(e.localId)),"producer @close event").catch((e=>v.warn("producer.close() failed:%o",e)))})),e.on("@replacetrack",((t,n,r)=>{this._awaitQueue.push((async()=>this._handler.replaceTrack(e.localId,t)),"producer @replacetrack event").then(n).catch(r)})),e.on("@setmaxspatiallayer",((t,n,r)=>{this._awaitQueue.push((async()=>this._handler.setMaxSpatialLayer(e.localId,t)),"producer @setmaxspatiallayer event").then(n).catch(r)})),e.on("@setrtpencodingparameters",((t,n,r)=>{this._awaitQueue.push((async()=>this._handler.setRtpEncodingParameters(e.localId,t)),"producer @setrtpencodingparameters event").then(n).catch(r)})),e.on("@getstats",((t,n)=>{if(this._closed)return n(new l.InvalidStateError("closed"));this._handler.getSenderStats(e.localId).then(t).catch(n)}))}_handleConsumer(e){e.on("@close",(()=>{this._consumers.delete(e.id),this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.delete(e.id),this._closed||this._awaitQueue.push((async()=>this._handler.stopReceiving(e.localId)),"consumer @close event").catch((()=>{}))})),e.on("@pause",(()=>{this._pendingResumeConsumers.has(e.id)&&this._pendingResumeConsumers.delete(e.id),this._pendingPauseConsumers.set(e.id,e),!1===this._consumerPauseInProgress&&this._pausePendingConsumers()})),e.on("@resume",(()=>{this._pendingPauseConsumers.has(e.id)&&this._pendingPauseConsumers.delete(e.id),this._pendingResumeConsumers.set(e.id,e),!1===this._consumerResumeInProgress&&this._resumePendingConsumers()})),e.on("@getstats",((t,n)=>{if(this._closed)return n(new l.InvalidStateError("closed"));this._handler.getReceiverStats(e.localId).then(t).catch(n)}))}_handleDataProducer(e){e.on("@close",(()=>{this._dataProducers.delete(e.id)}))}_handleDataConsumer(e){e.on("@close",(()=>{this._dataConsumers.delete(e.id)}))}}t.Transport=y},9992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStateError=t.UnsupportedError=void 0;class n extends Error{constructor(e){super(e),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,n):this.stack=new Error(e).stack}}t.UnsupportedError=n;class r extends Error{constructor(e){super(e),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,r):this.stack=new Error(e).stack}}t.InvalidStateError=r},564:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome55=void 0;const a=s(n(766)),o=n(8562),c=n(9992),l=s(n(3347)),d=s(n(5280)),u=s(n(2267)),p=s(n(9875)),f=n(9316),h=n(7910),m=new o.Logger("Chrome55"),g={OS:1024,MIS:1024};class v extends f.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"Chrome55"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const n=a.parse(t.sdp);return u.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:l}){m.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",l),video:d.getSendingRtpParameters("video",l)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",l),video:d.getSendingRemoteRtpParameters("video",l)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&m.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let s,o=await this._pc.createOffer(),c=a.parse(o.sdp);const f=l.clone(this._sendingRtpParametersByKind[e.kind],{});f.codecs=d.reduceCodecs(f.codecs);const h=l.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(h.codecs=d.reduceCodecs(h.codecs),this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:c}),"video"===e.kind&&t&&t.length>1&&(m.debug("send() | enabling simulcast"),c=a.parse(o.sdp),s=c.media.find((e=>"video"===e.type)),p.addLegacySimulcast({offerMediaObject:s,track:e,numStreams:t.length}),o={type:"offer",sdp:a.write(c)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),c=a.parse(this._pc.localDescription.sdp),s=c.media.find((t=>t.type===e.kind)),f.rtcp.cname=u.getCname({offerMediaObject:s}),f.encodings=p.getRtpEncodings({offerMediaObject:s,track:e}),t)for(let e=0;e<f.encodings.length;++e)t[e]&&Object.assign(f.encodings[e],t[e]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const e of f.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:f,answerRtpParameters:h,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const v=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(v,e),{localId:v,rtpParameters:f}}async stopSending(e){this._assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void m.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}async replaceTrack(e,t){throw new c.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new c.UnsupportedError(" not implemented")}async setRtpEncodingParameters(e,t){throw new c.UnsupportedError("not supported")}async getSenderStats(e){throw new c.UnsupportedError("not implemented")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var s;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=a.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(s=this._forcedLocalDtlsRole)&&void 0!==s?s:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[];for(const t of e){const{trackId:e,kind:n,rtpParameters:r}=t;m.debug("receive() [trackId:%s, kind:%s]",e,n);const i=n,s=r.rtcp.cname;this._remoteSdp.receive({mid:i,kind:n,offerRtpParameters:r,streamId:s,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=a.parse(i.sdp);for(const t of e){const{kind:e,rtpParameters:n}=t,r=e,i=s.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i})}i={type:"answer",sdp:a.write(s)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const t of e){const{kind:e,trackId:r,rtpParameters:i}=t,s=e,a=r,o=i.rtcp.cname,c=this._pc.getRemoteStreams().find((e=>e.id===o)).getTrackById(a);if(!c)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(a,{mid:s,rtpParameters:i}),n.push({localId:a,track:c})}return n}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const r={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const i=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new c.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=a.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=a.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome55=v},5697:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome67=void 0;const a=s(n(766)),o=n(8562),c=s(n(3347)),l=s(n(5280)),d=s(n(2267)),u=s(n(9875)),p=n(9316),f=n(7910),h=new o.Logger("Chrome67"),m={OS:1024,MIS:1024};class g extends p.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new g}get name(){return"Chrome67"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const n=a.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:m}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){h.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){h.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&h.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let s,o=await this._pc.createOffer(),p=a.parse(o.sdp);const f=c.clone(this._sendingRtpParametersByKind[e.kind],{});f.codecs=l.reduceCodecs(f.codecs);const m=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(m.codecs=l.reduceCodecs(m.codecs),this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:p}),"video"===e.kind&&t&&t.length>1&&(h.debug("send() | enabling simulcast"),p=a.parse(o.sdp),s=p.media.find((e=>"video"===e.type)),u.addLegacySimulcast({offerMediaObject:s,track:e,numStreams:t.length}),o={type:"offer",sdp:a.write(p)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),p=a.parse(this._pc.localDescription.sdp),s=p.media.find((t=>t.type===e.kind)),f.rtcp.cname=d.getCname({offerMediaObject:s}),f.encodings=u.getRtpEncodings({offerMediaObject:s,track:e}),t)for(let e=0;e<f.encodings.length;++e)t[e]&&Object.assign(f.encodings[e],t[e]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const e of f.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:f,answerRtpParameters:m,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const v=String(this._nextSendLocalId);this._nextSendLocalId++;const y=this._pc.getSenders().find((t=>t.track===e));return this._mapSendLocalIdRtpSender.set(v,y),{localId:v,rtpParameters:f,rtpSender:y}}async stopSending(e){this._assertSendDirection(),h.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const n=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void h.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.track;await n.replaceTrack(t),r&&this._sendStream.removeTrack(r),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var s;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:i};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=a.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(s=this._forcedLocalDtlsRole)&&void 0!==s?s:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[];for(const t of e){const{trackId:e,kind:n,rtpParameters:r}=t;h.debug("receive() [trackId:%s, kind:%s]",e,n);const i=n;this._remoteSdp.receive({mid:i,kind:n,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=a.parse(i.sdp);for(const t of e){const{kind:e,rtpParameters:n}=t,r=e,i=s.media.find((e=>String(e.mid)===r));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i})}i={type:"answer",sdp:a.write(s)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const t of e){const{kind:e,trackId:r,rtpParameters:i}=t,s=r,a=e,o=this._pc.getReceivers().find((e=>e.track&&e.track.id===s));if(!o)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(s,{mid:a,rtpParameters:i,rtpReceiver:o}),n.push({localId:s,track:o.track,rtpReceiver:o})}return n}async stopReceiving(e){this._assertRecvDirection(),h.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const r={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const i=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:n};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=a.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=a.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome67=g},5372:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome70=void 0;const a=s(n(766)),o=n(8562),c=s(n(3347)),l=s(n(5280)),d=s(n(2267)),u=s(n(9072)),p=n(9316),f=n(7910),h=n(2770),m=new o.Logger("Chrome70"),g={OS:1024,MIS:1024};class v extends p.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"Chrome70"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const n=a.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){m.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id);const s=c.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=l.reduceCodecs(s.codecs,r);const o=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});o.codecs=l.reduceCodecs(o.codecs,r);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});let g,v=await this._pc.createOffer(),y=a.parse(v.sdp);this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:y}),t&&t.length>1&&(m.debug("send() | enabling legacy simulcast"),y=a.parse(v.sdp),g=y.media[p.idx],u.addLegacySimulcast({offerMediaObject:g,numStreams:t.length}),v={type:"offer",sdp:a.write(y)});let b=!1;const _=(0,h.parse)((t||[{}])[0].scalabilityMode);if(t&&1===t.length&&_.spatialLayers>1&&"video/vp9"===s.codecs[0].mimeType.toLowerCase()&&(m.debug("send() | enabling legacy simulcast for VP9 SVC"),b=!0,y=a.parse(v.sdp),g=y.media[p.idx],u.addLegacySimulcast({offerMediaObject:g,numStreams:_.spatialLayers}),v={type:"offer",sdp:a.write(y)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v),t){m.debug("send() | applying given encodings");const e=f.sender.getParameters();for(let n=0;n<(e.encodings||[]).length;++n){const r=e.encodings[n],i=t[n];if(!i)break;e.encodings[n]=Object.assign(r,i)}await f.sender.setParameters(e)}const w=f.mid;if(s.mid=w,y=a.parse(this._pc.localDescription.sdp),g=y.media[p.idx],s.rtcp.cname=d.getCname({offerMediaObject:g}),s.encodings=u.getRtpEncodings({offerMediaObject:g}),t)for(let e=0;e<s.encodings.length;++e)t[e]&&Object.assign(s.encodings[e],t[e]);if(b&&(s.encodings=[s.encodings[0]]),s.encodings.length>1&&("video/vp8"===s.codecs[0].mimeType.toLowerCase()||"video/h264"===s.codecs[0].mimeType.toLowerCase()))for(const e of s.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:p.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:n});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,f),{localId:w,rtpParameters:s,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._mapMidTransceiver.delete(e)}async replaceTrack(e,t){this._assertSendDirection(),t?m.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):m.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),m.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.sender.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),m.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.sender.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var s;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=a.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(s=this._forcedLocalDtlsRole)&&void 0!==s?s:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[],r=new Map;for(const t of e){const{trackId:e,kind:n,rtpParameters:i}=t;m.debug("receive() [trackId:%s, kind:%s]",e,n);const s=i.mid||String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:n,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=a.parse(s.sdp);for(const t of e){const{trackId:e,rtpParameters:n}=t,i=r.get(e),s=o.media.find((e=>String(e.mid)===i));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s})}s={type:"answer",sdp:a.write(o)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:o}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const t of e){const{trackId:e}=t,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),n.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return n}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r),this._mapMidTransceiver.delete(e)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=a.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=a.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome70=v},6656:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome74=void 0;const a=s(n(766)),o=n(8562),c=s(n(3347)),l=s(n(5280)),d=s(n(2267)),u=s(n(9072)),p=n(9316),f=n(7910),h=n(2770),m=new o.Logger("Chrome74"),g={OS:1024,MIS:1024};class v extends p.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"Chrome74"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const n=a.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){m.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),t&&t.length>1&&t.forEach(((e,t)=>{e.rid=`r${t}`}));const s=c.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=l.reduceCodecs(s.codecs,r);const o=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});o.codecs=l.reduceCodecs(o.codecs,r);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream],sendEncodings:t});let g,v=await this._pc.createOffer(),y=a.parse(v.sdp);this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:y});let b=!1;const _=(0,h.parse)((t||[{}])[0].scalabilityMode);t&&1===t.length&&_.spatialLayers>1&&"video/vp9"===s.codecs[0].mimeType.toLowerCase()&&(m.debug("send() | enabling legacy simulcast for VP9 SVC"),b=!0,y=a.parse(v.sdp),g=y.media[p.idx],u.addLegacySimulcast({offerMediaObject:g,numStreams:_.spatialLayers}),v={type:"offer",sdp:a.write(y)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const w=f.mid;if(s.mid=w,y=a.parse(this._pc.localDescription.sdp),g=y.media[p.idx],s.rtcp.cname=d.getCname({offerMediaObject:g}),t)if(1===t.length){let e=u.getRtpEncodings({offerMediaObject:g});Object.assign(e[0],t[0]),b&&(e=[e[0]]),s.encodings=e}else s.encodings=t;else s.encodings=u.getRtpEncodings({offerMediaObject:g});if(s.encodings.length>1&&("video/vp8"===s.codecs[0].mimeType.toLowerCase()||"video/h264"===s.codecs[0].mimeType.toLowerCase()))for(const e of s.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:p.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:n,extmapAllowMixed:!0});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,f),{localId:w,rtpParameters:s,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._mapMidTransceiver.delete(e)}async replaceTrack(e,t){this._assertSendDirection(),t?m.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):m.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),m.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.sender.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),m.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.sender.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var s;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=a.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(s=this._forcedLocalDtlsRole)&&void 0!==s?s:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[],r=new Map;for(const t of e){const{trackId:e,kind:n,rtpParameters:i}=t;m.debug("receive() [trackId:%s, kind:%s]",e,n);const s=i.mid||String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:n,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=a.parse(s.sdp);for(const t of e){const{trackId:e,rtpParameters:n}=t,i=r.get(e),s=o.media.find((e=>String(e.mid)===i));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s})}s={type:"answer",sdp:a.write(o)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:o}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const t of e){const{trackId:e}=t,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),n.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return n}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r),this._mapMidTransceiver.delete(e)}async pauseReceiving(e){this._assertRecvDirection();for(const t of e){m.debug("pauseReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();m.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this._assertRecvDirection();for(const t of e){m.debug("resumeReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();m.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=a.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=a.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Chrome74=v},7392:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Edge11=void 0;const a=n(8562),o=n(9992),c=s(n(3347)),l=s(n(5280)),d=s(n(3635)),u=n(9316),p=new a.Logger("Edge11");class f extends u.HandlerInterface{constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}static createFactory(){return()=>new f}get name(){return"Edge11"}close(){p.debug("close()");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(const e of this._rtpSenders.values())try{e.stop()}catch(e){}for(const e of this._rtpReceivers.values())try{e.stop()}catch(e){}}async getNativeRtpCapabilities(){return p.debug("getNativeRtpCapabilities()"),d.getCapabilities()}async getNativeSctpCapabilities(){return p.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:d,extendedRtpCapabilities:u}){p.debug("run()"),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",u),video:l.getSendingRtpParameters("video",u)},this._remoteIceParameters=t,this._remoteIceCandidates=n,this._remoteDtlsParameters=r,this._cname=`CNAME-${c.generateRandomNumber()}`,this._setIceGatherer({iceServers:s,iceTransportPolicy:a}),this._setIceTransport(),this._setDtlsTransport()}async updateIceServers(e){throw new o.UnsupportedError("not supported")}async restartIce(e){if(p.debug("restartIce()"),this._remoteIceParameters=e,this._transportReady){p.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,e,"controlling");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){p.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),this._transportReady||await this._setupTransport({localDtlsRole:"server"}),p.debug("send() | calling new RTCRtpSender()");const i=new RTCRtpSender(e,this._dtlsTransport),s=c.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=l.reduceCodecs(s.codecs,r);const a=s.codecs.some((e=>/.+\/rtx$/i.test(e.mimeType)));t||(t=[{}]);for(const e of t)e.ssrc=c.generateRandomNumber(),a&&(e.rtx={ssrc:c.generateRandomNumber()});s.encodings=t,s.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const o=d.mangleRtpParameters(s);p.debug("send() | calling rtpSender.send() [params:%o]",o),await i.send(o);const u=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(u,i),{localId:u,rtpParameters:s,rtpSender:i}}async stopSending(e){p.debug("stopSending() [localId:%s]",e);const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(e);try{p.debug("stopSending() | calling rtpSender.stop()"),t.stop()}catch(e){throw p.warn("stopSending() | rtpSender.stop() failed:%o",e),e}}async replaceTrack(e,t){t?p.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):p.debug("replaceTrack() [localId:%s, no track]",e);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(t)}async setMaxSpatialLayer(e,t){p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.setParameters(r)}async setRtpEncodingParameters(e,t){p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._rtpSenders.get(e);if(!n)throw new Error("RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.setParameters(r)}async getSenderStats(e){const t=this._rtpSenders.get(e);if(!t)throw new Error("RTCRtpSender not found");return t.getStats()}async sendDataChannel(e){throw new o.UnsupportedError("not implemented")}async receive(e){const t=[];for(const t of e){const{trackId:e,kind:n}=t;p.debug("receive() [trackId:%s, kind:%s]",e,n)}this._transportReady||await this._setupTransport({localDtlsRole:"server"});for(const n of e){const{trackId:e,kind:r,rtpParameters:i}=n;p.debug("receive() | calling new RTCRtpReceiver()");const s=new RTCRtpReceiver(this._dtlsTransport,r);s.addEventListener("error",(e=>{p.error('rtpReceiver "error" event [event:%o]',e)}));const a=d.mangleRtpParameters(i);p.debug("receive() | calling rtpReceiver.receive() [params:%o]",a),await s.receive(a);const o=e;this._rtpReceivers.set(o,s),t.push({localId:o,track:s.track,rtpReceiver:s})}return t}async stopReceiving(e){p.debug("stopReceiving() [localId:%s]",e);const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(e);try{p.debug("stopReceiving() | calling rtpReceiver.stop()"),t.stop()}catch(e){p.warn("stopReceiving() | rtpReceiver.stop() failed:%o",e)}}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){const t=this._rtpReceivers.get(e);if(!t)throw new Error("RTCRtpReceiver not found");return t.getStats()}async receiveDataChannel(e){throw new o.UnsupportedError("not implemented")}_setIceGatherer({iceServers:e,iceTransportPolicy:t}){const n=new RTCIceGatherer({iceServers:e||[],gatherPolicy:t||"all"});n.addEventListener("error",(e=>{p.error('iceGatherer "error" event [event:%o]',e)}));try{n.gather()}catch(e){p.debug("_setIceGatherer() | iceGatherer.gather() failed: %s",e.toString())}this._iceGatherer=n}_setIceTransport(){const e=new RTCIceTransport(this._iceGatherer);e.addEventListener("statechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("icestatechange",(()=>{switch(e.state){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})),e.addEventListener("candidatepairchange",(e=>{p.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)})),this._iceTransport=e}_setDtlsTransport(){const e=new RTCDtlsTransport(this._iceTransport);e.addEventListener("statechange",(()=>{p.debug('dtlsTransport "statechange" event [state:%s]',e.state)})),e.addEventListener("dtlsstatechange",(()=>{p.debug('dtlsTransport "dtlsstatechange" event [state:%s]',e.state),"closed"===e.state&&this.emit("@connectionstatechange","closed")})),e.addEventListener("error",(e=>{p.error('dtlsTransport "error" event [event:%o]',e)})),this._dtlsTransport=e}async _setupTransport({localDtlsRole:e}){p.debug("_setupTransport()");const t=this._dtlsTransport.getLocalParameters();t.role=e,await this.safeEmitAsPromise("@connect",{dtlsParameters:t}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const e of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(e);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter((e=>"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm)),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}t.Edge11=f},1419:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox60=void 0;const a=s(n(766)),o=n(8562),c=n(9992),l=s(n(3347)),d=s(n(5280)),u=s(n(2267)),p=s(n(9072)),f=n(9316),h=n(7910),m=new o.Logger("Firefox60"),g={OS:16,MIS:2048};class v extends f.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"Firefox60"}close(){if(m.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");const n=t.captureStream().getVideoTracks()[0];try{e.addTransceiver("audio",{direction:"sendrecv"});const r=e.addTransceiver(n,{direction:"sendrecv"}),i=r.sender.getParameters(),s=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];i.encodings=s,await r.sender.setParameters(i);const o=await e.createOffer();try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}const c=a.parse(o.sdp);return u.extractRtpCapabilities({sdpObject:c})}catch(r){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}throw r}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:l}){m.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",l),video:d.getSendingRtpParameters("video",l)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",l),video:d.getSendingRemoteRtpParameters("video",l)},this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){throw new c.UnsupportedError("not supported")}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),t&&(t=l.clone(t,[])).length>1&&(t.forEach(((e,t)=>{e.rid=`r${t}`})),t.reverse());const i=l.clone(this._sendingRtpParametersByKind[e.kind],{});i.codecs=d.reduceCodecs(i.codecs,r);const s=l.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});s.codecs=d.reduceCodecs(s.codecs,r);const o=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});if(t){const e=o.sender.getParameters();e.encodings=t,await o.sender.setParameters(e)}const c=await this._pc.createOffer();let f=a.parse(c.sdp);this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:f}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",c),await this._pc.setLocalDescription(c);const h=o.mid;i.mid=h,f=a.parse(this._pc.localDescription.sdp);const g=f.media[f.media.length-1];if(i.rtcp.cname=u.getCname({offerMediaObject:g}),t)if(1===t.length){const e=p.getRtpEncodings({offerMediaObject:g});Object.assign(e[0],t[0]),i.encodings=e}else i.encodings=t.reverse();else i.encodings=p.getRtpEncodings({offerMediaObject:g});if(i.encodings.length>1&&("video/vp8"===i.codecs[0].mimeType.toLowerCase()||"video/h264"===i.codecs[0].mimeType.toLowerCase()))for(const e of i.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:g,offerRtpParameters:i,answerRtpParameters:s,codecOptions:n,extmapAllowMixed:!0});const v={type:"answer",sdp:this._remoteSdp.getSdp()};return m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._mapMidTransceiver.set(h,o),{localId:h,rtpParameters:i,rtpSender:o.sender}}async stopSending(e){m.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated transceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._mapMidTransceiver.delete(e)}async replaceTrack(e,t){this._assertSendDirection(),t?m.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):m.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),m.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated transceiver not found");const r=n.sender.getParameters();t=r.encodings.length-1-t,r.encodings.forEach(((e,n)=>{e.active=n>=t})),await n.sender.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),m.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.sender.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){this._assertSendDirection();const s={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",s);const o=this._pc.createDataChannel(r,s);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=a.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:o,sctpStreamParameters:{streamId:s.id,ordered:s.ordered,maxPacketLifeTime:s.maxPacketLifeTime,maxRetransmits:s.maxRetransmits}}}async receive(e){this._assertRecvDirection();const t=[],n=new Map;for(const t of e){const{trackId:e,kind:r,rtpParameters:i}=t;m.debug("receive() [trackId:%s, kind:%s]",e,r);const s=i.mid||String(this._mapMidTransceiver.size);n.set(e,s),this._remoteSdp.receive({mid:s,kind:r,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=a.parse(i.sdp);for(const t of e){const{trackId:e,rtpParameters:r}=t,o=n.get(e),c=s.media.find((e=>String(e.mid)===o));u.applyCodecParameters({offerRtpParameters:r,answerMediaObject:c}),i={type:"answer",sdp:a.write(s)}}this._transportReady||await this._setupTransport({localDtlsRole:"client",localSdpObject:s}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const r of e){const{trackId:e}=r,i=n.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),t.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return t}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r),this._mapMidTransceiver.delete(e)}async pauseReceiving(e){this._assertRecvDirection();for(const t of e){m.debug("pauseReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();m.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this._assertRecvDirection();for(const t of e){m.debug("resumeReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();m.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){this._assertRecvDirection();const{streamId:r,ordered:i,maxPacketLifeTime:s,maxRetransmits:o}=e,c={negotiated:!0,id:r,ordered:i,maxPacketLifeTime:s,maxRetransmits:o,protocol:n};m.debug("receiveDataChannel() [options:%o]",c);const l=this._pc.createDataChannel(t,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=a.parse(t.sdp);await this._setupTransport({localDtlsRole:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:l}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=a.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Firefox60=v},9316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerInterface=void 0;const r=n(4493);class i extends r.EnhancedEventEmitter{constructor(){super()}}t.HandlerInterface=i},4770:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNative=void 0;const a=s(n(766)),o=n(8562),c=n(9992),l=s(n(3347)),d=s(n(5280)),u=s(n(2267)),p=s(n(9875)),f=n(9316),h=n(7910),m=new o.Logger("ReactNative"),g={OS:1024,MIS:1024};class v extends f.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new v}get name(){return"ReactNative"}close(){if(m.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){m.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const n=a.parse(t.sdp);return u.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return m.debug("getNativeSctpCapabilities()"),{numStreams:g}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:l}){m.debug("run()"),this._direction=e,this._remoteSdp=new h.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",l),video:d.getSendingRtpParameters("video",l)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",l),video:d.getSendingRemoteRtpParameters("video",l)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){m.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(m.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});m.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();m.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),m.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&m.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addStream(this._sendStream);let s,o=await this._pc.createOffer(),c=a.parse(o.sdp);const f=l.clone(this._sendingRtpParametersByKind[e.kind],{});f.codecs=d.reduceCodecs(f.codecs);const h=l.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(h.codecs=d.reduceCodecs(h.codecs),this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:c}),"video"===e.kind&&t&&t.length>1&&(m.debug("send() | enabling simulcast"),c=a.parse(o.sdp),s=c.media.find((e=>"video"===e.type)),p.addLegacySimulcast({offerMediaObject:s,track:e,numStreams:t.length}),o={type:"offer",sdp:a.write(c)}),m.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),c=a.parse(this._pc.localDescription.sdp),s=c.media.find((t=>t.type===e.kind)),f.rtcp.cname=u.getCname({offerMediaObject:s}),f.encodings=p.getRtpEncodings({offerMediaObject:s,track:e}),t)for(let e=0;e<f.encodings.length;++e)t[e]&&Object.assign(f.encodings[e],t[e]);if(f.encodings.length>1&&("video/vp8"===f.codecs[0].mimeType.toLowerCase()||"video/h264"===f.codecs[0].mimeType.toLowerCase()))for(const e of f.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:f,answerRtpParameters:h,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const v=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(v,e),{localId:v,rtpParameters:f}}async stopSending(e){this._assertSendDirection(),m.debug("stopSending() [localId:%s]",e);const t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error("track not found");this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);const n=await this._pc.createOffer();m.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void m.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}async replaceTrack(e,t){throw new c.UnsupportedError("not implemented")}async setMaxSpatialLayer(e,t){throw new c.UnsupportedError("not implemented")}async setRtpEncodingParameters(e,t){throw new c.UnsupportedError("not implemented")}async getSenderStats(e){throw new c.UnsupportedError("not implemented")}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var s;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmitTime:t,maxRetransmits:n,protocol:i};m.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%g.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=a.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(s=this._forcedLocalDtlsRole)&&void 0!==s?s:"client",localSdpObject:t}),m.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};m.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[],r=new Map;for(const t of e){const{trackId:e,kind:n,rtpParameters:i}=t;m.debug("receive() [trackId:%s, kind:%s]",e,n);const s=n;let a=i.rtcp.cname;m.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),a+=`-hack-${l.generateRandomNumber()}`,r.set(e,a),this._remoteSdp.receive({mid:s,kind:n,offerRtpParameters:i,streamId:a,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=a.parse(s.sdp);for(const t of e){const{kind:e,rtpParameters:n}=t,r=e,i=o.media.find((e=>String(e.mid)===r));u.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i})}s={type:"answer",sdp:a.write(o)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:o}),m.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const t of e){const{kind:e,trackId:i,rtpParameters:s}=t,a=i,o=e,c=r.get(i),l=this._pc.getRemoteStreams().find((e=>e.id===c)).getTrackById(a);if(!l)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(a,{mid:o,rtpParameters:s}),n.push({localId:a,track:l})}return n}async stopReceiving(e){this._assertRecvDirection(),m.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const r={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const i=await this._pc.createAnswer();m.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async pauseReceiving(e){}async resumeReceiving(e){}async getReceiverStats(e){throw new c.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmitTime:o,maxRetransmits:c,protocol:n};m.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=a.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}m.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=a.parse(this._pc.localDescription.sdp));const n=u.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.ReactNative=v},2205:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari11=void 0;const a=s(n(766)),o=n(8562),c=s(n(3347)),l=s(n(5280)),d=s(n(2267)),u=s(n(9875)),p=n(9316),f=n(7910),h=new o.Logger("Safari11"),m={OS:1024,MIS:1024};class g extends p.HandlerInterface{constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new g}get name(){return"Safari11"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}const n=a.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:m}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){h.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,planB:!0}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){h.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",e.kind,e.id),r&&h.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(e),this._pc.addTrack(e,this._sendStream);let s,o=await this._pc.createOffer(),p=a.parse(o.sdp);const f=c.clone(this._sendingRtpParametersByKind[e.kind],{});f.codecs=l.reduceCodecs(f.codecs);const m=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});if(m.codecs=l.reduceCodecs(m.codecs),this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:p}),"video"===e.kind&&t&&t.length>1&&(h.debug("send() | enabling simulcast"),p=a.parse(o.sdp),s=p.media.find((e=>"video"===e.type)),u.addLegacySimulcast({offerMediaObject:s,track:e,numStreams:t.length}),o={type:"offer",sdp:a.write(p)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),p=a.parse(this._pc.localDescription.sdp),s=p.media.find((t=>t.type===e.kind)),f.rtcp.cname=d.getCname({offerMediaObject:s}),f.encodings=u.getRtpEncodings({offerMediaObject:s,track:e}),t)for(let e=0;e<f.encodings.length;++e)t[e]&&Object.assign(f.encodings[e],t[e]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase())for(const e of f.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:f,answerRtpParameters:m,codecOptions:n});const g={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setRemoteDescription(g);const v=String(this._nextSendLocalId);this._nextSendLocalId++;const y=this._pc.getSenders().find((t=>t.track===e));return this._mapSendLocalIdRtpSender.set(v,y),{localId:v,rtpParameters:f,rtpSender:y}}async stopSending(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);const n=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n);try{await this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void h.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.toString());throw e}if("stable"===this._pc.signalingState)return;const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.track;await n.replaceTrack(t),r&&this._sendStream.removeTrack(r),t&&this._sendStream.addTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapSendLocalIdRtpSender.get(e);if(!n)throw new Error("associated RTCRtpSender not found");const r=n.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error("associated RTCRtpSender not found");return t.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var s;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:i};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=a.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(s=this._forcedLocalDtlsRole)&&void 0!==s?s:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[];for(const t of e){const{trackId:e,kind:n,rtpParameters:r}=t;h.debug("receive() [trackId:%s, kind:%s]",e,n);const i=n;this._remoteSdp.receive({mid:i,kind:n,offerRtpParameters:r,streamId:r.rtcp.cname,trackId:e})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const s=a.parse(i.sdp);for(const t of e){const{kind:e,rtpParameters:n}=t,r=e,i=s.media.find((e=>String(e.mid)===r));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i})}i={type:"answer",sdp:a.write(s)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:s}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const t of e){const{kind:e,trackId:r,rtpParameters:i}=t,s=e,a=r,o=this._pc.getReceivers().find((e=>e.track&&e.track.id===a));if(!o)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(a,{mid:s,rtpParameters:i,rtpReceiver:o}),n.push({localId:a,track:o.track,rtpReceiver:o})}return n}async stopReceiving(e){this._assertRecvDirection(),h.debug("stopReceiving() [localId:%s]",e);const{mid:t,rtpParameters:n}=this._mapRecvLocalIdInfo.get(e)||{};this._mapRecvLocalIdInfo.delete(e),this._remoteSdp.planBStopReceiving({mid:t,offerRtpParameters:n});const r={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);const i=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i)}async getReceiverStats(e){this._assertRecvDirection();const{rtpReceiver:t}=this._mapRecvLocalIdInfo.get(e)||{};if(!t)throw new Error("associated RTCRtpReceiver not found");return t.getStats()}async pauseReceiving(e){}async resumeReceiving(e){}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:n};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=a.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=a.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari11=g},9862:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari12=void 0;const a=s(n(766)),o=n(8562),c=s(n(3347)),l=s(n(5280)),d=s(n(2267)),u=s(n(9072)),p=n(9316),f=n(7910),h=new o.Logger("Safari12"),m={OS:1024,MIS:1024};class g extends p.HandlerInterface{constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}static createFactory(){return()=>new g}get name(){return"Safari12"}close(){if(h.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}async getNativeRtpCapabilities(){h.debug("getNativeRtpCapabilities()");const e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{e.addTransceiver("audio"),e.addTransceiver("video");const t=await e.createOffer();try{e.close()}catch(e){}const n=a.parse(t.sdp);return d.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}async getNativeSctpCapabilities(){return h.debug("getNativeSctpCapabilities()"),{numStreams:m}}run({direction:e,iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,iceServers:s,iceTransportPolicy:a,additionalSettings:o,proprietaryConstraints:c,extendedRtpCapabilities:d}){h.debug("run()"),this._direction=e,this._remoteSdp=new f.RemoteSdp({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i}),this._sendingRtpParametersByKind={audio:l.getSendingRtpParameters("audio",d),video:l.getSendingRtpParameters("video",d)},this._sendingRemoteRtpParametersByKind={audio:l.getSendingRemoteRtpParameters("audio",d),video:l.getSendingRemoteRtpParameters("video",d)},r.role&&"auto"!==r.role&&(this._forcedLocalDtlsRole="server"===r.role?"client":"server"),this._pc=new RTCPeerConnection({iceServers:s||[],iceTransportPolicy:a||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...o},c),this._pc.addEventListener("iceconnectionstatechange",(()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}}))}async updateIceServers(e){h.debug("updateIceServers()");const t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}async restartIce(e){if(h.debug("restartIce()"),this._remoteSdp.updateIceParameters(e),this._transportReady)if("send"===this._direction){const e=await this._pc.createOffer({iceRestart:!0});h.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e);const t={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setRemoteDescription(t)}else{const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();h.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",t),await this._pc.setLocalDescription(t)}}async getTransportStats(){return this._pc.getStats()}async send({track:e,encodings:t,codecOptions:n,codec:r}){var i;this._assertSendDirection(),h.debug("send() [kind:%s, track.id:%s]",e.kind,e.id);const s=c.clone(this._sendingRtpParametersByKind[e.kind],{});s.codecs=l.reduceCodecs(s.codecs,r);const o=c.clone(this._sendingRemoteRtpParametersByKind[e.kind],{});o.codecs=l.reduceCodecs(o.codecs,r);const p=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(e,{direction:"sendonly",streams:[this._sendStream]});let m,g=await this._pc.createOffer(),v=a.parse(g.sdp);this._transportReady||await this._setupTransport({localDtlsRole:null!==(i=this._forcedLocalDtlsRole)&&void 0!==i?i:"client",localSdpObject:v}),t&&t.length>1&&(h.debug("send() | enabling legacy simulcast"),v=a.parse(g.sdp),m=v.media[p.idx],u.addLegacySimulcast({offerMediaObject:m,numStreams:t.length}),g={type:"offer",sdp:a.write(v)}),h.debug("send() | calling pc.setLocalDescription() [offer:%o]",g),await this._pc.setLocalDescription(g);const y=f.mid;if(s.mid=y,v=a.parse(this._pc.localDescription.sdp),m=v.media[p.idx],s.rtcp.cname=d.getCname({offerMediaObject:m}),s.encodings=u.getRtpEncodings({offerMediaObject:m}),t)for(let e=0;e<s.encodings.length;++e)t[e]&&Object.assign(s.encodings[e],t[e]);if(s.encodings.length>1&&("video/vp8"===s.codecs[0].mimeType.toLowerCase()||"video/h264"===s.codecs[0].mimeType.toLowerCase()))for(const e of s.encodings)e.scalabilityMode="S1T3";this._remoteSdp.send({offerMediaObject:m,reuseMid:p.reuseMid,offerRtpParameters:s,answerRtpParameters:o,codecOptions:n});const b={type:"answer",sdp:this._remoteSdp.getSdp()};return h.debug("send() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.set(y,f),{localId:y,rtpParameters:s,rtpSender:f.sender}}async stopSending(e){this._assertSendDirection(),h.debug("stopSending() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid);const n=await this._pc.createOffer();h.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._mapMidTransceiver.delete(e)}async replaceTrack(e,t){this._assertSendDirection(),t?h.debug("replaceTrack() [localId:%s, track.id:%s]",e,t.id):h.debug("replaceTrack() [localId:%s, no track]",e);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");await n.sender.replaceTrack(t)}async setMaxSpatialLayer(e,t){this._assertSendDirection(),h.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{e.active=n<=t})),await n.sender.setParameters(r)}async setRtpEncodingParameters(e,t){this._assertSendDirection(),h.debug("setRtpEncodingParameters() [localId:%s, params:%o]",e,t);const n=this._mapMidTransceiver.get(e);if(!n)throw new Error("associated RTCRtpTransceiver not found");const r=n.sender.getParameters();r.encodings.forEach(((e,n)=>{r.encodings[n]={...e,...t}})),await n.sender.setParameters(r)}async getSenderStats(e){this._assertSendDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.sender.getStats()}async sendDataChannel({ordered:e,maxPacketLifeTime:t,maxRetransmits:n,label:r,protocol:i}){var s;this._assertSendDirection();const o={negotiated:!0,id:this._nextSendSctpStreamId,ordered:e,maxPacketLifeTime:t,maxRetransmits:n,protocol:i};h.debug("sendDataChannel() [options:%o]",o);const c=this._pc.createDataChannel(r,o);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%m.MIS,!this._hasDataChannelMediaSection){const e=await this._pc.createOffer(),t=a.parse(e.sdp),n=t.media.find((e=>"application"===e.type));this._transportReady||await this._setupTransport({localDtlsRole:null!==(s=this._forcedLocalDtlsRole)&&void 0!==s?s:"client",localSdpObject:t}),h.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",e),await this._pc.setLocalDescription(e),this._remoteSdp.sendSctpAssociation({offerMediaObject:n});const r={type:"answer",sdp:this._remoteSdp.getSdp()};h.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r),this._hasDataChannelMediaSection=!0}return{dataChannel:c,sctpStreamParameters:{streamId:o.id,ordered:o.ordered,maxPacketLifeTime:o.maxPacketLifeTime,maxRetransmits:o.maxRetransmits}}}async receive(e){var t;this._assertRecvDirection();const n=[],r=new Map;for(const t of e){const{trackId:e,kind:n,rtpParameters:i}=t;h.debug("receive() [trackId:%s, kind:%s]",e,n);const s=i.mid||String(this._mapMidTransceiver.size);r.set(e,s),this._remoteSdp.receive({mid:s,kind:n,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:e})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let s=await this._pc.createAnswer();const o=a.parse(s.sdp);for(const t of e){const{trackId:e,rtpParameters:n}=t,i=r.get(e),s=o.media.find((e=>String(e.mid)===i));d.applyCodecParameters({offerRtpParameters:n,answerMediaObject:s})}s={type:"answer",sdp:a.write(o)},this._transportReady||await this._setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:"client",localSdpObject:o}),h.debug("receive() | calling pc.setLocalDescription() [answer:%o]",s),await this._pc.setLocalDescription(s);for(const t of e){const{trackId:e}=t,i=r.get(e),s=this._pc.getTransceivers().find((e=>e.mid===i));if(!s)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(i,s),n.push({localId:i,track:s.receiver.track,rtpReceiver:s.receiver})}return n}async stopReceiving(e){this._assertRecvDirection(),h.debug("stopReceiving() [localId:%s]",e);const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(t.mid);const n={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();h.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r),this._mapMidTransceiver.delete(e)}async pauseReceiving(e){this._assertRecvDirection();for(const t of e){h.debug("pauseReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="inactive"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();h.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async resumeReceiving(e){this._assertRecvDirection();for(const t of e){h.debug("resumeReceiving() [localId:%s]",t);const e=this._mapMidTransceiver.get(t);if(!e)throw new Error("associated RTCRtpTransceiver not found");e.direction="recvonly"}const t={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",t),await this._pc.setRemoteDescription(t);const n=await this._pc.createAnswer();h.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",n),await this._pc.setLocalDescription(n)}async getReceiverStats(e){this._assertRecvDirection();const t=this._mapMidTransceiver.get(e);if(!t)throw new Error("associated RTCRtpTransceiver not found");return t.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:e,label:t,protocol:n}){var r;this._assertRecvDirection();const{streamId:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c}=e,l={negotiated:!0,id:i,ordered:s,maxPacketLifeTime:o,maxRetransmits:c,protocol:n};h.debug("receiveDataChannel() [options:%o]",l);const d=this._pc.createDataChannel(t,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const e={type:"offer",sdp:this._remoteSdp.getSdp()};h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",e),await this._pc.setRemoteDescription(e);const t=await this._pc.createAnswer();if(!this._transportReady){const e=a.parse(t.sdp);await this._setupTransport({localDtlsRole:null!==(r=this._forcedLocalDtlsRole)&&void 0!==r?r:"client",localSdpObject:e})}h.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",t),await this._pc.setLocalDescription(t),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async _setupTransport({localDtlsRole:e,localSdpObject:t}){t||(t=a.parse(this._pc.localDescription.sdp));const n=d.extractDtlsParameters({sdpObject:t});n.role=e,this._remoteSdp.updateDtlsRole("client"===e?"server":"client"),await this.safeEmitAsPromise("@connect",{dtlsParameters:n}),this._transportReady=!0}_assertSendDirection(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}_assertRecvDirection(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}t.Safari12=g},3635:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.mangleRtpParameters=t.getCapabilities=void 0;const a=s(n(3347));t.getCapabilities=function(){const e=RTCRtpReceiver.getCapabilities(),t=a.clone(e,{});for(const e of t.codecs){if(e.channels=e.numChannels,delete e.numChannels,e.mimeType=e.mimeType||`${e.kind}/${e.name}`,e.parameters){const t=e.parameters;t.apt&&(t.apt=Number(t.apt)),t["packetization-mode"]&&(t["packetization-mode"]=Number(t["packetization-mode"]))}for(const t of e.rtcpFeedback||[])t.parameter||(t.parameter="")}return t},t.mangleRtpParameters=function(e){const t=a.clone(e,{});t.mid&&(t.muxId=t.mid,delete t.mid);for(const e of t.codecs)e.channels&&(e.numChannels=e.channels,delete e.channels),e.mimeType&&!e.name&&(e.name=e.mimeType.split("/")[1]),delete e.mimeType;return t}},6698:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OfferMediaSection=t.AnswerMediaSection=t.MediaSection=void 0;const a=s(n(3347));class o{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:r=!1}){if(this._mediaObject={},this._planB=r,e&&this.setIceParameters(e),t){this._mediaObject.candidates=[];for(const e of t){const t={component:1};t.foundation=e.foundation,t.ip=e.ip,t.port=e.port,t.priority=e.priority,t.transport=e.protocol,t.type=e.type,e.tcpType&&(t.tcptype=e.tcpType),this._mediaObject.candidates.push(t)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}n&&this.setDtlsRole(n.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return 0===this._mediaObject.port}getObject(){return this._mediaObject}setIceParameters(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}disable(){this._mediaObject.direction="inactive",delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids}close(){this._mediaObject.direction="inactive",this._mediaObject.port=0,delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}}function c(e){const t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.MediaSection=o,t.AnswerMediaSection=class extends o{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:r,plainRtpParameters:i,planB:s=!1,offerMediaObject:o,offerRtpParameters:l,answerRtpParameters:d,codecOptions:u,extmapAllowMixed:p=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:s}),this._mediaObject.mid=String(o.mid),this._mediaObject.type=o.type,this._mediaObject.protocol=o.protocol,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),o.type){case"audio":case"video":this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const e of d.codecs){const t={payload:e.payloadType,codec:c(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const n=a.clone(e.parameters,{});if(u){const{opusStereo:t,opusFec:r,opusDtx:i,opusMaxPlaybackRate:s,opusMaxAverageBitrate:a,opusPtime:o,videoGoogleStartBitrate:c,videoGoogleMaxBitrate:d,videoGoogleMinBitrate:p}=u,f=l.codecs.find((t=>t.payloadType===e.payloadType));switch(e.mimeType.toLowerCase()){case"audio/opus":void 0!==t&&(f.parameters["sprop-stereo"]=t?1:0,n.stereo=t?1:0),void 0!==r&&(f.parameters.useinbandfec=r?1:0,n.useinbandfec=r?1:0),void 0!==i&&(f.parameters.usedtx=i?1:0,n.usedtx=i?1:0),void 0!==s&&(n.maxplaybackrate=s),void 0!==a&&(n.maxaveragebitrate=a),void 0!==o&&(f.parameters.ptime=o,n.ptime=o);break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==c&&(n["x-google-start-bitrate"]=c),void 0!==d&&(n["x-google-max-bitrate"]=d),void 0!==p&&(n["x-google-min-bitrate"]=p)}}const r={payload:e.payloadType,config:""};for(const e of Object.keys(n))r.config&&(r.config+=";"),r.config+=`${e}=${n[e]}`;r.config&&this._mediaObject.fmtp.push(r);for(const t of e.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:t.type,subtype:t.parameter})}this._mediaObject.payloads=d.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const e of d.headerExtensions)(o.ext||[]).some((t=>t.uri===e.uri))&&this._mediaObject.ext.push({uri:e.uri,value:e.id});if(p&&"extmap-allow-mixed"===o.extmapAllowMixed&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),o.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:o.simulcast.list1},this._mediaObject.rids=[];for(const e of o.rids||[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}else if(o.simulcast_03){this._mediaObject.simulcast_03={value:o.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const e of o.rids||[])"send"===e.direction&&this._mediaObject.rids.push({id:e.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&"video"===this._mediaObject.type&&(this._mediaObject.xGoogleFlag="conference");break;case"application":"number"==typeof o.sctpPort?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=r.port,this._mediaObject.maxMessageSize=r.maxMessageSize):o.sctpmap&&(this._mediaObject.payloads=r.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:r.port,maxMessageSize:r.maxMessageSize})}}setDtlsRole(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}},t.OfferMediaSection=class extends o{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:r,plainRtpParameters:i,planB:s=!1,mid:a,kind:o,offerRtpParameters:l,streamId:d,trackId:u,oldDataChannelSpec:p=!1}){switch(super({iceParameters:e,iceCandidates:t,dtlsParameters:n,planB:s}),this._mediaObject.mid=String(a),this._mediaObject.type=o,i?(this._mediaObject.connection={ip:i.ip,version:i.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=i.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.protocol=r?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),o){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${d||"-"} ${u}`);for(const e of l.codecs){const t={payload:e.payloadType,codec:c(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),this._mediaObject.rtp.push(t);const n={payload:e.payloadType,config:""};for(const t of Object.keys(e.parameters))n.config&&(n.config+=";"),n.config+=`${t}=${e.parameters[t]}`;n.config&&this._mediaObject.fmtp.push(n);for(const t of e.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:e.payloadType,type:t.type,subtype:t.parameter})}this._mediaObject.payloads=l.codecs.map((e=>e.payloadType)).join(" "),this._mediaObject.ext=[];for(const e of l.headerExtensions)this._mediaObject.ext.push({uri:e.uri,value:e.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const e=l.encodings[0],t=e.ssrc,n=e.rtx&&e.rtx.ssrc?e.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],l.rtcp.cname&&this._mediaObject.ssrcs.push({id:t,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:t,attribute:"msid",value:`${d||"-"} ${u}`}),n&&(l.rtcp.cname&&this._mediaObject.ssrcs.push({id:n,attribute:"cname",value:l.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:n,attribute:"msid",value:`${d||"-"} ${u}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${t} ${n}`}));break}case"application":p?(this._mediaObject.payloads=r.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:r.port,maxMessageSize:r.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=r.port,this._mediaObject.maxMessageSize=r.maxMessageSize)}}setDtlsRole(e){this._mediaObject.setup="actpass"}planBReceive({offerRtpParameters:e,streamId:t,trackId:n}){const r=e.encodings[0],i=r.ssrc,s=r.rtx&&r.rtx.ssrc?r.rtx.ssrc:void 0,a=this._mediaObject.payloads.split(" ");for(const t of e.codecs){if(a.includes(String(t.payloadType)))continue;const e={payload:t.payloadType,codec:c(t),rate:t.clockRate};t.channels>1&&(e.encoding=t.channels),this._mediaObject.rtp.push(e);const n={payload:t.payloadType,config:""};for(const e of Object.keys(t.parameters))n.config&&(n.config+=";"),n.config+=`${e}=${t.parameters[e]}`;n.config&&this._mediaObject.fmtp.push(n);for(const e of t.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:t.payloadType,type:e.type,subtype:e.parameter})}this._mediaObject.payloads+=` ${e.codecs.filter((e=>!this._mediaObject.payloads.includes(e.payloadType))).map((e=>e.payloadType)).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),e.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:`${t||"-"} ${n}`}),s&&(e.rtcp.cname&&this._mediaObject.ssrcs.push({id:s,attribute:"cname",value:e.rtcp.cname}),this._mediaObject.ssrcs.push({id:s,attribute:"msid",value:`${t||"-"} ${n}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${i} ${s}`}))}planBStopReceiving({offerRtpParameters:e}){const t=e.encodings[0],n=t.ssrc,r=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter((e=>e.id!==n&&e.id!==r)),r&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter((e=>e.ssrcs!==`${n} ${r}`)))}}},7910:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSdp=void 0;const a=s(n(766)),o=n(8562),c=n(6698),l=new o.Logger("RemoteSdp");t.RemoteSdp=class{constructor({iceParameters:e,iceCandidates:t,dtlsParameters:n,sctpParameters:r,plainRtpParameters:i,planB:s=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=e,this._iceCandidates=t,this._dtlsParameters=n,this._sctpParameters=r,this._plainRtpParameters=i,this._planB=s,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},e&&e.iceLite&&(this._sdpObject.icelite="ice-lite"),n){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const e=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:n.fingerprints[e-1].algorithm,hash:n.fingerprints[e-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}i&&(this._sdpObject.origin.address=i.ip,this._sdpObject.origin.ipVer=i.ipVersion)}updateIceParameters(e){l.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;for(const t of this._mediaSections)t.setIceParameters(e)}updateDtlsRole(e){l.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;for(const t of this._mediaSections)t.setDtlsRole(e)}getNextMediaSectionIdx(){for(let e=0;e<this._mediaSections.length;++e){const t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:e,reuseMid:t,offerRtpParameters:n,answerRtpParameters:r,codecOptions:i,extmapAllowMixed:s=!1}){const a=new c.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:e,offerRtpParameters:n,answerRtpParameters:r,codecOptions:i,extmapAllowMixed:s});t?this._replaceMediaSection(a,t):this._midToIndex.has(a.mid)?this._replaceMediaSection(a):this._addMediaSection(a)}receive({mid:e,kind:t,offerRtpParameters:n,streamId:r,trackId:i}){const s=this._midToIndex.get(e);let a;if(void 0!==s&&(a=this._mediaSections[s]),a)a.planBReceive({offerRtpParameters:n,streamId:r,trackId:i}),this._replaceMediaSection(a);else{a=new c.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:e,kind:t,offerRtpParameters:n,streamId:r,trackId:i});const s=this._mediaSections.find((e=>e.closed));s?this._replaceMediaSection(a,s.mid):this._addMediaSection(a)}}disableMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);this._mediaSections[t].disable()}closeMediaSection(e){const t=this._midToIndex.get(e);if(void 0===t)throw new Error(`no media section found with mid '${e}'`);const n=this._mediaSections[t];if(e===this._firstMid)return l.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),void this.disableMediaSection(e);n.close(),this._regenerateBundleMids()}planBStopReceiving({mid:e,offerRtpParameters:t}){const n=this._midToIndex.get(e);if(void 0===n)throw new Error(`no media section found with mid '${e}'`);const r=this._mediaSections[n];r.planBStopReceiving({offerRtpParameters:t}),this._replaceMediaSection(r)}sendSctpAssociation({offerMediaObject:e}){const t=new c.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:e});this._addMediaSection(t)}receiveSctpAssociation({oldDataChannelSpec:e=!1}={}){const t=new c.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:e});this._addMediaSection(t)}getSdp(){return this._sdpObject.origin.sessionVersion++,a.write(this._sdpObject)}_addMediaSection(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}_replaceMediaSection(e,t){if("string"==typeof t){const n=this._midToIndex.get(t);if(void 0===n)throw new Error(`no media section found for reuseMid '${t}'`);const r=this._mediaSections[n];this._mediaSections[n]=e,this._midToIndex.delete(r.mid),this._midToIndex.set(e.mid,n),this._sdpObject.media[n]=e.getObject(),this._regenerateBundleMids()}else{const t=this._midToIndex.get(e.mid);if(void 0===t)throw new Error(`no media section found with mid '${e.mid}'`);this._mediaSections[t]=e,this._sdpObject.media[t]=e.getObject()}}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter((e=>!e.closed)).map((e=>e.mid)).join(" "))}}},2267:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applyCodecParameters=t.getCname=t.extractDtlsParameters=t.extractRtpCapabilities=void 0;const a=s(n(766));t.extractRtpCapabilities=function({sdpObject:e}){const t=new Map,n=[];let r=!1,i=!1;for(const s of e.media){const e=s.type;switch(e){case"audio":if(r)continue;r=!0;break;case"video":if(i)continue;i=!0;break;default:continue}for(const n of s.rtp){const r={kind:e,mimeType:`${e}/${n.codec}`,preferredPayloadType:n.payload,clockRate:n.rate,channels:n.encoding,parameters:{},rtcpFeedback:[]};t.set(r.preferredPayloadType,r)}for(const e of s.fmtp||[]){const n=a.parseParams(e.config),r=t.get(e.payload);r&&(n&&n.hasOwnProperty("profile-level-id")&&(n["profile-level-id"]=String(n["profile-level-id"])),r.parameters=n)}for(const e of s.rtcpFb||[]){const n=t.get(e.payload);if(!n)continue;const r={type:e.type,parameter:e.subtype};r.parameter||delete r.parameter,n.rtcpFeedback.push(r)}for(const t of s.ext||[]){if(t["encrypt-uri"])continue;const r={kind:e,uri:t.uri,preferredId:t.value};n.push(r)}}return{codecs:Array.from(t.values()),headerExtensions:n}},t.extractDtlsParameters=function({sdpObject:e}){const t=(e.media||[]).find((e=>e.iceUfrag&&0!==e.port));if(!t)throw new Error("no active media section found");const n=t.fingerprint||e.fingerprint;let r;switch(t.setup){case"active":r="client";break;case"passive":r="server";break;case"actpass":r="auto"}return{role:r,fingerprints:[{algorithm:n.type,value:n.hash}]}},t.getCname=function({offerMediaObject:e}){const t=(e.ssrcs||[]).find((e=>"cname"===e.attribute));return t?t.value:""},t.applyCodecParameters=function({offerRtpParameters:e,answerMediaObject:t}){for(const n of e.codecs){const e=n.mimeType.toLowerCase();if("audio/opus"!==e)continue;if(!(t.rtp||[]).find((e=>e.payload===n.payloadType)))continue;t.fmtp=t.fmtp||[];let r=t.fmtp.find((e=>e.payload===n.payloadType));r||(r={payload:n.payloadType,config:""},t.fmtp.push(r));const i=a.parseParams(r.config);switch(e){case"audio/opus":{const e=n.parameters["sprop-stereo"];void 0!==e&&(i.stereo=e?1:0);break}}r.config="";for(const e of Object.keys(i))r.config&&(r.config+=";"),r.config+=`${e}=${i[e]}`}}},9875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function({offerMediaObject:e,track:t}){let n;const r=new Set;for(const i of e.ssrcs||[])if("msid"===i.attribute&&i.value.split(" ")[1]===t.id){const e=i.id;r.add(e),n||(n=e)}if(0===r.size)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const i=new Map;for(const t of e.ssrcGroups||[]){if("FID"!==t.semantics)continue;let[e,n]=t.ssrcs.split(/\s+/);e=Number(e),n=Number(n),r.has(e)&&(r.delete(e),r.delete(n),i.set(e,n))}for(const e of r)i.set(e,null);const s=[];for(const[e,t]of i){const n={ssrc:e};t&&(n.rtx={ssrc:t}),s.push(n)}return s},t.addLegacySimulcast=function({offerMediaObject:e,track:t,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");let r,i,s;if(!(e.ssrcs||[]).find((e=>"msid"===e.attribute&&(e.value.split(" ")[1]===t.id&&(r=e.id,s=e.value.split(" ")[0],!0)))))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some((e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===r&&(i=Number(t[1]),!0)}));const a=e.ssrcs.find((e=>"cname"===e.attribute&&e.id===r));if(!a)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const o=a.value,c=[],l=[];for(let e=0;e<n;++e)c.push(r+e),i&&l.push(i+e);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:c.join(" ")});for(let n=0;n<c.length;++n){const r=c[n];e.ssrcs.push({id:r,attribute:"cname",value:o}),e.ssrcs.push({id:r,attribute:"msid",value:`${s} ${t.id}`})}for(let n=0;n<l.length;++n){const r=c[n],i=l[n];e.ssrcs.push({id:i,attribute:"cname",value:o}),e.ssrcs.push({id:i,attribute:"msid",value:`${s} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${r} ${i}`})}}},9072:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function({offerMediaObject:e}){const t=new Set;for(const n of e.ssrcs||[]){const e=n.id;t.add(e)}if(0===t.size)throw new Error("no a=ssrc lines found");const n=new Map;for(const r of e.ssrcGroups||[]){if("FID"!==r.semantics)continue;let[e,i]=r.ssrcs.split(/\s+/);e=Number(e),i=Number(i),t.has(e)&&(t.delete(e),t.delete(i),n.set(e,i))}for(const e of t)n.set(e,null);const r=[];for(const[e,t]of n){const n={ssrc:e};t&&(n.rtx={ssrc:t}),r.push(n)}return r},t.addLegacySimulcast=function({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const n=(e.ssrcs||[]).find((e=>"msid"===e.attribute));if(!n)throw new Error("a=ssrc line with msid information not found");const[r,i]=n.value.split(" "),s=n.id;let a;(e.ssrcGroups||[]).some((e=>{if("FID"!==e.semantics)return!1;const t=e.ssrcs.split(/\s+/);return Number(t[0])===s&&(a=Number(t[1]),!0)}));const o=e.ssrcs.find((e=>"cname"===e.attribute));if(!o)throw new Error("a=ssrc line with cname information not found");const c=o.value,l=[],d=[];for(let e=0;e<t;++e)l.push(s+e),a&&d.push(a+e);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:l.join(" ")});for(let t=0;t<l.length;++t){const n=l[t];e.ssrcs.push({id:n,attribute:"cname",value:c}),e.ssrcs.push({id:n,attribute:"msid",value:`${r} ${i}`})}for(let t=0;t<d.length;++t){const n=l[t],s=d[t];e.ssrcs.push({id:s,attribute:"cname",value:c}),e.ssrcs.push({id:s,attribute:"msid",value:`${r} ${i}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${n} ${s}`})}}},960:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.parseScalabilityMode=t.detectDevice=t.Device=t.version=t.types=void 0;const o=a(n(388));t.debug=o.default;const c=n(3120);Object.defineProperty(t,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(t,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});const l=s(n(1232));t.types=l,t.version="3.6.51";var d=n(2770);Object.defineProperty(t,"parseScalabilityMode",{enumerable:!0,get:function(){return d.parse}})},5280:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.canReceive=t.canSend=t.generateProbatorRtpParameters=t.reduceCodecs=t.getSendingRemoteRtpParameters=t.getSendingRtpParameters=t.getRecvRtpCapabilities=t.getExtendedRtpCapabilities=t.validateSctpStreamParameters=t.validateSctpParameters=t.validateNumSctpStreams=t.validateSctpCapabilities=t.validateRtcpParameters=t.validateRtpEncodingParameters=t.validateRtpHeaderExtensionParameters=t.validateRtpCodecParameters=t.validateRtpParameters=t.validateRtpHeaderExtension=t.validateRtcpFeedback=t.validateRtpCodecCapability=t.validateRtpCapabilities=void 0;const a=s(n(7855)),o=s(n(3347));function c(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(e.kind=n[1].toLowerCase(),e.preferredPayloadType&&"number"!=typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(void 0===n&&(e.parameters[t]="",n=""),"string"!=typeof n&&"number"!=typeof n)throw new TypeError(`invalid codec parameter [key:${t}s, value:${n}]`);if("apt"===t&&"number"!=typeof n)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const t of e.rtcpFeedback)l(t)}function l(e){if("object"!=typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!=typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"==typeof e.parameter||(e.parameter="")}function d(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if("audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!=typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!=typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function u(e){if("object"!=typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!=typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)p(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)f(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)h(t);if(e.rtcp&&"object"!=typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),m(e.rtcp)}function p(e){const t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if("number"!=typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===n[1].toLowerCase()?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(void 0===n&&(e.parameters[t]="",n=""),"string"!=typeof n&&"number"!=typeof n)throw new TypeError(`invalid codec parameter [key:${t}s, value:${n}]`);if("apt"===t&&"number"!=typeof n)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);for(const t of e.rtcpFeedback)l(t)}function f(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!=typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(void 0===n&&(e.parameters[t]="",n=""),"string"!=typeof n&&"number"!=typeof n)throw new TypeError("invalid header extension parameter")}}function h(e){if("object"!=typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!=typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!=typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!=typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!=typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"==typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!=typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function m(e){if("object"!=typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!=typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"==typeof e.reducedSize||(e.reducedSize=!0)}function g(e){if("object"!=typeof e)throw new TypeError("numStreams is not an object");if("number"!=typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!=typeof e.MIS)throw new TypeError("missing numStreams.MIS")}function v(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function y(e,t,{strict:n=!1,modify:r=!1}={}){const i=e.mimeType.toLowerCase();if(i!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(i){case"video/h264":if(n){if((e.parameters["packetization-mode"]||0)!==(t.parameters["packetization-mode"]||0))return!1;if(!a.isSameProfile(e.parameters,t.parameters))return!1;let n;try{n=a.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch(e){return!1}r&&(n?(e.parameters["profile-level-id"]=n,t.parameters["profile-level-id"]=n):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break;case"video/vp9":if(n&&(e.parameters["profile-id"]||0)!==(t.parameters["profile-id"]||0))return!1}return!0}function b(e,t){const n=[];for(const r of e.rtcpFeedback||[]){const e=(t.rtcpFeedback||[]).find((e=>e.type===r.type&&(e.parameter===r.parameter||!e.parameter&&!r.parameter)));e&&n.push(e)}return n}t.validateRtpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)c(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)d(t)},t.validateRtpCodecCapability=c,t.validateRtcpFeedback=l,t.validateRtpHeaderExtension=d,t.validateRtpParameters=u,t.validateRtpCodecParameters=p,t.validateRtpHeaderExtensionParameters=f,t.validateRtpEncodingParameters=h,t.validateRtcpParameters=m,t.validateSctpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!=typeof e.numStreams)throw new TypeError("missing caps.numStreams");g(e.numStreams)},t.validateNumSctpStreams=g,t.validateSctpParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.port)throw new TypeError("missing params.port");if("number"!=typeof e.OS)throw new TypeError("missing params.OS");if("number"!=typeof e.MIS)throw new TypeError("missing params.MIS");if("number"!=typeof e.maxMessageSize)throw new TypeError("missing params.maxMessageSize")},t.validateSctpStreamParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.streamId)throw new TypeError("missing params.streamId");let t=!1;if("boolean"==typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&"number"!=typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!=typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.label&&"string"!=typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!=typeof e.protocol)throw new TypeError("invalid params.protocol")},t.getExtendedRtpCapabilities=function(e,t){const n={codecs:[],headerExtensions:[]};for(const r of t.codecs||[]){if(v(r))continue;const t=(e.codecs||[]).find((e=>y(e,r,{strict:!0,modify:!0})));if(!t)continue;const i={mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,channels:t.channels,localPayloadType:t.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:r.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:t.parameters,remoteParameters:r.parameters,rtcpFeedback:b(t,r)};n.codecs.push(i)}for(const r of n.codecs){const n=e.codecs.find((e=>v(e)&&e.parameters.apt===r.localPayloadType)),i=t.codecs.find((e=>v(e)&&e.parameters.apt===r.remotePayloadType));n&&i&&(r.localRtxPayloadType=n.preferredPayloadType,r.remoteRtxPayloadType=i.preferredPayloadType)}for(const r of t.headerExtensions){const t=e.headerExtensions.find((e=>{return n=r,!((t=e).kind&&n.kind&&t.kind!==n.kind||t.uri!==n.uri);var t,n}));if(!t)continue;const i={kind:r.kind,uri:r.uri,sendId:t.preferredId,recvId:r.preferredId,encrypt:t.preferredEncrypt,direction:"sendrecv"};switch(r.direction){case"sendrecv":i.direction="sendrecv";break;case"recvonly":i.direction="sendonly";break;case"sendonly":i.direction="recvonly";break;case"inactive":i.direction="inactive"}n.headerExtensions.push(i)}return n},t.getRecvRtpCapabilities=function(e){const t={codecs:[],headerExtensions:[]};for(const n of e.codecs){const e={mimeType:n.mimeType,kind:n.kind,preferredPayloadType:n.remotePayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(t.codecs.push(e),!n.remoteRtxPayloadType)continue;const r={mimeType:`${n.kind}/rtx`,kind:n.kind,preferredPayloadType:n.remoteRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.remotePayloadType},rtcpFeedback:[]};t.codecs.push(r)}for(const n of e.headerExtensions){if("sendrecv"!==n.direction&&"recvonly"!==n.direction)continue;const e={kind:n.kind,uri:n.uri,preferredId:n.recvId,preferredEncrypt:n.encrypt,direction:n.direction};t.headerExtensions.push(e)}return t},t.getSendingRtpParameters=function(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const t={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(t),r.localRtxPayloadType){const e={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(e)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||"sendrecv"!==r.direction&&"sendonly"!==r.direction)continue;const t={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(t)}return n},t.getSendingRemoteRtpParameters=function(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const t={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.remoteParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(t),r.localRtxPayloadType){const e={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(e)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||"sendrecv"!==r.direction&&"sendonly"!==r.direction)continue;const t={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(t)}if(n.headerExtensions.some((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri)))for(const e of n.codecs)e.rtcpFeedback=(e.rtcpFeedback||[]).filter((e=>"goog-remb"!==e.type));else if(n.headerExtensions.some((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri)))for(const e of n.codecs)e.rtcpFeedback=(e.rtcpFeedback||[]).filter((e=>"transport-cc"!==e.type));else for(const e of n.codecs)e.rtcpFeedback=(e.rtcpFeedback||[]).filter((e=>"transport-cc"!==e.type&&"goog-remb"!==e.type));return n},t.reduceCodecs=function(e,t){const n=[];if(t){for(let r=0;r<e.length;++r)if(y(e[r],t)){n.push(e[r]),v(e[r+1])&&n.push(e[r+1]);break}if(0===n.length)throw new TypeError("no matching codec found")}else n.push(e[0]),v(e[1])&&n.push(e[1]);return n},t.generateProbatorRtpParameters=function(e){u(e=o.clone(e,{}));const t={mid:"probator",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some((t=>t.kind===e))},t.canReceive=function(e,t){if(u(e),0===e.codecs.length)return!1;const n=e.codecs[0];return t.codecs.some((e=>e.remotePayloadType===n.payloadType))}},2770:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const n=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");t.parse=function(e){const t=n.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},1232:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3120),t),i(n(5202),t),i(n(6569),t),i(n(9514),t),i(n(5504),t),i(n(1623),t),i(n(4879),t),i(n(7669),t),i(n(9316),t),i(n(9992),t)},3347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomNumber=t.clone=void 0,t.clone=function(e,t){return void 0===e?t:JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},388:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(4455)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},4455:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,s,a=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),s=i-(n||i);r.diff=s,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";a++;const s=t.formatters[i];if("function"==typeof s){const t=e[a];n=s.call(r,t),e.splice(a,1),a--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{a=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(1438),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},1438:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,a){a=a||{};var o,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return a.long?(o=e,(c=Math.abs(o))>=i?s(o,c,i,"day"):c>=r?s(o,c,r,"hour"):c>=n?s(o,c,n,"minute"):c>=t?s(o,c,t,"second"):o+" ms"):function(e){var s=Math.abs(e);return s>=i?Math.round(e/i)+"d":s>=r?Math.round(e/r)+"h":s>=n?Math.round(e/n)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3281:(e,t,n)=>{"use strict";e.exports=n(9050)},4492:(e,t,n)=>{"use strict";e.exports=n(8836)},2967:e=>{"use strict";e.exports=r;var t,n=/\/|\./;function r(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:t}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},3996:(e,t,n)=>{"use strict";var r=t,i=n(7025),s=n(9935);function a(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var s=t.resolvedType.values,a=Object.keys(s),o=0;o<a.length;++o)t.repeated&&s[a[o]]===t.typeDefault&&e("default:"),e("case%j:",a[o])("case %i:",s[a[o]])("m%s=%j",r,s[a[o]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function o(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var s=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,s?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var o=t[r].resolve(),c=s.safeProp(o.name);o.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),a(n,o,r,c+"[ks[i]]")("}")("}")):o.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),a(n,o,r,c+"[i]")("}")("}")):(o.resolvedType instanceof i||n("if(d%s!=null){",c),a(n,o,r,c),o.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var n=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],a=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?r:t[l].map?a:c).push(t[l]);if(r.length){for(n("if(o.arrays||o.defaults){"),l=0;l<r.length;++l)n("d%s=[]",s.safeProp(r[l].name));n("}")}if(a.length){for(n("if(o.objects||o.defaults){"),l=0;l<a.length;++l)n("d%s={}",s.safeProp(a[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var d=c[l],u=s.safeProp(d.name);if(d.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",u,d.resolvedType.valuesById[d.typeDefault],d.typeDefault);else if(d.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",d.typeDefault.low,d.typeDefault.high,d.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",u)("}else")("d%s=o.longs===String?%j:%i",u,d.typeDefault.toString(),d.typeDefault.toNumber());else if(d.bytes){var p="["+Array.prototype.slice.call(d.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",u,String.fromCharCode.apply(String,d.typeDefault))("else{")("d%s=%s",u,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",u,u)("}")}else n("d%s=%j",u,d.typeDefault)}n("}")}var f=!1;for(l=0;l<t.length;++l){d=t[l];var h=e._fieldsArray.indexOf(d);u=s.safeProp(d.name),d.map?(f||(f=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",u,u)("d%s={}",u)("for(var j=0;j<ks2.length;++j){"),o(n,d,h,u+"[ks2[j]]")("}")):d.repeated?(n("if(m%s&&m%s.length){",u,u)("d%s=[]",u)("for(var j=0;j<m%s.length;++j){",u),o(n,d,h,u+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",u,d.name),o(n,d,h,u),d.partOf&&n("if(o.oneofs)")("d%s=%j",s.safeProp(d.partOf.name),d.name)),n("}")}return n("return d")}},5305:(e,t,n)=>{"use strict";e.exports=function(e){var t=s.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var o=e._fieldsArray[n].resolve(),c=o.resolvedType instanceof r?"int32":o.type,l="m"+s.safeProp(o.name);t("case %i:",o.id),o.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[o.keyType]?t("k=%j",i.defaults[o.keyType]):t("k=null"),void 0!==i.defaults[c]?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),void 0===i.basic[c]?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[o.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):o.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===i.basic[c]?t(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,c)):void 0===i.basic[c]?t(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var d=e._fieldsArray[n];d.required&&t("if(!m.hasOwnProperty(%j))",d.name)("throw util.ProtocolError(%j,{instance:m})",a(d))}return t("return m")};var r=n(7025),i=n(7063),s=n(9935);function a(e){return"missing required '"+e.name+"'"}},4928:(e,t,n)=>{"use strict";e.exports=function(e){for(var t,n=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),o=e.fieldsArray.slice().sort(s.compareFieldsById),c=0;c<o.length;++c){var l=o[c].resolve(),d=e._fieldsArray.indexOf(l),u=l.resolvedType instanceof r?"int32":l.type,p=i.basic[u];t="m"+s.safeProp(l.name),l.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===p?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",d,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,u,t),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==i.packed[u]?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",u,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===p?a(n,l,d,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|p)>>>0,u,t)),n("}")):(l.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===p?a(n,l,d,t):n("w.uint32(%i).%s(%s)",(l.id<<3|p)>>>0,u,t))}return n("return w")};var r=n(7025),i=n(7063),s=n(9935);function a(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},7025:(e,t,n)=>{"use strict";e.exports=a;var r=n(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="Enum";var i=n(9313),s=n(9935);function a(e,t,n,i,s){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=s||{},this.reserved=void 0,t)for(var a=Object.keys(t),o=0;o<a.length;++o)"number"==typeof t[a[o]]&&(this.valuesById[this.values[a[o]]=t[a[o]]]=a[o])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,n){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},3548:(e,t,n)=>{"use strict";e.exports=l;var r=n(3243);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var i,s=n(7025),a=n(7063),o=n(9935),c=/^required|optional|repeated$/;function l(e,t,n,i,s,l,d){if(o.isObject(i)?(d=s,l=i,i=s=void 0):o.isObject(s)&&(d=l,l=s,s=void 0),r.call(this,e,l),!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!o.isString(s))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=n,this.id=t,this.extend=s||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!o.Long&&void 0!==a.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=d}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=o.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;o.base64.test(this.typeDefault)?o.base64.decode(this.typeDefault,e=o.newBuffer(o.base64.length(this.typeDefault)),0):o.utf8.write(this.typeDefault,e=o.newBuffer(o.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=o.emptyObject:this.repeated?this.defaultValue=o.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},l.d=function(e,t,n,r){return"function"==typeof t?t=o.decorateType(t).name:t&&"object"==typeof t&&(t=o.decorateEnum(t).name),function(i,s){o.decorateType(i.constructor).add(new l(s,e,t,n,{default:r}))}},l._configure=function(e){i=e}},8836:(e,t,n)=>{"use strict";var r=e.exports=n(9482);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(4928),r.decoder=n(5305),r.verifier=n(4497),r.converter=n(3996),r.ReflectionObject=n(3243),r.Namespace=n(9313),r.Root=n(9424),r.Enum=n(7025),r.Type=n(7645),r.Field=n(3548),r.OneOf=n(7598),r.MapField=n(6039),r.Service=n(7513),r.Method=n(4429),r.Message=n(8368),r.wrappers=n(1667),r.types=n(7063),r.util=n(9935),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},9050:(e,t,n)=>{"use strict";var r=e.exports=n(8836);r.build="full",r.tokenize=n(626),r.parse=n(2228),r.common=n(2967),r.Root._configure(r.Type,r.parse,r.common)},6039:(e,t,n)=>{"use strict";e.exports=a;var r=n(3548);((a.prototype=Object.create(r.prototype)).constructor=a).className="MapField";var i=n(7063),s=n(9935);function a(e,t,n,i,a,o){if(r.call(this,e,t,i,void 0,void 0,a,o),!s.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},a.d=function(e,t,n){return"function"==typeof n?n=s.decorateType(n).name:n&&"object"==typeof n&&(n=s.decorateEnum(n).name),function(r,i){s.decorateType(r.constructor).add(new a(i,e,t,n))}}},8368:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},4429:(e,t,n)=>{"use strict";e.exports=s;var r=n(3243);((s.prototype=Object.create(r.prototype)).constructor=s).className="Method";var i=n(9935);function s(e,t,n,s,a,o,c,l,d){if(i.isObject(a)?(c=a,a=o=void 0):i.isObject(o)&&(c=o,o=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!a||void 0,this.responseType=s,this.responseStream=!!o||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=d}s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},9313:(e,t,n)=>{"use strict";e.exports=u;var r=n(3243);((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var i,s,a,o=n(3548),c=n(7598),l=n(9935);function d(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function u(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function p(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=d,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),u.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",d(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?s.fromJSON:void 0!==t.id?o.fromJSON:u.fromJSON)(n[r],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof o&&void 0!==e.extend||e instanceof i||e instanceof a||e instanceof s||e instanceof u||e instanceof c))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof i||t instanceof s)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),p(this)},u.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),p(this)},u.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(r))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof u&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,n){i=e,s=t,a=n}},3243:(e,t,n)=>{"use strict";e.exports=s,s.className="ReflectionObject";var r,i=n(9935);function s(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),s.prototype.toJSON=function(){throw Error()},s.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},s.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},s.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},s.prototype.getOption=function(e){if(this.options)return this.options[e]},s.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},s.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var s=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(s){var a=s[e];i.setProperty(a,n,t)}else(s={})[e]=i.setProperty({},n,t),r.push(s)}else{var o={};o[e]=t,r.push(o)}return this},s.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},s.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},s._configure=function(e){r=e}},7598:(e,t,n)=>{"use strict";e.exports=a;var r=n(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="OneOf";var i=n(3548),s=n(9935);function a(e,t,n,i){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function o(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,o(this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}o(this)},a.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){s.decorateType(t.constructor).add(new a(n,e)),Object.defineProperty(t,n,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},2228:(e,t,n)=>{"use strict";e.exports=C,C.filename=null,C.defaults={keepCase:!1};var r=n(626),i=n(9424),s=n(7645),a=n(3548),o=n(6039),c=n(7598),l=n(7025),d=n(7513),u=n(4429),p=n(7063),f=n(9935),h=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,y=/^0[0-7]+$/,b=/^-?0[0-7]+$/,_=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,S=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,k=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function C(e,t,n){t instanceof i||(n=t,t=new i),n||(n=C.defaults);var R,P,T,E,x,O=n.preferTrailingComment||!1,D=r(e,n.alternateCommentMode||!1),I=D.next,M=D.push,L=D.peek,j=D.skip,A=D.cmnt,F=!0,N=!1,B=t,z=n.keepCase?function(e){return e}:f.camelCase;function U(e,t,n){var r=C.filename;return n||(C.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+D.line+")")}function H(){var e,t=[];do{if('"'!==(e=I())&&"'"!==e)throw U(e);t.push(I()),j(e),e=L()}while('"'===e||"'"===e);return t.join("")}function $(e){var t=I();switch(t){case"'":case'"':return M(t),H();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;switch("-"===e.charAt(0)&&(n=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return n*parseInt(e,10);if(g.test(e))return n*parseInt(e,16);if(y.test(e))return n*parseInt(e,8);if(_.test(e))return n*parseFloat(e);throw U(e,"number",!0)}(t)}catch(n){if(e&&S.test(t))return t;throw U(t,"value")}}function W(e,t){var n,r;do{!t||'"'!==(n=L())&&"'"!==n?e.push([r=q(I()),j("to",!0)?q(I()):r]):e.push(H())}while(j(",",!0));j(";")}function q(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw U(e,"id");if(m.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw U(e,"id")}function V(){if(void 0!==R)throw U("package");if(R=I(),!S.test(R))throw U(R,"name");B=B.define(R),j(";")}function K(){var e,t=L();switch(t){case"weak":e=T||(T=[]),I();break;case"public":I();default:e=P||(P=[])}t=H(),j(";"),e.push(t)}function Q(){if(j("="),E=H(),!(N="proto3"===E)&&"proto2"!==E)throw U(E,"syntax");j(";")}function J(e,t){switch(t){case"option":return Z(e,t),j(";"),!0;case"message":return function(e,t){if(!w.test(t=I()))throw U(t,"type name");var n=new s(t);X(n,(function(e){if(!J(n,e))switch(e){case"map":!function(e){j("<");var t=I();if(void 0===p.mapKey[t])throw U(t,"type");j(",");var n=I();if(!S.test(n))throw U(n,"type");j(">");var r=I();if(!w.test(r))throw U(r,"name");j("=");var i=new o(z(r),q(I()),t,n);X(i,(function(e){if("option"!==e)throw U(e);Z(i,e),j(";")}),(function(){te(i)})),e.add(i)}(n);break;case"required":case"repeated":G(n,e);break;case"optional":G(n,N?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!w.test(t=I()))throw U(t,"name");var n=new c(z(t));X(n,(function(e){"option"===e?(Z(n,e),j(";")):(M(e),G(n,"optional"))})),e.add(n)}(n,e);break;case"extensions":W(n.extensions||(n.extensions=[]));break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:if(!N||!S.test(e))throw U(e);M(e),G(n,"optional")}})),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!w.test(t=I()))throw U(t,"name");var n=new l(t);X(n,(function(e){switch(e){case"option":Z(n,e),j(";");break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!w.test(t))throw U(t,"name");j("=");var n=q(I(),!0),r={};X(r,(function(e){if("option"!==e)throw U(e);Z(r,e),j(";")}),(function(){te(r)})),e.add(t,n,r.comment)}(n,e)}})),e.add(n)}(e,t),!0;case"service":return function(e,t){if(!w.test(t=I()))throw U(t,"service name");var n=new d(t);X(n,(function(e){if(!J(n,e)){if("rpc"!==e)throw U(e);!function(e,t){var n=A(),r=t;if(!w.test(t=I()))throw U(t,"name");var i,s,a,o,c=t;if(j("("),j("stream",!0)&&(s=!0),!S.test(t=I()))throw U(t);if(i=t,j(")"),j("returns"),j("("),j("stream",!0)&&(o=!0),!S.test(t=I()))throw U(t);a=t,j(")");var l=new u(c,r,i,a,s,o);l.comment=n,X(l,(function(e){if("option"!==e)throw U(e);Z(l,e),j(";")})),e.add(l)}(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!S.test(t=I()))throw U(t,"reference");var n=t;X(null,(function(t){switch(t){case"required":case"repeated":G(e,t,n);break;case"optional":G(e,N?"proto3_optional":"optional",n);break;default:if(!N||!S.test(t))throw U(t);M(t),G(e,"optional",n)}}))}(e,t),!0}return!1}function X(e,t,n){var r=D.line;if(e&&("string"!=typeof e.comment&&(e.comment=A()),e.filename=C.filename),j("{",!0)){for(var i;"}"!==(i=I());)t(i);j(";",!0)}else n&&n(),j(";"),e&&("string"!=typeof e.comment||O)&&(e.comment=A(r)||e.comment)}function G(e,t,n){var r=I();if("group"!==r){if(!S.test(r))throw U(r,"type");var i=I();if(!w.test(i))throw U(i,"name");i=z(i),j("=");var o=new a(i,q(I()),r,t,n);if(X(o,(function(e){if("option"!==e)throw U(e);Z(o,e),j(";")}),(function(){te(o)})),"proto3_optional"===t){var l=new c("_"+i);o.setOption("proto3_optional",!0),l.add(o),e.add(l)}else e.add(o);N||!o.repeated||void 0===p.packed[r]&&void 0!==p.basic[r]||o.setOption("packed",!1,!0)}else!function(e,t){var n=I();if(!w.test(n))throw U(n,"name");var r=f.lcFirst(n);n===r&&(n=f.ucFirst(n)),j("=");var i=q(I()),o=new s(n);o.group=!0;var c=new a(r,i,n,t);c.filename=C.filename,X(o,(function(e){switch(e){case"option":Z(o,e),j(";");break;case"required":case"repeated":G(o,e);break;case"optional":G(o,N?"proto3_optional":"optional");break;default:throw U(e)}})),e.add(o).add(c)}(e,t)}function Z(e,t){var n=j("(",!0);if(!S.test(t=I()))throw U(t,"name");var r,i=t,s=i;n&&(j(")"),s=i="("+i+")",t=L(),k.test(t)&&(r=t.substr(1),i+=t,I())),j("="),function(e,t,n,r){e.setParsedOption&&e.setParsedOption(t,n,r)}(e,s,Y(e,i),r)}function Y(e,t){if(j("{",!0)){for(var n={};!j("}",!0);){if(!w.test(x=I()))throw U(x,"name");var r,i=x;"{"===L()?r=Y(e,t+"."+x):(j(":"),"{"===L()?r=Y(e,t+"."+x):(r=$(!0),ee(e,t+"."+x,r)));var s=n[i];s&&(r=[].concat(s).concat(r)),n[i]=r,j(",",!0)}return n}var a=$(!0);return ee(e,t,a),a}function ee(e,t,n){e.setOption&&e.setOption(t,n)}function te(e){if(j("[",!0)){do{Z(e,"option")}while(j(",",!0));j("]")}return e}for(;null!==(x=I());)switch(x){case"package":if(!F)throw U(x);V();break;case"import":if(!F)throw U(x);K();break;case"syntax":if(!F)throw U(x);Q();break;case"option":Z(B,x),j(";");break;default:if(J(B,x)){F=!1;continue}throw U(x)}return C.filename=null,{package:R,imports:P,weakImports:T,syntax:E,root:t}}},1408:(e,t,n)=>{"use strict";e.exports=c;var r,i=n(9693),s=i.LongBits,a=i.utf8;function o(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,d="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},u=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):d(e)})(e)}:d};function p(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw o(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw o(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw o(this,8);return new s(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=u(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw o(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw o(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=u(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=s;var r=n(1408);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(9693);function s(e){r.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},9424:(e,t,n)=>{"use strict";e.exports=u;var r=n(9313);((u.prototype=Object.create(r.prototype)).constructor=u).className="Root";var i,s,a,o=n(3548),c=n(7025),l=n(7598),d=n(9935);function u(e){r.call(this,"",e),this.deferred=[],this.files=[]}function p(){}u.fromJSON=function(e,t){return t||(t=new u),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},u.prototype.resolvePath=d.path.resolve,u.prototype.fetch=d.fetch,u.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var i=this;if(!r)return d.asPromise(e,i,t,n);var o=r===p;function c(e,t){if(r){var n=r;if(r=null,o)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in a)return n}return null}function u(e,t){try{if(d.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),d.isString(t)){s.filename=e;var r,a=s(t,i,n),u=0;if(a.imports)for(;u<a.imports.length;++u)(r=l(a.imports[u])||i.resolvePath(e,a.imports[u]))&&f(r);if(a.weakImports)for(u=0;u<a.weakImports.length;++u)(r=l(a.weakImports[u])||i.resolvePath(e,a.weakImports[u]))&&f(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}o||h||c(null,i)}function f(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)o?u(e,a[e]):(++h,setTimeout((function(){--h,u(e,a[e])})));else if(o){var n;try{n=d.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}u(e,n)}else++h,i.fetch(e,(function(n,s){--h,r&&(n?t?h||c(null,i):c(n):u(e,s))}))}var h=0;d.isString(t)&&(t=[t]);for(var m,g=0;g<t.length;++g)(m=i.resolvePath("",t[g]))&&f(m);if(o)return i;h||c(null,i)},u.prototype.loadSync=function(e,t){if(!d.isNode)throw Error("not supported");return this.load(e,t,p)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function h(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new o(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}u.prototype._handleAdd=function(e){if(e instanceof o)void 0===e.extend||e.extensionField||h(0,e)||this.deferred.push(e);else if(e instanceof c)f.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)h(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);f.test(e.name)&&(e.parent[e.name]=e)}},u.prototype._handleRemove=function(e){if(e instanceof o){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)f.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);f.test(e.name)&&delete e.parent[e.name]}},u._configure=function(e,t,n){i=e,s=t,a=n}},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,s,a){if(!s)throw TypeError("request must be specified");var o=this;if(!a)return r.asPromise(e,o,t,n,i,s);if(o.rpcImpl)try{return o.rpcImpl(t,n[o.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(e,n){if(e)return o.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return o.emit("error",e,t),a(e)}return o.emit("data",n,t),a(null,n)}o.end(!0)}))}catch(e){return o.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:(e,t,n)=>{"use strict";e.exports=o;var r=n(9313);((o.prototype=Object.create(r.prototype)).constructor=o).className="Service";var i=n(4429),s=n(9935),a=n(5994);function o(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}o.fromJSON=function(e,t){var n=new o(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),s=0;s<r.length;++s)n.add(i.fromJSON(r[s],t.methods[r[s]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},o.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return s.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),o.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},o.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},o.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},o.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},o.prototype.create=function(e,t,n){for(var r,i=new a.Service(e,t,n),o=0;o<this.methodsArray.length;++o){var c=s.lcFirst((r=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[c]=s.codegen(["r","c"],s.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},626:e=>{"use strict";e.exports=u;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,a=/\n/g,o=/\s/,c=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function d(e){return e.replace(c,(function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}}))}function u(e,c){e=e.toString();var l=0,u=e.length,p=1,f=null,h=null,m=0,g=!1,v=!1,y=[],b=null;function _(e){return Error("illegal "+e+" (line "+p+")")}function w(t){return e.charAt(t)}function S(t,n,r){f=e.charAt(t++),m=p,g=!1,v=r;var o,l=t-(c?2:3);do{if(--l<0||"\n"===(o=e.charAt(l))){g=!0;break}}while(" "===o||"\t"===o);for(var d=e.substring(t,n).split(a),u=0;u<d.length;++u)d[u]=d[u].replace(c?s:i,"").trim();h=d.join("\n").trim()}function k(t){var n=C(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function C(e){for(var t=e;t<u&&"\n"!==w(t);)t++;return t}function R(){if(y.length>0)return y.shift();if(b)return function(){var t="'"===b?r:n;t.lastIndex=l-1;var i=t.exec(e);if(!i)throw _("string");return l=t.lastIndex,P(b),b=null,d(i[1])}();var i,s,a,f,h,m=0===l;do{if(l===u)return null;for(i=!1;o.test(a=w(l));)if("\n"===a&&(m=!0,++p),++l===u)return null;if("/"===w(l)){if(++l===u)throw _("comment");if("/"===w(l))if(c){if(f=l,h=!1,k(l)){h=!0;do{if((l=C(l))===u)break;l++}while(k(l))}else l=Math.min(u,C(l)+1);h&&S(f,l,m),p++,i=!0}else{for(h="/"===w(f=l+1);"\n"!==w(++l);)if(l===u)return null;++l,h&&S(f,l-1,m),++p,i=!0}else{if("*"!==(a=w(l)))return"/";f=l+1,h=c||"*"===w(f);do{if("\n"===a&&++p,++l===u)throw _("comment");s=a,a=w(l)}while("*"!==s||"/"!==a);++l,h&&S(f,l-2,m),i=!0}}}while(i);var g=l;if(t.lastIndex=0,!t.test(w(g++)))for(;g<u&&!t.test(w(g));)++g;var v=e.substring(l,l=g);return'"'!==v&&"'"!==v||(b=v),v}function P(e){y.push(e)}function T(){if(!y.length){var e=R();if(null===e)return null;P(e)}return y[0]}return Object.defineProperty({next:R,peek:T,push:P,skip:function(e,t){var n=T();if(n===e)return R(),!0;if(!t)throw _("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?m===p-1&&(c||"*"===f||g)&&(t=v?h:null):(m<e&&T(),m!==e||g||!c&&"/"!==f||(t=v?null:h)),t}},"line",{get:function(){return p}})}u.unescape=d},7645:(e,t,n)=>{"use strict";e.exports=y;var r=n(9313);((y.prototype=Object.create(r.prototype)).constructor=y).className="Type";var i=n(7025),s=n(7598),a=n(3548),o=n(6039),c=n(7513),l=n(8368),d=n(1408),u=n(1173),p=n(9935),f=n(4928),h=n(5305),m=n(4497),g=n(3996),v=n(1667);function y(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,l,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:p.oneOfGetter(this._oneofsArray[n].oneof),set:p.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),y.generateConstructor=function(e){for(var t,n=p.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",p.safeProp(t.name)):t.repeated&&n("this%s=[]",p.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var l=Object.keys(t.fields),d=0;d<l.length;++d)n.add((void 0!==t.fields[l[d]].keyType?o.fromJSON:a.fromJSON)(l[d],t.fields[l[d]]));if(t.oneofs)for(l=Object.keys(t.oneofs),d=0;d<l.length;++d)n.add(s.fromJSON(l[d],t.oneofs[l[d]]));if(t.nested)for(l=Object.keys(t.nested),d=0;d<l.length;++d){var u=t.nested[l[d]];n.add((void 0!==u.id?a.fromJSON:void 0!==u.fields?y.fromJSON:void 0!==u.values?i.fromJSON:void 0!==u.methods?c.fromJSON:r.fromJSON)(l[d],u))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):r.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return r.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=f(this)({Writer:u,types:t,util:p}),this.decode=h(this)({Reader:d,types:t,util:p}),this.verify=m(this)({types:t,util:p}),this.fromObject=g.fromObject(this)({types:t,util:p}),this.toObject=g.toObject(this)({types:t,util:p});var r=v[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof d||(e=d.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){p.decorateType(t,e)}}},7063:(e,t,n)=>{"use strict";var r=t,i=n(9935),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var n=0,r={};for(t|=0;n<e.length;)r[s[n+t]]=e[n++];return r}r.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=a([0,0,0,1,1],7),r.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:(e,t,n)=>{"use strict";var r,i,s=e.exports=n(9693),a=n(5054);s.codegen=n(5124),s.fetch=n(9054),s.path=n(8626),s.fs=s.inquire("fs"),s.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},s.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];void 0!==i&&(t[r]=i)}return t};var o=/\\/g,c=/"/g;s.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},s.safeProp=function(e){return!/^[$\w_]+$/.test(e)||s.isReserved(e)?'["'+e.replace(o,"\\\\").replace(c,'\\"')+'"]':"."+e},s.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;s.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},s.compareFieldsById=function(e,t){return e.id-t.id},s.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(s.decorateRoot.remove(e.$type),e.$type.name=t,s.decorateRoot.add(e.$type)),e.$type;r||(r=n(7645));var i=new r(t||e.name);return s.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var d=0;s.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=n(7025));var t=new i("Enum"+d++,e);return s.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},s.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();if(n.length>0)t[i]=e(t[i]||{},n,r);else{var s=t[i];s&&(r=[].concat(s).concat(r)),t[i]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(s,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(n(9424)))}})},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var o=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?s:new i((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=s,r.ProtocolError=s("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4497:(e,t,n)=>{"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var r=0;r<e.fieldsArray.length;++r){var c=e._fieldsArray[r].resolve(),l="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",s(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),o(t,c,"k[i]"),a(t,c,r,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",s(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,r,l+"[i]")("}");else{if(c.partOf){var d=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",d)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",d)}a(t,c,r,l)}c.optional&&t("}")}return t("return null")};var r=n(7025),i=n(9935);function s(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",s(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),o=0;o<a.length;++o)e("case %i:",t.resolvedType.values[a[o]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(t,"buffer"))}return e}function o(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",s(t,"boolean key"))}return e}},1667:(e,t,n)=>{"use strict";var r=t,i=n(8368);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var s=this.lookup(r);s&&(e=s.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=r,a}return this.toObject(e,t)}}},1173:(e,t,n)=>{"use strict";e.exports=u;var r,i=n(9693),s=i.LongBits,a=i.base64,o=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function d(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var p=function(){return i.Buffer?function(){return(u.create=function(){return new r})()}:function(){return new u}};function f(e,t,n){t[n]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}u.create=p(),u.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(u.alloc=i.pool(u.alloc,i.Array.prototype.subarray)),u.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(m,10,s.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=s.from(e);return this._push(m,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(m,t.length(),t)},u.prototype.bool=function(e){return this._push(f,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=s.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var n=u.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},u.prototype.string=function(e){var t=o.length(e);return t?this.uint32(t)._push(o.write,t,e):this._push(f,1,0)},u.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new c(l,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},u._configure=function(e){r=e,u.create=p(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=s;var r=n(1173);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(9693);function s(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},s._configure()},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(3840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(h,e)||!u.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function j(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var A,F=Object.assign;function N(e){if(void 0===A)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function U(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 1:return z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case R:return"Profiler";case C:return"StrictMode";case x:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){G(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Y(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ce=null;function Re(e){if(e=gi(e)){if("function"!=typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=yi(t),Se(e.stateNode,e.type,t))}}function Pe(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Ee(e,t){return e(t)}function xe(){}var Oe=!1;function De(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ee(e,t,n)}finally{Oe=!1,(null!==ke||null!==Ce)&&(xe(),Te())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Me=!1}function je(e,t,n,r,i,s,a,o,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Ae=!1,Fe=null,Ne=!1,Be=null,ze={onError:function(e){Ae=!0,Fe=e}};function Ue(e,t,n,r,i,s,a,o,c){Ae=!1,Fe=null,je.apply(ze,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ge=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Ye=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null,at=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2,lt=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ut(o):0!=(s&=a)&&(r=ut(s))}else 0!=(a=n&~i)?r=ut(a):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var _t,wt,St,kt,Ct,Rt=!1,Pt=[],Tt=null,Et=null,xt=null,Ot=new Map,Dt=new Map,It=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function jt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=gi(t))&&wt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function At(e){var t=mi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Nt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Rt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Et&&Ft(Et)&&(Et=null),null!==xt&&Ft(xt)&&(xt=null),Ot.forEach(Nt),Dt.forEach(Nt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Rt||(Rt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return zt(t,e)}if(0<Pt.length){zt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Et&&zt(Et,e),null!==xt&&zt(xt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)At(n),null===n.blockedOn&&It.shift()}var Ht=_.ReactCurrentBatchConfig;function $t(e,t,n,r){var i=yt,s=Ht.transition;Ht.transition=null;try{yt=1,qt(e,t,n,r)}finally{yt=i,Ht.transition=s}}function Wt(e,t,n,r){var i=yt,s=Ht.transition;Ht.transition=null;try{yt=4,qt(e,t,n,r)}finally{yt=i,Ht.transition=s}}function qt(e,t,n,r){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,Vt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=jt(Tt,e,t,n,r,i),!0;case"dragenter":return Et=jt(Et,e,t,n,r,i),!0;case"mouseover":return xt=jt(xt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,jt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,jt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var s=gi(i);if(null!==s&&_t(s),null===(s=Kt(e,t,n,r))&&Hr(e,t,r,Vt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}var Vt=null;function Kt(e,t,n,r){if(Vt=null,null!==(e=mi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Ye:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Gt=null;function Zt(){if(Gt)return Gt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,sn,an,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=nn(on),ln=F({},on,{view:0,detail:0}),dn=nn(ln),un=F({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(rn=e.screenX-an.screenX,sn=e.screenY-an.screenY):sn=rn=0,an=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=nn(un),fn=nn(F({},un,{dataTransfer:0})),hn=nn(F({},ln,{relatedTarget:0})),mn=nn(F({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(gn),yn=nn(F({},on,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function kn(){return Sn}var Cn=F({},ln,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=nn(Cn),Pn=nn(F({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),En=nn(F({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=F({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=nn(xn),Dn=[9,13,27,32],In=d&&"CompositionEvent"in window,Mn=null;d&&"documentMode"in document&&(Mn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Mn,jn=d&&(!In||Mn&&8<Mn&&11>=Mn),An=String.fromCharCode(32),Fn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function $n(e,t,n,r){Pe(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function Vn(e){Ar(e,0)}function Kn(e){if(K(vi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Xn;if(d){var Gn="oninput"in document;if(!Gn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Gn="function"==typeof Zn.oninput}Xn=Gn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function Yn(){Wn&&(Wn.detachEvent("onpropertychange",er),qn=Wn=null)}function er(e){if("value"===e.propertyName&&Kn(qn)){var t=[];$n(t,qn,e,we(e)),De(Vn,t)}}function tr(e,t,n){"focusin"===e?(Yn(),qn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Yn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function rr(e,t){if("click"===e)return Kn(t)}function ir(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ar(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lr(n.ownerDocument.documentElement,n)){if(null!==r&&ur(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,hr=null,mr=null,gr=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==hr||hr!==Q(r)||(r="selectionStart"in(r=hr)&&ur(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ar(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},Sr={};function kr(e){if(wr[e])return wr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return wr[e]=n[t];return e}d&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=kr("animationend"),Rr=kr("animationiteration"),Pr=kr("animationstart"),Tr=kr("transitionend"),Er=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Er.set(e,t),c(t,[e])}for(var Dr=0;Dr<xr.length;Dr++){var Ir=xr[Dr];Or(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Or(Cr,"onAnimationEnd"),Or(Rr,"onAnimationIteration"),Or(Pr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,c,l){if(Ue.apply(this,arguments),Ae){if(!Ae)throw Error(s(198));var d=Fe;Ae=!1,Fe=null,Ne||(Ne=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;jr(i,o,l),s=c}else for(a=0;a<r.length;a++){if(c=(o=r[a]).instance,l=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;jr(i,o,l),s=c}}}if(Ne)throw e=Be,Ne=!1,Be=null,e}function Fr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Nr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Nr(t,!1,e),Nr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Nr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Qt(t)){case 1:var i=$t;break;case 4:i=Wt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=mi(o)))return;if(5===(c=a.tag)||6===c){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=we(n),a=[];e:{var o=Er.get(e);if(void 0!==o){var c=cn,l=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=Rn;break;case"focusin":l="focus",c=hn;break;case"focusout":l="blur",c=hn;break;case"beforeblur":case"afterblur":c=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tn;break;case Cr:case Rr:case Pr:c=mn;break;case Tr:c=En;break;case"scroll":c=dn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Pn}var d=0!=(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&null!=(m=Ie(h,p))&&d.push($r(h,m,f))),u)break;h=h.return}0<d.length&&(o=new c(o,l,null,n,i),a.push({event:o,listeners:d}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[ui])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(u=He(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(d=pn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pn,m="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==c?o:vi(c),f=null==l?o:vi(l),(o=new d(m,h+"leave",c,n,i)).target=u,o.relatedTarget=f,m=null,mi(i)===r&&((d=new d(p,h+"enter",l,n,i)).target=f,d.relatedTarget=u,m=d),u=m,c&&l)e:{for(p=l,h=0,f=d=c;f;f=qr(f))h++;for(f=0,m=p;m;m=qr(m))f++;for(;0<h-f;)d=qr(d),h--;for(;0<f-h;)p=qr(p),f--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=qr(d),p=qr(p)}d=null}else d=null;null!==c&&Vr(a,o,c,d,!1),null!==l&&null!==u&&Vr(a,u,l,d,!0)}if("select"===(c=(o=r?vi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Qn;else if(Hn(o))if(Jn)g=ir;else{g=nr;var v=tr}else(c=o.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=rr);switch(g&&(g=g(e,r))?$n(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?vi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(hr=v,mr=r,gr=null);break;case"focusout":gr=mr=hr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(a,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(a,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=Zt()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Wr(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=Bn(n)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,An);case"textInput":return(e=t.data)===An&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!In&&Nn(e,t)?(e=Zt(),Gt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Ar(a,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ie(e,n))&&r.unshift($r(e,s,i)),null!=(s=Ie(e,t))&&r.push($r(e,s,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,c=o.alternate,l=o.stateNode;if(null!==c&&c===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(c=Ie(n,s))&&a.unshift($r(n,c,o)):i||null!=(c=Ie(n,s))&&a.push($r(n,c,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Gr(){}var Zr=null;function Yr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"==typeof setTimeout?setTimeout:void 0,ti="function"==typeof clearTimeout?clearTimeout:void 0,ni="function"==typeof Promise?Promise:void 0,ri="function"==typeof queueMicrotask?queueMicrotask:void 0!==ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),li="__reactFiber$"+ci,di="__reactProps$"+ci,ui="__reactContainer$"+ci,pi="__reactEvents$"+ci,fi="__reactListeners$"+ci,hi="__reactHandles$"+ci;function mi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[li])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[li]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function yi(e){return e[di]||null}var bi=[],_i=-1;function wi(e){return{current:e}}function Si(e){0>_i||(e.current=bi[_i],bi[_i]=null,_i--)}function ki(e,t){_i++,bi[_i]=e.current,e.current=t}var Ci={},Ri=wi(Ci),Pi=wi(!1),Ti=Ci;function Ei(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xi(e){return null!=e.childContextTypes}function Oi(){Si(Pi),Si(Ri)}function Di(e,t,n){if(Ri.current!==Ci)throw Error(s(168));ki(Ri,t),ki(Pi,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ti=Ri.current,ki(Ri,e),ki(Pi,Pi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ii(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Si(Pi),Si(Ri),ki(Ri,e)):Si(Pi),ki(Pi,n)}var ji=null,Ai=!1,Fi=!1;function Ni(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Fi&&null!==ji){Fi=!0;var e=0,t=yt;try{var n=ji;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ai=!1}catch(t){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ye,Bi),t}finally{yt=t,Fi=!1}}return null}var zi=_.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hi=wi(null),$i=null,Wi=null,qi=null;function Vi(){qi=Wi=$i=null}function Ki(e){var t=Hi.current;Si(Hi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){$i=e,qi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===$i)throw Error(s(308));Wi=e,$i.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Gi=null,Zi=!1;function Yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function es(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==vc&&0!=(1&e.mode)&&0==(2&gc)?(null===(e=n.interleaved)?(t.next=t,null===Gi?Gi=[n]:Gi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function is(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ss(e,t,n,r){var i=e.updateQueue;Zi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var c=o,l=c.next;c.next=null,null===a?s=l:a.next=l,a=c;var d=e.alternate;null!==d&&(o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=c)}if(null!==s){var u=i.baseState;for(a=0,d=l=c=null,o=s;;){var p=o.lane,f=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(p=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){u=h.call(f,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(f,u,p):h))break e;u=F({},u,p);break e;case 2:Zi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=f,c=u):d=d.next=f,a|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===d&&(c=u),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Cc|=a,e.lanes=a,e.memoizedState=u}}function as(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var os=(new r.Component).refs;function cs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ls={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Uc(),i=Hc(e),s=ts(r,i);s.payload=t,null!=n&&(s.callback=n),ns(e,s),null!==(t=$c(e,i,r))&&rs(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Uc(),i=Hc(e),s=ts(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),ns(e,s),null!==(t=$c(e,i,r))&&rs(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Uc(),r=Hc(e),i=ts(n,r);i.tag=2,null!=t&&(i.callback=t),ns(e,i),null!==(t=$c(e,r,n))&&rs(t,e,r)}};function ds(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!(t.prototype&&t.prototype.isPureReactComponent&&ar(n,r)&&ar(i,s))}function us(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"==typeof s&&null!==s?s=Xi(s):(i=xi(t)?Ti:Ri.current,s=(r=null!=(r=t.contextTypes))?Ei(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ps(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function fs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=os,Yi(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=Xi(s):(s=xi(t)?Ti:Ri.current,i.context=Ei(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(cs(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ls.enqueueReplaceState(i,i.state,null),ss(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var hs=[],ms=0,gs=null,vs=0,ys=[],bs=0,_s=null,ws=1,Ss="";function ks(e,t){hs[ms++]=vs,hs[ms++]=gs,gs=e,vs=t}function Cs(e,t,n){ys[bs++]=ws,ys[bs++]=Ss,ys[bs++]=_s,_s=e;var r=ws;e=Ss;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ws=1<<32-at(t)+i|n<<i|r,Ss=s+e}else ws=1<<s|n<<i|r,Ss=e}function Rs(e){null!==e.return&&(ks(e,1),Cs(e,1,0))}function Ps(e){for(;e===gs;)gs=hs[--ms],hs[ms]=null,vs=hs[--ms],hs[ms]=null;for(;e===_s;)_s=ys[--bs],ys[bs]=null,Ss=ys[--bs],ys[bs]=null,ws=ys[--bs],ys[bs]=null}var Ts=null,Es=null,xs=!1,Os=null;function Ds(e,t){var n=bl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ts=e,Es=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ts=e,Es=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_s?{id:ws,overflow:Ss}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ts=e,Es=null,!0);default:return!1}}function Ms(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Ls(e){if(xs){var t=Es;if(t){var n=t;if(!Is(e,t)){if(Ms(e))throw Error(s(418));t=ai(n.nextSibling);var r=Ts;t&&Is(e,t)?Ds(r,n):(e.flags=-4097&e.flags|2,xs=!1,Ts=e)}}else{if(Ms(e))throw Error(s(418));e.flags=-4097&e.flags|2,xs=!1,Ts=e}}}function js(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ts=e}function As(e){if(e!==Ts)return!1;if(!xs)return js(e),xs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Yr(e.type,e.memoizedProps)),t&&(t=Es)){if(Ms(e)){for(e=Es;e;)e=ai(e.nextSibling);throw Error(s(418))}for(;t;)Ds(e,t),t=ai(t.nextSibling)}if(js(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Es=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Es=null}}else Es=Ts?ai(e.stateNode.nextSibling):null;return!0}function Fs(){Es=Ts=null,xs=!1}function Ns(e){null===Os?Os=[e]:Os.push(e)}function Bs(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===os&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Us(e){return(0,e._init)(e._payload)}function Hs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=wl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Rl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===k?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===I&&Us(s)===t.type)?((r=i(t,n.props)).ref=Bs(e,t,n),r.return=e,r):((r=Sl(n.type,n.key,n.props,null,e.mode,r)).ref=Bs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=kl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Rl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Sl(t.type,t.key,t.props,null,e.mode,n)).ref=Bs(e,null,t),n.return=e,n;case S:return(t=Pl(t,e.mode,n)).return=e,t;case I:return p(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=kl(t,e.mode,n,null)).return=e,t;zs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?d(e,t,n,r):null;case I:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:u(e,t,n,r,null);zs(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return u(t,e=e.get(n)||null,r,i,null);zs(t,r)}return null}function m(i,s,o,c){for(var l=null,d=null,u=s,m=s=0,g=null;null!==u&&m<o.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var v=f(i,u,o[m],c);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(i,u),s=a(v,s,m),null===d?l=v:d.sibling=v,d=v,u=g}if(m===o.length)return n(i,u),xs&&ks(i,m),l;if(null===u){for(;m<o.length;m++)null!==(u=p(i,o[m],c))&&(s=a(u,s,m),null===d?l=u:d.sibling=u,d=u);return xs&&ks(i,m),l}for(u=r(i,u);m<o.length;m++)null!==(g=h(u,i,m,o[m],c))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),s=a(g,s,m),null===d?l=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(i,e)})),xs&&ks(i,m),l}function g(i,o,c,l){var d=j(c);if("function"!=typeof d)throw Error(s(150));if(null==(c=d.call(c)))throw Error(s(151));for(var u=d=null,m=o,g=o=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===u?d=b:u.sibling=b,u=b,m=v}if(y.done)return n(i,m),xs&&ks(i,g),d;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=p(i,y.value,l))&&(o=a(y,o,g),null===u?d=y:u.sibling=y,u=y);return xs&&ks(i,g),d}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=h(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(i,e)})),xs&&ks(i,g),d}return function e(r,s,a,c){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,d=s;null!==d;){if(d.key===l){if((l=a.type)===k){if(7===d.tag){n(r,d.sibling),(s=i(d,a.props.children)).return=r,r=s;break e}}else if(d.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===I&&Us(l)===d.type){n(r,d.sibling),(s=i(d,a.props)).ref=Bs(r,d,a),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}a.type===k?((s=kl(a.props.children,r.mode,c,a.key)).return=r,r=s):((c=Sl(a.type,a.key,a.props,null,r.mode,c)).ref=Bs(r,s,a),c.return=r,r=c)}return o(r);case S:e:{for(d=a.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Pl(a,r.mode,c)).return=r,r=s}return o(r);case I:return e(r,s,(d=a._init)(a._payload),c)}if(te(a))return m(r,s,a,c);if(j(a))return g(r,s,a,c);zs(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Rl(a,r.mode,c)).return=r,r=s),o(r)):n(r,s)}}var $s=Hs(!0),Ws=Hs(!1),qs={},Vs=wi(qs),Ks=wi(qs),Qs=wi(qs);function Js(e){if(e===qs)throw Error(s(174));return e}function Xs(e,t){switch(ki(Qs,t),ki(Ks,e),ki(Vs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Vs),ki(Vs,t)}function Gs(){Si(Vs),Si(Ks),Si(Qs)}function Zs(e){Js(Qs.current);var t=Js(Vs.current),n=ce(t,e.type);t!==n&&(ki(Ks,e),ki(Vs,n))}function Ys(e){Ks.current===e&&(Si(Vs),Si(Ks))}var ea=wi(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=_.ReactCurrentDispatcher,sa=_.ReactCurrentBatchConfig,aa=0,oa=null,ca=null,la=null,da=!1,ua=!1,pa=0,fa=0;function ha(){throw Error(s(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,oa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:Ya,e=n(r,i),ua){a=0;do{if(ua=!1,pa=0,25<=a)throw Error(s(301));a+=1,la=ca=null,t.updateQueue=null,ia.current=eo,e=n(r,i)}while(ua)}if(ia.current=Ga,t=null!==ca&&null!==ca.next,aa=0,la=ca=oa=null,da=!1,t)throw Error(s(300));return e}function va(){var e=0!==pa;return pa=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?oa.memoizedState=la=e:la=la.next=e,la}function ba(){if(null===ca){var e=oa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?oa.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?oa.memoizedState=la=e:la=la.next=e}return la}function _a(e,t){return"function"==typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=o=null,l=null,d=a;do{var u=d.lane;if((aa&u)===u)null!==l&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===l?(c=l=p,o=r):l=l.next=p,oa.lanes|=u,Cc|=u}d=d.next}while(null!==d&&d!==a);null===l?o=r:l.next=c,sr(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,oa.lanes|=a,Cc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);sr(a,t.memoizedState)||(vo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ca(e,t){var n=oa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,vo=!0),r=r.queue,ja(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Oa(9,Pa.bind(null,n,r,i,t),void 0,null),null===vc)throw Error(s(349));0!=(30&aa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Ea(t)&&$c(e,1,-1)}function Ta(e,t,n){return n((function(){Ea(t)&&$c(e,1,-1)}))}function Ea(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function xa(e){var t=ya();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=Va.bind(null,oa,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ba().memoizedState}function Ia(e,t,n,r){var i=ya();oa.flags|=e,i.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var i=ba();r=void 0===r?null:r;var s=void 0;if(null!==ca){var a=ca.memoizedState;if(s=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Oa(t,n,s,r))}oa.flags|=e,i.memoizedState=Oa(1|t,n,s,r)}function La(e,t){return Ia(8390656,8,e,t)}function ja(e,t){return Ma(2048,8,e,t)}function Aa(e,t){return Ma(4,2,e,t)}function Fa(e,t){return Ma(4,4,e,t)}function Na(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4,4,Na.bind(null,t,e),n)}function za(){}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{yt=n,sa.transition=r}}function Wa(){return ba().memoizedState}function qa(e,t,n){var r=Hc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e)?Qa(t,n):(Ja(e,t,n),null!==(e=$c(e,r,n=Uc()))&&Xa(e,t,r))}function Va(e,t,n){var r=Hc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Qa(t,i);else{Ja(e,t,i);var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,sr(o,a))return}catch(e){}null!==(e=$c(e,r,n=Uc()))&&Xa(e,t,r)}}function Ka(e){var t=e.alternate;return e===oa||null!==t&&t===oa}function Qa(e,t){ua=da=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){null!==vc&&0!=(1&e.mode)&&0==(2&gc)?(null===(e=t.interleaved)?(n.next=n,null===Gi?Gi=[t]:Gi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xa(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ga={readContext:Xi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Za={readContext:Xi,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Xi,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ia(4194308,4,Na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ia(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ia(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,oa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:xa,useDebugValue:za,useDeferredValue:function(e){var t=xa(e),n=t[0],r=t[1];return La((function(){var t=sa.transition;sa.transition={};try{r(e)}finally{sa.transition=t}}),[e]),n},useTransition:function(){var e=xa(!1),t=e[0];return e=$a.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oa,i=ya();if(xs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===vc)throw Error(s(349));0!=(30&aa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=vc.identifierPrefix;if(xs){var n=Ss;t=":"+t+"R"+(n=(ws&~(1<<32-at(ws)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ya={readContext:Xi,useCallback:Ua,useContext:Xi,useEffect:ja,useImperativeHandle:Ba,useInsertionEffect:Aa,useLayoutEffect:Fa,useMemo:Ha,useReducer:wa,useRef:Da,useState:function(){return wa(_a)},useDebugValue:za,useDeferredValue:function(e){var t=wa(_a),n=t[0],r=t[1];return ja((function(){var t=sa.transition;sa.transition={};try{r(e)}finally{sa.transition=t}}),[e]),n},useTransition:function(){return[wa(_a)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ca,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:Xi,useCallback:Ua,useContext:Xi,useEffect:ja,useImperativeHandle:Ba,useInsertionEffect:Aa,useLayoutEffect:Fa,useMemo:Ha,useReducer:Sa,useRef:Da,useState:function(){return Sa(_a)},useDebugValue:za,useDeferredValue:function(e){var t=Sa(_a),n=t[0],r=t[1];return ja((function(){var t=sa.transition;sa.transition={};try{r(e)}finally{sa.transition=t}}),[e]),n},useTransition:function(){return[Sa(_a)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ca,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function no(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ro,io,so,ao="function"==typeof WeakMap?WeakMap:Map;function oo(e,t,n){(n=ts(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dc||(Dc=!0,Ic=r),no(0,t)},n}function co(e,t,n){(n=ts(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){no(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){no(0,t),"function"!=typeof r&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ao;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=fl.bind(null,e,t,n),t.then(e,e))}function uo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function po(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ts(-1,1)).tag=2,ns(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function fo(e,t){if(!xs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mo(e,t,n){var r=t.pendingProps;switch(Ps(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ho(t),null;case 1:case 17:return xi(t.type)&&Oi(),ho(t),null;case 3:return r=t.stateNode,Gs(),Si(Pi),Si(Ri),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(As(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==Os&&(Qc(Os),Os=null))),ho(t),null;case 5:Ys(t);var i=Js(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)io(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ho(t),null}if(e=Js(Vs.current),As(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[li]=t,r[di]=a,e=0!=(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"==typeof l?r.textContent!==l&&(Xr(r.textContent,l,e),i=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(Xr(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Fr("scroll",r)}switch(n){case"input":V(r),Y(r,a,!0);break;case"textarea":V(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Gr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[li]=t,e[di]=r,ro(e,t),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=J(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var d=l[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"==typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"==typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Fr("scroll",e):null!=d&&b(e,a,d,c))}switch(n){case"input":V(e),Y(e,r,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Gr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ho(t),null;case 6:if(e&&null!=t.stateNode)so(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Qs.current),Js(Vs.current),As(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(a=r.nodeValue!==n)&&null!==(e=Ts))switch(c=0!=(1&e.mode),e.tag){case 3:Xr(r.nodeValue,n,c);break;case 5:!0!==e.memoizedProps[void 0]&&Xr(r.nodeValue,n,c)}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return ho(t),null;case 13:if(Si(ea),r=t.memoizedState,xs&&null!==Es&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=Es;r;)r=ai(r.nextSibling);return Fs(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=As(t),null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[li]=t}else Fs(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ho(t),null}return null!==Os&&(Qc(Os),Os=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?As(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ea.current)?0===Sc&&(Sc=3):rl())),null!==t.updateQueue&&(t.flags|=4),ho(t),null);case 4:return Gs(),null===e&&zr(t.stateNode.containerInfo),ho(t),null;case 10:return Ki(t.type._context),ho(t),null;case 19:if(Si(ea),null===(a=t.memoizedState))return ho(t),null;if(r=0!=(128&t.flags),null===(c=a.rendering))if(r)fo(a,!1);else{if(0!==Sc||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ta(e))){for(t.flags|=128,fo(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ge()>Oc&&(t.flags|=128,r=!0,fo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),fo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!xs)return ho(t),null}else 2*Ge()-a.renderingStartTime>Oc&&1073741824!==n&&(t.flags|=128,r=!0,fo(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ge(),t.sibling=null,n=ea.current,ki(ea,r?1&n|2:1&n),t):(ho(t),null);case 22:case 23:return Yc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&_c)&&(ho(t),6&t.subtreeFlags&&(t.flags|=8192)):ho(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},io=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Vs.current);var s,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Gr)}for(d in ye(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var c=i[d];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var l=r[d];if(c=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(d,l)):"children"===d?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Fr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(d,l))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},so=function(e,t,n,r){n!==r&&(t.flags|=4)};var go=_.ReactCurrentOwner,vo=!1;function yo(e,t,n,r){t.child=null===e?Ws(t,null,n,r):$s(t,e.child,n,r)}function bo(e,t,n,r,i){n=n.render;var s=t.ref;return Ji(t,i),r=ga(e,t,n,r,s,i),n=va(),null===e||vo?(xs&&n&&Rs(t),t.flags|=1,yo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||_l(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Sl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wo(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(a,r)&&e.ref===t.ref)return Bo(e,t,i)}return t.flags|=1,(e=wl(s,r)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,n,r,i){if(null!==e&&ar(e.memoizedProps,r)&&e.ref===t.ref){if(vo=!1,0==(e.lanes&i))return t.lanes=e.lanes,Bo(e,t,i);0!=(131072&e.flags)&&(vo=!0)}return Co(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ki(wc,_c),_c|=n;else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ki(wc,_c),_c|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==s?s.baseLanes:n,ki(wc,_c),_c|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(wc,_c),_c|=r;return yo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=xi(n)?Ti:Ri.current;return s=Ei(t,s),Ji(t,i),n=ga(e,t,n,r,s,i),r=va(),null===e||vo?(xs&&r&&Rs(t),t.flags|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i))}function Ro(e,t,n,r,i){if(xi(n)){var s=!0;Mi(t)}else s=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),us(t,n,r),fs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,l=n.contextType;l="object"==typeof l&&null!==l?Xi(l):Ei(t,l=xi(n)?Ti:Ri.current);var d=n.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||c!==l)&&ps(t,a,r,l),Zi=!1;var p=t.memoizedState;a.state=p,ss(t,r,a,i),c=t.memoizedState,o!==r||p!==c||Pi.current||Zi?("function"==typeof d&&(cs(t,n,d,r),c=t.memoizedState),(o=Zi||ds(t,n,o,r,p,c,l))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,es(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:Ui(t.type,o),a.props=l,u=t.pendingProps,p=a.context,c="object"==typeof(c=n.contextType)&&null!==c?Xi(c):Ei(t,c=xi(n)?Ti:Ri.current);var f=n.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==u||p!==c)&&ps(t,a,r,c),Zi=!1,p=t.memoizedState,a.state=p,ss(t,r,a,i);var h=t.memoizedState;o!==u||p!==h||Pi.current||Zi?("function"==typeof f&&(cs(t,n,f,r),h=t.memoizedState),(l=Zi||ds(t,n,l,r,p,h,c)||!1)?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,s,i)}function Po(e,t,n,r,i,s){ko(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Bo(e,t,s);r=t.stateNode,go.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,o,s)):yo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xs(e,t.containerInfo)}function Eo(e,t,n,r,i){return Fs(),Ns(i),t.flags|=256,yo(e,t,n,r),t.child}var xo={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null}}function Do(e,t,n){var r,i=t.pendingProps,a=ea.current,o=!1,c=0!=(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ea,1&a),null===e)return Ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Cl(a,i,0,null),e=kl(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=xo,e):Io(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(c)return 256&t.flags?(t.flags&=-257,jo(e,t,n,Error(s(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,a=t.mode,i=Cl({mode:"visible",children:i.children},a,0,null),(o=kl(o,a,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!=(1&t.mode)&&$s(t,e.child,null,n),t.child.memoizedState=Oo(n),t.memoizedState=xo,o);if(0==(1&t.mode))t=jo(e,t,n,null);else if("$!"===r.data)t=jo(e,t,n,Error(s(419)));else if(i=0!=(n&e.childLanes),vo||i){if(null!==(i=vc)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!=(o&(i.suspendedLanes|n))?0:o)&&i!==a.retryLane&&(a.retryLane=i,$c(e,i,-1))}rl(),t=jo(e,t,n,Error(s(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=ml.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Es=ai(r.nextSibling),Ts=t,xs=!0,Os=null,null!==n&&(ys[bs++]=ws,ys[bs++]=Ss,ys[bs++]=_s,ws=n.id,Ss=n.overflow,_s=t),(t=Io(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=Lo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Oo(n):{baseLanes:a.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=xo,i):(n=Mo(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=Lo(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?Oo(n):{baseLanes:a.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=xo,i):(n=Mo(e,t,i.children,n),t.memoizedState=null,n)}function Io(e,t){return(t=Cl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mo(e,t,n,r){var i=e.child;return e=i.sibling,n=wl(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Lo(e,t,n,r,i){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0==(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=wl(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=wl(a,r):(r=kl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function jo(e,t,n,r){return null!==r&&Ns(r),$s(t,e.child,null,n),(e=Io(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ao(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function No(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(yo(e,t,r.children,n),0!=(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ao(e,n,t);else if(19===e.tag)Ao(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ea,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fo(t,!0,n,null,s);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=wl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=wl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zo(e,t){switch(Ps(t),t.tag){case 1:return xi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),Si(Pi),Si(Ri),ra(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ys(t),null;case 13:if(Si(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));Fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ea),null;case 4:return Gs(),null;case 10:return Ki(t.type._context),null;case 22:case 23:return Yc(),null;default:return null}}var Uo=!1,Ho=!1,$o="function"==typeof WeakSet?WeakSet:Set,Wo=null;function qo(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){pl(e,t,n)}else n.current=null}function Vo(e,t,n){try{n()}catch(n){pl(e,t,n)}}var Ko=!1;function Qo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Vo(t,n,s)}i=i.next}while(i!==r)}}function Jo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xo(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Go(e,t,n){if(st&&"function"==typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!=(2&i)||0!=(4&i))&&Vo(t,n,s),r=r.next}while(r!==e)}break;case 1:if(qo(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){pl(t,n,e)}break;case 5:qo(t,n);break;case 4:ic(e,t,n)}}function Zo(e){var t=e.alternate;null!==t&&(e.alternate=null,Zo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[li],delete t[di],delete t[pi],delete t[fi],delete t[hi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yo(e){return 5===e.tag||3===e.tag||4===e.tag}function ec(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Yo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function tc(e){e:{for(var t=e.return;null!==t;){if(Yo(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(pe(t,""),n.flags&=-33),rc(e,n=ec(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,nc(e,n=ec(e),t);break;default:throw Error(s(161))}}function nc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Gr));else if(4!==r&&null!==(e=e.child))for(nc(e,t,n),e=e.sibling;null!==e;)nc(e,t,n),e=e.sibling}function rc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rc(e,t,n),e=e.sibling;null!==e;)rc(e,t,n),e=e.sibling}function ic(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(s(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var c=e,l=a,d=n,u=l;;)if(Go(c,u,d),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(c=r,l=a.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(a.stateNode)}else if(18===a.tag)i?(c=r,l=a.stateNode,8===c.nodeType?si(c.parentNode,l):1===c.nodeType&&si(c,l),Ut(c)):si(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(Go(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function sc(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qo(3,t,t.return),Jo(3,t),void Qo(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for("input"===e&&"radio"===r.type&&null!=r.name&&G(n,r),be(e,i),t=be(e,r),i=0;i<a.length;i+=2){var o=a[i],c=a[i+1];"style"===o?ge(n,c):"dangerouslySetInnerHTML"===o?ue(n,c):"children"===o?pe(n,c):b(n,o,c,t)}switch(e){case"input":Z(n,r);break;case"textarea":se(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ne(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[di]=r}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Ut(t.stateNode.containerInfo));case 13:case 19:return void function(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=gl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}(t)}throw Error(s(163))}function ac(e,t,n){Wo=e,oc(e,t,n)}function oc(e,t,n){for(var r=0!=(1&e.mode);null!==Wo;){var i=Wo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Uo;if(!a){var o=i.alternate,c=null!==o&&null!==o.memoizedState||Ho;o=Uo;var l=Ho;if(Uo=a,(Ho=c)&&!l)for(Wo=i;null!==Wo;)c=(a=Wo).child,22===a.tag&&null!==a.memoizedState?dc(i):null!==c?(c.return=a,Wo=c):dc(i);for(;null!==s;)Wo=s,oc(s,t,n),s=s.sibling;Wo=i,Uo=o,Ho=l}cc(e)}else 0!=(8772&i.subtreeFlags)&&null!==s?(s.return=i,Wo=s):cc(e)}}function cc(e){for(;null!==Wo;){var t=Wo;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ho||Jo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ho)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&as(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}as(t,o,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(s(163))}Ho||512&t.flags&&Xo(t)}catch(e){pl(t,t.return,e)}}if(t===e){Wo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wo=n;break}Wo=t.return}}function lc(e){for(;null!==Wo;){var t=Wo;if(t===e){Wo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wo=n;break}Wo=t.return}}function dc(e){for(;null!==Wo;){var t=Wo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jo(4,t)}catch(e){pl(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){pl(t,i,e)}}var s=t.return;try{Xo(t)}catch(e){pl(t,s,e)}break;case 5:var a=t.return;try{Xo(t)}catch(e){pl(t,a,e)}}}catch(e){pl(t,t.return,e)}if(t===e){Wo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Wo=o;break}Wo=t.return}}var uc,pc=Math.ceil,fc=_.ReactCurrentDispatcher,hc=_.ReactCurrentOwner,mc=_.ReactCurrentBatchConfig,gc=0,vc=null,yc=null,bc=0,_c=0,wc=wi(0),Sc=0,kc=null,Cc=0,Rc=0,Pc=0,Tc=null,Ec=null,xc=0,Oc=1/0,Dc=!1,Ic=null,Mc=null,Lc=!1,jc=null,Ac=0,Fc=0,Nc=null,Bc=-1,zc=0;function Uc(){return 0!=(6&gc)?Ge():-1!==Bc?Bc:Bc=Ge()}function Hc(e){return 0==(1&e.mode)?1:0!=(2&gc)&&0!==bc?bc&-bc:null!==zi.transition?(0===zc&&(e=lt,0==(4194240&(lt<<=1))&&(lt=64),zc=e),zc):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function $c(e,t,n){if(50<Fc)throw Fc=0,Nc=null,Error(s(185));var r=Wc(e,t);return null===r?null:(gt(r,t,n),0!=(2&gc)&&r===vc||(r===vc&&(0==(2&gc)&&(Rc|=t),4===Sc&&Jc(r,bc)),qc(r,n),1===t&&0===gc&&0==(1&e.mode)&&(Oc=Ge()+500,Ai&&Bi())),r)}function Wc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function qc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,c=i[a];-1===c?0!=(o&n)&&0==(o&r)||(i[a]=ft(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=pt(e,e===vc?bc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ai=!0,Ni(e)}(Xc.bind(null,e)):Ni(Xc.bind(null,e)),ri((function(){0===gc&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ye;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=vl(n,Vc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vc(e,t){if(Bc=-1,zc=0,0!=(6&gc))throw Error(s(327));var n=e.callbackNode;if(dl()&&e.callbackNode!==n)return null;var r=pt(e,e===vc?bc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=il(e,r);else{t=r;var i=gc;gc|=2;var a=nl();for(vc===e&&bc===t||(Oc=Ge()+500,el(e,t));;)try{al();break}catch(t){tl(e,t)}Vi(),fc.current=a,gc=i,null!==yc?t=0:(vc=null,bc=0,t=Sc)}if(0!==t){if(2===t&&0!==(i=ht(e))&&(r=i,t=Kc(e,i)),1===t)throw n=kc,el(e,0),Jc(e,r),qc(e,Ge()),n;if(6===t)Jc(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sr(s(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=il(e,r))&&0!==(a=ht(e))&&(r=a,t=Kc(e,a)),1===t))throw n=kc,el(e,0),Jc(e,r),qc(e,Ge()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:ll(e,Ec);break;case 3:if(Jc(e,r),(130023424&r)===r&&10<(t=xc+500-Ge())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Uc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(ll.bind(null,e,Ec),t);break}ll(e,Ec);break;case 4:if(Jc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pc(r/1960))-r)){e.timeoutHandle=ei(ll.bind(null,e,Ec),r);break}ll(e,Ec);break;default:throw Error(s(329))}}}return qc(e,Ge()),e.callbackNode===n?Vc.bind(null,e):null}function Kc(e,t){var n=Tc;return e.current.memoizedState.isDehydrated&&(el(e,t).flags|=256),2!==(e=il(e,t))&&(t=Ec,Ec=n,null!==t&&Qc(t)),e}function Qc(e){null===Ec?Ec=e:Ec.push.apply(Ec,e)}function Jc(e,t){for(t&=~Pc,t&=~Rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function Xc(e){if(0!=(6&gc))throw Error(s(327));dl();var t=pt(e,0);if(0==(1&t))return qc(e,Ge()),null;var n=il(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=Kc(e,r))}if(1===n)throw n=kc,el(e,0),Jc(e,t),qc(e,Ge()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ll(e,Ec),qc(e,Ge()),null}function Gc(e,t){var n=gc;gc|=1;try{return e(t)}finally{0===(gc=n)&&(Oc=Ge()+500,Ai&&Bi())}}function Zc(e){null!==jc&&0===jc.tag&&0==(6&gc)&&dl();var t=gc;gc|=1;var n=mc.transition,r=yt;try{if(mc.transition=null,yt=1,e)return e()}finally{yt=r,mc.transition=n,0==(6&(gc=t))&&Bi()}}function Yc(){_c=wc.current,Si(wc)}function el(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==yc)for(n=yc.return;null!==n;){var r=n;switch(Ps(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Oi();break;case 3:Gs(),Si(Pi),Si(Ri),ra();break;case 5:Ys(r);break;case 4:Gs();break;case 13:case 19:Si(ea);break;case 10:Ki(r.type._context);break;case 22:case 23:Yc()}n=n.return}if(vc=e,yc=e=wl(e.current,null),bc=_c=t,Sc=0,kc=null,Pc=Rc=Cc=0,Ec=Tc=null,null!==Gi){for(t=0;t<Gi.length;t++)if(null!==(r=(n=Gi[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Gi=null}return e}function tl(e,t){for(;;){var n=yc;try{if(Vi(),ia.current=Ga,da){for(var r=oa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}da=!1}if(aa=0,la=ca=oa=null,ua=!1,pa=0,hc.current=null,null===n||null===n.return){Sc=1,kc=t,yc=null;break}e:{var a=e,o=n.return,c=n,l=t;if(t=bc,c.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var d=l,u=c,p=u.tag;if(0==(1&u.mode)&&(0===p||11===p||15===p)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=uo(o);if(null!==h){h.flags&=-257,po(h,o,c,0,t),1&h.mode&&lo(a,d,t),l=d;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){lo(a,d,t),rl();break e}l=Error(s(426))}else if(xs&&1&c.mode){var v=uo(o);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),po(v,o,c,0,t),Ns(l);break e}}a=l,4!==Sc&&(Sc=2),null===Tc?Tc=[a]:Tc.push(a),l=to(l,c),c=o;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t,is(c,oo(0,l,t));break e;case 1:a=l;var y=c.type,b=c.stateNode;if(0==(128&c.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Mc||!Mc.has(b)))){c.flags|=65536,t&=-t,c.lanes|=t,is(c,co(c,a,t));break e}}c=c.return}while(null!==c)}cl(n)}catch(e){t=e,yc===n&&null!==n&&(yc=n=n.return);continue}break}}function nl(){var e=fc.current;return fc.current=Ga,null===e?Ga:e}function rl(){0!==Sc&&3!==Sc&&2!==Sc||(Sc=4),null===vc||0==(268435455&Cc)&&0==(268435455&Rc)||Jc(vc,bc)}function il(e,t){var n=gc;gc|=2;var r=nl();for(vc===e&&bc===t||el(e,t);;)try{sl();break}catch(t){tl(e,t)}if(Vi(),gc=n,fc.current=r,null!==yc)throw Error(s(261));return vc=null,bc=0,Sc}function sl(){for(;null!==yc;)ol(yc)}function al(){for(;null!==yc&&!Je();)ol(yc)}function ol(e){var t=uc(e.alternate,e,_c);e.memoizedProps=e.pendingProps,null===t?cl(e):yc=t,hc.current=null}function cl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=mo(n,t,_c)))return void(yc=n)}else{if(null!==(n=zo(n,t)))return n.flags&=32767,void(yc=n);if(null===e)return Sc=6,void(yc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(yc=t);yc=t=e}while(null!==t);0===Sc&&(Sc=5)}function ll(e,t){var n=yt,r=mc.transition;try{mc.transition=null,yt=1,function(e,t,n){do{dl()}while(null!==jc);if(0!=(6&gc))throw Error(s(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===vc&&(yc=vc=null,bc=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||Lc||(Lc=!0,vl(tt,(function(){return dl(),null}))),a=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||a){a=mc.transition,mc.transition=null;var o=yt;yt=1;var c=gc;gc|=4,hc.current=null,function(e,t){if(ur(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,c=-1,l=-1,d=0,u=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(c=o+i),p!==a||0!==r&&3!==p.nodeType||(l=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++d===i&&(c=o),f===a&&++u===r&&(l=o),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zr={focusedElem:e,selectionRange:n},Wo=t;null!==Wo;)if(e=(t=Wo).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Wo=e;else for(;null!==Wo;){t=Wo;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ui(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;if(1===_.nodeType)_.textContent="";else if(9===_.nodeType){var w=_.body;null!=w&&(w.textContent="")}break;default:throw Error(s(163))}}catch(e){pl(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Wo=e;break}Wo=t.return}m=Ko,Ko=!1}(e,r),function(e,t){for(Wo=t;null!==Wo;){var n=(t=Wo).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{ic(e,i,t);var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){pl(i,t,e)}}if(n=t.child,0!=(12854&t.subtreeFlags)&&null!==n)n.return=t,Wo=n;else for(;null!==Wo;){t=Wo;try{var a=t.flags;if(32&a&&pe(t.stateNode,""),512&a){var o=t.alternate;if(null!==o){var c=o.ref;null!==c&&("function"==typeof c?c(null):c.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var l=t.alternate;null!==l&&null!==l.memoizedState||(xc=Ge())}break;case 22:var d=null!==t.memoizedState,u=t.alternate,p=null!==u&&null!==u.memoizedState;e:{i=d;for(var f=null,h=r=n=t;;){if(5===h.tag){if(null===f){f=h;var m=h.stateNode;if(i){var g=m.style;"function"==typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var v=h.stateNode,y=h.memoizedProps.style,b=null!=y&&y.hasOwnProperty("display")?y.display:null;v.style.display=me("display",b)}}}else if(6===h.tag)null===f&&(h.stateNode.nodeValue=i?"":h.memoizedProps);else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===r)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===r)break;for(;null===h.sibling;){if(null===h.return||h.return===r)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}if(d&&!p&&0!=(1&n.mode)){Wo=n;for(var _=n.child;null!==_;){for(n=Wo=_;null!==Wo;){var w=(r=Wo).child;switch(r.tag){case 0:case 11:case 14:case 15:Qo(4,r,r.return);break;case 1:qo(r,r.return);var S=r.stateNode;if("function"==typeof S.componentWillUnmount){var k=r.return;try{S.props=r.memoizedProps,S.state=r.memoizedState,S.componentWillUnmount()}catch(e){pl(r,k,e)}}break;case 5:qo(r,r.return);break;case 22:if(null!==r.memoizedState){lc(n);continue}}null!==w?(w.return=r,Wo=w):lc(n)}_=_.sibling}}}switch(4102&a){case 2:tc(t),t.flags&=-3;break;case 6:tc(t),t.flags&=-3,sc(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,sc(t.alternate,t);break;case 4:sc(t.alternate,t)}}catch(e){pl(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,Wo=n;break}Wo=t.return}}}(e,r),pr(Zr),Zr=null,e.current=r,ac(r,e,i),Xe(),gc=c,yt=o,mc.transition=a}else e.current=r;if(Lc&&(Lc=!1,jc=e,Ac=i),0===(a=e.pendingLanes)&&(Mc=null),function(e){if(st&&"function"==typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode),qc(e,Ge()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Dc)throw Dc=!1,e=Ic,Ic=null,e;0!=(1&Ac)&&0!==e.tag&&dl(),0!=(1&(a=e.pendingLanes))?e===Nc?Fc++:(Fc=0,Nc=e):Fc=0,Bi()}(e,t,n)}finally{mc.transition=r,yt=n}return null}function dl(){if(null!==jc){var e=bt(Ac),t=mc.transition,n=yt;try{if(mc.transition=null,yt=16>e?16:e,null===jc)var r=!1;else{if(e=jc,jc=null,Ac=0,0!=(6&gc))throw Error(s(331));var i=gc;for(gc|=4,Wo=e.current;null!==Wo;){var a=Wo,o=a.child;if(0!=(16&Wo.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var d=c[l];for(Wo=d;null!==Wo;){var u=Wo;switch(u.tag){case 0:case 11:case 15:Qo(8,u,a)}var p=u.child;if(null!==p)p.return=u,Wo=p;else for(;null!==Wo;){var f=(u=Wo).sibling,h=u.return;if(Zo(u),u===d){Wo=null;break}if(null!==f){f.return=h,Wo=f;break}Wo=h}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Wo=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,Wo=o;else e:for(;null!==Wo;){if(0!=(2048&(a=Wo).flags))switch(a.tag){case 0:case 11:case 15:Qo(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Wo=y;break e}Wo=a.return}}var b=e.current;for(Wo=b;null!==Wo;){var _=(o=Wo).child;if(0!=(2064&o.subtreeFlags)&&null!==_)_.return=o,Wo=_;else e:for(o=b;null!==Wo;){if(0!=(2048&(c=Wo).flags))try{switch(c.tag){case 0:case 11:case 15:Jo(9,c)}}catch(e){pl(c,c.return,e)}if(c===o){Wo=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Wo=w;break e}Wo=c.return}}if(gc=i,Bi(),st&&"function"==typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{yt=n,mc.transition=t}}return!1}function ul(e,t,n){ns(e,t=oo(0,t=to(n,t),1)),t=Uc(),null!==(e=Wc(e,1))&&(gt(e,1,t),qc(e,t))}function pl(e,t,n){if(3===e.tag)ul(e,e,n);else for(;null!==t;){if(3===t.tag){ul(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){ns(t,e=co(t,e=to(n,e),1)),e=Uc(),null!==(t=Wc(t,1))&&(gt(t,1,e),qc(t,e));break}}t=t.return}}function fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Uc(),e.pingedLanes|=e.suspendedLanes&n,vc===e&&(bc&n)===n&&(4===Sc||3===Sc&&(130023424&bc)===bc&&500>Ge()-xc?el(e,0):Pc|=n),qc(e,t)}function hl(e,t){0===t&&(0==(1&e.mode)?t=1:(t=dt,0==(130023424&(dt<<=1))&&(dt=4194304)));var n=Uc();null!==(e=Wc(e,t))&&(gt(e,t,n),qc(e,n))}function ml(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hl(e,n)}function gl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),hl(e,n)}function vl(e,t){return Ke(e,t)}function yl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bl(e,t,n,r){return new yl(e,t,n,r)}function _l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function wl(e,t){var n=e.alternate;return null===n?((n=bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sl(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)_l(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case k:return kl(n.children,i,a,t);case C:o=8,i|=8;break;case R:return(e=bl(12,n,t,2|i)).elementType=R,e.lanes=a,e;case x:return(e=bl(13,n,t,i)).elementType=x,e.lanes=a,e;case O:return(e=bl(19,n,t,i)).elementType=O,e.lanes=a,e;case M:return Cl(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:o=10;break e;case T:o=9;break e;case E:o=11;break e;case D:o=14;break e;case I:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=bl(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function kl(e,t,n,r){return(e=bl(7,e,r,t)).lanes=n,e}function Cl(e,t,n,r){return(e=bl(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={},e}function Rl(e,t,n){return(e=bl(6,e,null,t)).lanes=n,e}function Pl(e,t,n){return(t=bl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function El(e,t,n,r,i,s,a,o,c){return e=new Tl(e,t,n,o,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=bl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Yi(s),e}function xl(e){if(!e)return Ci;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(xi(n))return Ii(e,n,t)}return t}function Ol(e,t,n,r){var i=t.current,s=Uc(),a=Hc(i);return n=xl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ts(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ns(i,t),null!==(e=$c(i,a,s))&&rs(e,i,a),a}function Dl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Il(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ml(e,t){Il(e,t),(e=e.alternate)&&Il(e,t)}uc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)vo=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:To(t),Fs();break;case 5:Zs(t);break;case 1:xi(t.type)&&Mi(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Hi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ea,1&ea.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Do(e,t,n):(ki(ea,1&ea.current),null!==(e=Bo(e,t,n))?e.sibling:null);ki(ea,1&ea.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return No(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Bo(e,t,n)}(e,t,n);vo=0!=(131072&e.flags)}else vo=!1,xs&&0!=(1048576&t.flags)&&Cs(t,vs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ei(t,Ri.current);Ji(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Yi(t),i.updater=ls,t.stateNode=i,i._reactInternals=t,fs(t,r,e,n),t=Po(null,t,r,!0,a,n)):(t.tag=0,xs&&a&&Rs(t),yo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return _l(e)?1:0;if(null!=e){if((e=e.$$typeof)===E)return 11;if(e===D)return 14}return 2}(r),e=Ui(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Ro(null,t,r,e,n);break e;case 11:t=bo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,Ui(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 3:e:{if(To(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,es(e,t),ss(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Eo(e,t,r,n,i=Error(s(423)));break e}if(r!==i){t=Eo(e,t,r,n,i=Error(s(424)));break e}for(Es=ai(t.stateNode.containerInfo.firstChild),Ts=t,xs=!0,Os=null,n=Ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fs(),r===i){t=Bo(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&Ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,Yr(r,i)?o=null:null!==a&&Yr(r,a)&&(t.flags|=32),ko(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&Ls(t),null;case 13:return Do(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bo(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ki(Hi,r._currentValue),r._currentValue=o,null!==a)if(sr(a.value,o)){if(a.children===i.children&&!Pi.current){t=Bo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){o=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=ts(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),d.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Qi(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Xi(i)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return i=Ui(r=t.type,t.pendingProps),_o(e,t,r,i=Ui(r.type,i),n);case 15:return wo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,xi(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),us(t,r,i),fs(t,r,i,n),Po(null,t,r,!0,e,n);case 19:return No(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};"function"==typeof reportError&&reportError;function Ll(e){this._internalRoot=e}function jl(e){this._internalRoot=e}function Al(){}function Fl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=Dl(a);o.call(e)}}Ol(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=Dl(a);s.call(e)}}var a=function(e,t,n,r,i,s,a,o,c){return(e=El(n,r,!0,e,0,s,0,o,c)).context=xl(null),n=e.current,(s=ts(r=Uc(),i=Hc(n))).callback=null!=t?t:null,ns(n,s),e.current.lanes=i,gt(e,i,r),qc(e,r),e}(t,r,e,0,null,!1,0,"",Al);return e._reactRootContainer=a,e[ui]=a.current,zr(8===e.nodeType?e.parentNode:e),Zc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=Dl(c);o.call(e)}}var c=El(e,0,!1,null,0,!1,0,"",Al);return e._reactRootContainer=c,e[ui]=c.current,zr(8===e.nodeType?e.parentNode:e),Zc((function(){Ol(t,c,n,r)})),c}(n,t,e,i,r);return Dl(a)}jl.prototype.render=Ll.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Ol(e,t,null,null)},jl.prototype.unmount=Ll.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zc((function(){Ol(null,e,null,null)})),t[ui]=null}},jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&At(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),qc(t,Ge()),0==(6&gc)&&(Oc=Ge()+500,Bi()))}break;case 13:var r=Uc();Zc((function(){return $c(e,1,r)})),Ml(e,1)}},wt=function(e){13===e.tag&&($c(e,134217728,Uc()),Ml(e,134217728))},St=function(e){if(13===e.tag){var t=Uc(),n=Hc(e);$c(e,n,t),Ml(e,n)}},kt=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(s(90));K(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=Gc,xe=Zc;var Nl={findFiberByHostInstance:mi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Bl={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{it=zl.inject(Bl),st=zl}catch(de){}}t.render=function(e,t,n){if(!function(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}(t))throw Error(s(200));return Fl(null,e,t,!1,n)}},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},2408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===s?"."+E(c,0):s,w(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),x(a,t,i,"",(function(e){return e}))):null!=a&&(P(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(c=0,s=""===s?".":s+":",w(e))for(var l=0;l<e.length;l++){var d=s+E(o=e[l],l);c+=x(o,t,i,d,a)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),l=0;!(o=e.next()).done;)c+=x(o=o.value,t,i,d=s+E(o,l++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},M={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,c=e[o],l=o+1,d=e[l];if(0>s(c,n))l<i&&0>s(d,c)?(e[r]=d,e[l]=n,r=l):(e[r]=c,e[o]=n,r=o);else{if(!(l<i&&0>s(d,n)))break e;e[r]=d,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],d=[],u=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(l,t)}t=r(d)}}function w(e){if(g=!1,_(e),!m)if(null!==r(l))m=!0,M(S);else{var t=r(d);null!==t&&L(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(P),P=-1),h=!0;var s=f;try{for(_(n),p=r(l);null!==p&&(!(p.expirationTime>n)||e&&!x());){var a=p.callback;if("function"==typeof a){p.callback=null,f=p.priorityLevel;var o=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?p.callback=o:p===r(l)&&i(l),_(n)}else i(l);p=r(l)}if(null!==p)var c=!0;else{var u=r(d);null!==u&&L(w,u.startTime-n),c=!1}return c}finally{p=null,f=s,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,R=null,P=-1,T=5,E=-1;function x(){return!(t.unstable_now()-E<T)}function O(){if(null!==R){var e=t.unstable_now();E=e;var n=!0;try{n=R(!0,e)}finally{n?k():(C=!1,R=null)}}else C=!1}if("function"==typeof b)k=function(){b(O)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,I=D.port2;D.port1.onmessage=O,k=function(){I.postMessage(null)}}else k=function(){v(O,0)};function M(e){R=e,C||(C=!0,k())}function L(e,n){P=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(d,e),null===r(l)&&e===r(d)&&(g?(y(P),P=-1):g=!0,L(w,s-a))):(e.sortIndex=o,n(l,e),m||h||(m=!0,M(S))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},6692:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},766:(e,t,n)=>{var r=n(962),i=n(5776);t.write=i,t.parse=r.parse,t.parseParams=r.parseParams,t.parseFmtpConfig=r.parseFmtpConfig,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},962:(e,t,n)=>{var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var s=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var s=0;s<n.length;s+=1)null!=e[s+1]&&(t[n[s]]=r(e[s+1]))}(n.match(e.reg),s,e.names,e.name),e.push&&t[e.push].push(s)},s=n(6692),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var t=e[0],a=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var o=0;o<(s[t]||[]).length;o+=1){var c=s[t][o];if(c.reg.test(a))return i(c,r,a)}})),t.media=n,t};var o=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(o,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(o,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},5776:(e,t,n)=>{var r=n(6692),i=/%[sdv%]/g,s=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},a=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return s.apply(null,r)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||o,i=t.innerOrder||c,s=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?s.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){s.push(a(t,n,e))}))}))})),e.media.forEach((function(e){s.push(a("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?s.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){s.push(a(t,n,e))}))}))}))})),s.join("\r\n")+"\r\n"}},8410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>R,parse:()=>u,stringify:()=>a.Z,v1:()=>l,v3:()=>_,v4:()=>w.Z,v5:()=>C,validate:()=>d.Z,version:()=>P});var r,i,s=n(3653),a=n(3958),o=0,c=0;const l=function(e,t,n){var l=t&&n||0,d=t||new Array(16),u=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==p){var f=e.random||(e.rng||s.Z)();null==u&&(u=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,g=h-o+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>o)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=h,c=m,i=p;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;d[l++]=v>>>24&255,d[l++]=v>>>16&255,d[l++]=v>>>8&255,d[l++]=255&v;var y=h/4294967296*1e4&268435455;d[l++]=y>>>8&255,d[l++]=255&y,d[l++]=y>>>24&15|16,d[l++]=y>>>16&255,d[l++]=p>>>8|128,d[l++]=255&p;for(var b=0;b<6;++b)d[l+b]=u[b];return t||(0,a.Z)(d)};var d=n(7738);const u=function(e){if(!(0,d.Z)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function p(e,t,n){function r(e,r,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=u(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){s=s||0;for(var c=0;c<16;++c)i[s+c]=o[c];return i}return(0,a.Z)(o)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function f(e){return 14+(e+64>>>9<<4)+1}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,r,i,s){return h((a=h(h(t,e),h(r,s)))<<(o=i)|a>>>32-o,n);var a,o}function g(e,t,n,r,i,s,a){return m(t&n|~t&r,e,t,i,s,a)}function v(e,t,n,r,i,s,a){return m(t&r|n&~r,e,t,i,s,a)}function y(e,t,n,r,i,s,a){return m(t^n^r,e,t,i,s,a)}function b(e,t,n,r,i,s,a){return m(n^(t|~r),e,t,i,s,a)}const _=p("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var s=e[i>>5]>>>i%32&255,a=parseInt(r.charAt(s>>>4&15)+r.charAt(15&s),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[f(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,a=0;a<e.length;a+=16){var o=n,c=r,l=i,d=s;n=g(n,r,i,s,e[a],7,-680876936),s=g(s,n,r,i,e[a+1],12,-389564586),i=g(i,s,n,r,e[a+2],17,606105819),r=g(r,i,s,n,e[a+3],22,-1044525330),n=g(n,r,i,s,e[a+4],7,-176418897),s=g(s,n,r,i,e[a+5],12,1200080426),i=g(i,s,n,r,e[a+6],17,-1473231341),r=g(r,i,s,n,e[a+7],22,-45705983),n=g(n,r,i,s,e[a+8],7,1770035416),s=g(s,n,r,i,e[a+9],12,-1958414417),i=g(i,s,n,r,e[a+10],17,-42063),r=g(r,i,s,n,e[a+11],22,-1990404162),n=g(n,r,i,s,e[a+12],7,1804603682),s=g(s,n,r,i,e[a+13],12,-40341101),i=g(i,s,n,r,e[a+14],17,-1502002290),n=v(n,r=g(r,i,s,n,e[a+15],22,1236535329),i,s,e[a+1],5,-165796510),s=v(s,n,r,i,e[a+6],9,-1069501632),i=v(i,s,n,r,e[a+11],14,643717713),r=v(r,i,s,n,e[a],20,-373897302),n=v(n,r,i,s,e[a+5],5,-701558691),s=v(s,n,r,i,e[a+10],9,38016083),i=v(i,s,n,r,e[a+15],14,-660478335),r=v(r,i,s,n,e[a+4],20,-405537848),n=v(n,r,i,s,e[a+9],5,568446438),s=v(s,n,r,i,e[a+14],9,-1019803690),i=v(i,s,n,r,e[a+3],14,-187363961),r=v(r,i,s,n,e[a+8],20,1163531501),n=v(n,r,i,s,e[a+13],5,-1444681467),s=v(s,n,r,i,e[a+2],9,-51403784),i=v(i,s,n,r,e[a+7],14,1735328473),n=y(n,r=v(r,i,s,n,e[a+12],20,-1926607734),i,s,e[a+5],4,-378558),s=y(s,n,r,i,e[a+8],11,-2022574463),i=y(i,s,n,r,e[a+11],16,1839030562),r=y(r,i,s,n,e[a+14],23,-35309556),n=y(n,r,i,s,e[a+1],4,-1530992060),s=y(s,n,r,i,e[a+4],11,1272893353),i=y(i,s,n,r,e[a+7],16,-155497632),r=y(r,i,s,n,e[a+10],23,-1094730640),n=y(n,r,i,s,e[a+13],4,681279174),s=y(s,n,r,i,e[a],11,-358537222),i=y(i,s,n,r,e[a+3],16,-722521979),r=y(r,i,s,n,e[a+6],23,76029189),n=y(n,r,i,s,e[a+9],4,-640364487),s=y(s,n,r,i,e[a+12],11,-421815835),i=y(i,s,n,r,e[a+15],16,530742520),n=b(n,r=y(r,i,s,n,e[a+2],23,-995338651),i,s,e[a],6,-198630844),s=b(s,n,r,i,e[a+7],10,1126891415),i=b(i,s,n,r,e[a+14],15,-1416354905),r=b(r,i,s,n,e[a+5],21,-57434055),n=b(n,r,i,s,e[a+12],6,1700485571),s=b(s,n,r,i,e[a+3],10,-1894986606),i=b(i,s,n,r,e[a+10],15,-1051523),r=b(r,i,s,n,e[a+1],21,-2054922799),n=b(n,r,i,s,e[a+8],6,1873313359),s=b(s,n,r,i,e[a+15],10,-30611744),i=b(i,s,n,r,e[a+6],15,-1560198380),r=b(r,i,s,n,e[a+13],21,1309151649),n=b(n,r,i,s,e[a+4],6,-145523070),s=b(s,n,r,i,e[a+11],10,-1120210379),i=b(i,s,n,r,e[a+2],15,718787259),r=b(r,i,s,n,e[a+9],21,-343485551),n=h(n,o),r=h(r,c),i=h(i,l),s=h(s,d)}return[n,r,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(f(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var w=n(2045);function S(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function k(e,t){return e<<t|e>>>32-t}const C=p("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,a=Math.ceil(s/16),o=new Array(a),c=0;c<a;++c){for(var l=new Uint32Array(16),d=0;d<16;++d)l[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];o[c]=l}o[a-1][14]=8*(e.length-1)/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<a;++u){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=o[u][f];for(var h=16;h<80;++h)p[h]=k(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),C=k(m,5)+S(w,g,v,y)+b+t[w]+p[_]>>>0;b=y,y=v,v=k(g,30)>>>0,g=m,m=C}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),R="00000000-0000-0000-0000-000000000000",P=function(e){if(!(0,d.Z)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},3653:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>s});var i=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}},3958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});for(var r=n(7738),i=[],s=0;s<256;++s)i.push((s+256).toString(16).substr(1));const a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,r.Z)(n))throw TypeError("Stringified UUID is invalid");return n}},2045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3653),i=n(3958);const s=function(e,t,n){var s=(e=e||{}).random||(e.rng||r.Z)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=s[a];return t}return(0,i.Z)(s)}},7738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&r.test(e)}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.amdO={},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e,t,n=__webpack_require__(7294),r=__webpack_require__(3935),i=["Harry Potter","Hedwig","Voldemort","Hermione","Viktor Krum","Ron Weasely","Ginny","Seamus Finnigan","Nagini","Dobby","Nymphadora Tonks","Sirius Black","Luna Lovegood","Peter Pettigrew","Moaning Myrtle","Kreacher","Crookshanks","Dumbledore","Snape","Draco","Lucius Malfoy","Bellatrix Lestrange","Anthony Goldstein","Neville Longbottom","Peeves","McGonagall","Fleur Delacour","James Potter","Newt Scamander","Lily Potter","Professor Flitwick","Alastor Moody","Argus Filch","Trelawney","Rita Skeeter","Cornelius Fudge"],s=__webpack_require__(2045),a=(0,s.Z)(),o=i[Math.ceil(Math.random()*(i.length-1))];function c(){if(!t){var e=document.querySelector("span#roomId");e&&(t=e.textContent)}return t}function l(){return o}function d(){return a}var u=__webpack_require__(7187),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)},f=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},m=function(){function e(){this._requests=new Map,this._emitter=new u,this._requests=new Map,this._ws=null}return e.builder=function(){var t,n=this,r=function(e,t){void 0===t&&(t=0);var i=new WebSocket(e);return i.readyState===WebSocket.OPEN?Promise.resolve(i):new Promise((function(s){var a,o=function(){return f(n,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:if(console.warn("Websocket connection was not successful, tried: "+t),a&&clearTimeout(a),3<t)throw new Error("Cannot connect to "+e);return[4,(2e3,new Promise((function(e){setTimeout(e,2e3)})))];case 1:return i.sent(),[4,r(e,t+1)];case 2:return n=i.sent(),s(n),[2]}}))}))};i.addEventListener("close",o);var c=function(){a=setTimeout((function(){i.readyState===WebSocket.OPEN?(i.removeEventListener("close",o),s(i)):c()}),1e3)};c()}))},i=new e,s={withUrl:function(e){return t=e,s},onConsumerCreated:function(e){return i._emitter.on("ConsumerCreated",e),s},onConsumerRemoved:function(e){return i._emitter.on("ConsumerRemoved",e),s},build:function(){return f(n,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:if(!t)throw new Error("websocket URL must be provided");return[4,r(t)];case 1:return(e=n.sent()).onmessage=function(e){i._receive(e)},i._ws=e,[2,i]}}))}))}};return s},e.prototype.requestCapabilities=function(){return this._sendRequestAndPromise({messageType:"CapabilitiesRequest",payload:{}})},e.prototype.requestCreateProducer=function(e){var t=e.kind,n=e.rtpParameters,r=e.userId;return this._sendRequestAndPromise({messageType:"CreateProducerRequest",payload:{kind:t,rtpParameters:n,userId:r}})},e.prototype.requestPauseProducer=function(e){var t=e.producerId;return this._sendRequestAndPromise({messageType:"PauseProducerRequest",payload:{producerId:t}})},e.prototype.requestResumeProducer=function(e){var t=e.producerId;return this._sendRequestAndPromise({messageType:"ResumeProducerRequest",payload:{producerId:t}})},e.prototype.sendTransportConnectedNotification=function(e){var t=e.role,n=e.dtlsParameters;this._ws.send(JSON.stringify({messageType:"TransportConnected",payload:{role:t,dtlsParameters:n}}))},e.prototype.sendRtpCapabilities=function(e){var t=e.rtpCapabilities;this._ws.send(JSON.stringify({messageType:"RtpCapabilities",payload:{rtpCapabilities:t}}))},e.prototype.requestTransportInfo=function(e){var t=e.role;return this._sendRequestAndPromise({messageType:"TransportInfoRequest",payload:{role:t}})},e.prototype._receive=function(e){var t;try{t=JSON.parse(e.data)}catch(t){return void console.warn("Cannot parse data "+e.data)}var n=t.messageType,r=t.payload;if(n)if(0<this._emitter.listenerCount(n))this._emitter.emit(n,r);else if(r){var i=r.requestId,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["requestId"]),a=this._requests.get(i);a?a(p({},s)):console.warn("Cannot find listener for message type: "+n)}else console.warn("Cannot find listener for message type: "+n);else console.warn("Undefined message type")},e.prototype._sendRequestAndPromise=function(e){var t=this,n=e.messageType,r=e.payload,i=(0,s.Z)(),a=JSON.stringify({messageType:n,payload:p({requestId:i},r)}),o=new Promise((function(e){t._requests.set(i,(function(t){e(t)}))}));return this._ws.send(a),o},e}(),g="localMediaTrackAdded",v="localMediaTrackRemoved",y="localMediaTrackPaused",b="localMediaTrackPlay",_="remoteMediaTrackAdded",w="remoteMediaTrackRemoved",S=new u.EventEmitter;function k(e){S.on(g,e)}function C(e){S.off(g,e)}function R(e){S.emit(y,e)}function P(e){S.emit(b,e)}var T=__webpack_require__(960),E=__webpack_require__(6648),x=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},O={collectingPeriodInMs:2e3,samplingPeriodInMs:1e4,sendingPeriodInMs:15e3,sampler:{roomId:c(),clientId:d()}},D=E.ClientMonitor.create(O),I="metricsUpdated",M=new u.EventEmitter;function L(e){M.on(I,e)}function j(e){M.off(I,e)}var A=new Map;D.events.onStatsCollected((function(){var e,t,n,r,i={statsCollectedInMs:D.metrics.collectingTimeInMs,tracks:new Map},s=function(e){var t=e.stats,n=t.ssrc,r=t.bytesReceived,s=t.framesDecoded,a=t.framesReceived,o=t.kind,c=e.getTrackId(),l=c+"-"+n,d=A.get(l),u=function(){return A.set(l,{bytesReceived:r,framesDecoded:s,framesReceived:a,timestamp:Date.now()})};if(!d)return u(),"continue";var p=i.tracks.get(c);p||(p={layers:new Map},i.tracks.set(c,p));var f=p.layers.get(n);f||(f={ssrc:n,kind:o},p.layers.set(n,f));var h=Date.now()-d.timestamp,m=h/1e3;"video"===o&&(f.decodedFps=Math.ceil((s-d.framesDecoded)/m),f.receivedFps=Math.ceil((a-d.framesReceived)/m)),f.rcvKbps=8*(r-d.bytesReceived)/h,u()};try{for(var a=x(D.storage.inboundRtps()),o=a.next();!o.done;o=a.next())s(o.value)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}var c=function(e){var t=e.stats,n=t.ssrc,r=t.bytesSent,s=t.framesEncoded,a=t.framesSent,o=t.kind,c=e.getTrackId(),l=c+"-"+n,d=A.get(l),u=function(){return A.set(l,{bytesSent:r,framesEncoded:s,framesSent:a,timestamp:Date.now()})};if(!d)return u(),"continue";var p=i.tracks.get(c);p||(p={layers:new Map},i.tracks.set(c,p));var f=p.layers.get(n);f||(f={ssrc:n,kind:o},p.layers.set(n,f));var h=Date.now()-d.timestamp,m=h/1e3;"video"===o&&(f.encodedFps=Math.ceil((s-d.framesEncoded)/m),f.sentFps=Math.ceil((a-d.framesSent)/m)),f.sndKbps=8*(r-d.bytesSent)/h,u()};try{for(var l=x(D.storage.outboundRtps()),d=l.next();!d.done;d=l.next())c(d.value)}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}!function(e){M.emit(I,e)}(i)}));var F,N,B,z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z.apply(this,arguments)},U=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))},H=function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},$=[{urls:["turn:turn.example.com:443?transport=tcp"],username:"example",credential:"example"}],W=new Map,q=new Map;function V(e){return U(this,void 0,void 0,(function(){var t,n,r,i,a,o=this;return H(this,(function(c){switch(c.label){case 0:return[4,m.builder().withUrl(e.url).onConsumerCreated((function(e){var t=e.clientId,n=e.consumerId,r=e.remoteProducerId,i=e.kind,s=e.rtpParameters,a=e.appData;return U(o,void 0,void 0,(function(){var e,o,c;return H(this,(function(l){switch(l.label){case 0:return console.log("Consumer is received "+n+" from client "+t,{remoteClientId:t,consumerId:n,remoteProducerId:r,kind:i,rtpParameters:s,appData:a}),e=a.userId,[4,N.consume({id:n,producerId:r,kind:i,rtpParameters:s,appData:a})];case 1:return o=l.sent(),c=o.track,D.addTrackRelation({trackId:c.id,sfuStreamId:r,sfuSinkId:n}),W.set(o.id,o),d={track:c,userId:e,clientId:t},S.emit(_,d),o.observer.on("close",(function(){D.removeTrackRelation(c.id),W.delete(o.id),D.removeTrackRelation(c.id)})),[2]}var d}))}))})).onConsumerRemoved((function(e){var t=e.consumerId;console.log("Consumer is closed "+t);var n,r=W.get(t),i=r.appData,s=i.clientId,a=i.userId;r.closed||r.close(),n={track:r.track,userId:a,clientId:s},S.emit(w,n)})).build()];case 1:return F=c.sent(),l=function(e){return U(o,void 0,void 0,(function(){var t,n,r,i;return H(this,(function(s){switch(s.label){case 0:return t=e.track,n=Array.from(q.values()).filter((function(e){return e.track.id===t.id})),n.length<1?[2]:((r=n[0]).pause(),i=r.id,[4,F.requestPauseProducer({producerId:i})]);case 1:return s.sent(),console.log("Producer "+i+" is paused"),[2]}}))}))},S.on(y,l),S.on(b,(function(e){return U(o,void 0,void 0,(function(){var t,n,r,i;return H(this,(function(s){switch(s.label){case 0:return t=e.track,n=Array.from(q.values()).filter((function(e){return e.track.id===t.id})),n.length<1?[2]:((r=n[0]).resume(),i=r.id,[4,F.requestResumeProducer({producerId:i})]);case 1:return s.sent(),console.log("Producer "+i+" is resumed"),[2]}}))}))})),t=new T.Device,[4,F.requestCapabilities()];case 2:return n=c.sent().rtpCapabilities,console.log("Got routerCapabilities:",n),[4,t.load({routerRtpCapabilities:n})];case 3:return c.sent(),console.log("Device is loaded",t.loaded,t.rtpCapabilities),F.sendRtpCapabilities({rtpCapabilities:t.rtpCapabilities}),[4,F.requestTransportInfo({role:"producers"})];case 4:return r=c.sent(),console.log("sndTransportInfo",r),B=t.createSendTransport(z(z({},r),{iceServers:$})),console.log("sndTransport "+B.id+" is created",B),B.on("connect",(function(e,t,n){var r=e.dtlsParameters;return U(o,void 0,void 0,(function(){return H(this,(function(e){switch(e.label){case 0:return[4,F.sendTransportConnectedNotification({role:"producers",dtlsParameters:r})];case 1:return e.sent(),t(),[2]}}))}))})),B.on("produce",(function(e,t,n){var r=e.kind,i=e.rtpParameters,s=e.appData;return U(o,void 0,void 0,(function(){var e,a,o;return H(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=s.userId,[4,F.requestCreateProducer({kind:r,rtpParameters:i,userId:e})];case 1:return a=c.sent().producerId,t({id:a}),[3,3];case 2:return o=c.sent(),n(o),[3,3];case 3:return[2]}}))}))})),D.addStatsCollector({id:(0,s.Z)(),label:"sndTransport",getStats:B.getStats.bind(B)}),[4,F.requestTransportInfo({role:"consumers"})];case 5:return i=c.sent(),N=t.createRecvTransport(z(z({},i),{iceServers:$})),console.log("rcvTransport "+N.id+" is created",N),N.on("connect",(function(e,t,n){var r=e.dtlsParameters;return U(o,void 0,void 0,(function(){return H(this,(function(e){switch(e.label){case 0:return[4,F.sendTransportConnectedNotification({role:"consumers",dtlsParameters:r})];case 1:return e.sent(),t(),[2]}}))}))})),D.addStatsCollector({id:(0,s.Z)(),label:"rcvTransport",getStats:N.getStats.bind(N)}),a=function(e){return U(o,void 0,void 0,(function(){var t,n,r;return H(this,(function(i){switch(i.label){case 0:if(!B)throw new Error("SenderTransport is not available");return t=e.track,n=e.userId,[4,B.produce({track:t,appData:{userId:n}})];case 1:return r=i.sent(),D.addTrackRelation({trackId:t.id,sfuStreamId:r.id}),r.observer.on("close",(function(){var e;q.delete(r.id),e=t.id,S.emit(v,e),D.removeTrackRelation(t.id)})),q.set(r.id,r),[2]}}))}))},B.observer.on("close",(function(){C(a)})),k(a),[2]}var l}))}))}var K=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))},Q=function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},J=function(){if(!e){var t=document.querySelector("span#clientType").textContent.toLocaleLowerCase();if("mediasoup"!==t)throw new Error("Cannot recognize sfuType: "+t);e="mediasoup"}return e}(),X=c(),G=d(),Z=l(),Y=!1;function ee(){return K(this,void 0,void 0,(function(){return Q(this,(function(e){switch(e.label){case 0:return[4,V({url:"ws://localhost:5959?roomId="+X+"&userId="+Z+"&clientId="+G})];case 1:return e.sent(),[2]}}))}))}function te(){return K(this,void 0,void 0,(function(){return Q(this,(function(e){switch(e.label){case 0:if(Y)throw new Error("Cannot reinitialize");return Y=!0,"mediasoup"===J?[3,1]:[3,3];case 1:return[4,ee()];case 2:return[2,e.sent()];case 3:throw new Error("Cannot initialize clientType: "+J)}}))}))}var ne,re,ie,se=(ne=function(e,t){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ne(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ne(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ae=function(){return ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ae.apply(this,arguments)},oe=function(e){function t(t){var r=e.call(this,t)||this;return r.videoRef=n.createRef(),r.muteRef=n.createRef(),r.playRef=n.createRef(),r}return se(t,e),t.prototype.componentDidMount=function(){var e=this;this.videoRef.current.srcObject=this.props.stream,this.videoRef.current.play().catch((function(e){D.addUserMediaError(e)})),this.metricsUpdatedListener=function(t){var n=[];e.props.stream.getTracks().forEach((function(e){var r=t.tracks.get(e.id);r&&Array.from(r.layers.values()).forEach((function(e){Object.entries(e).map((function(e){return e[0]+": "+e[1]})).forEach((function(e){return n.push(e)}))}))})),e.setState(ae(ae({},e.state),{stats:n}))},L(this.metricsUpdatedListener)},t.prototype.componentWillUnmount=function(){this.metricsUpdatedListener&&j(this.metricsUpdatedListener)},t.prototype.mute=function(){this.muteRef.current.innerText="Unmute";var e=this.props.stream.getAudioTracks()[0];R({clientId:this.props.id,userId:this.props.userId,track:e})},t.prototype.unmute=function(){this.muteRef.current.innerText="Mute";var e=this.props.stream.getAudioTracks()[0];P({clientId:this.props.id,userId:this.props.userId,track:e})},t.prototype.play=function(){this.playRef.current.innerText="Pause";var e=this.props.stream.getVideoTracks()[0];P({clientId:this.props.id,userId:this.props.userId,track:e})},t.prototype.pause=function(){this.playRef.current.innerText="Play";var e=this.props.stream.getVideoTracks()[0];R({clientId:this.props.id,userId:this.props.userId,track:e})},t.prototype.render=function(){var e,t=this,r=!1,i=!1;return n.createElement("div",null,n.createElement("h3",null,"Client (clientId: ",this.props.id,")"),n.createElement("h4",null,"UserId: ",n.createElement("span",{id:"userId"},this.props.userId)),n.createElement("div",{style:{width:"50%",display:"table-cell"}},n.createElement("video",{ref:this.videoRef,id:"localVideo",width:"160",height:"120",autoPlay:!0,playsInline:!0,controls:!1}),n.createElement("br",null),this.props.playBtn?n.createElement("button",{ref:this.playRef,id:"videoController",onClick:function(){i?(i=!1,t.play()):(i=!0,t.pause())}},"Pause"):n.createElement(n.Fragment,null),this.props.muteBtn?n.createElement("button",{ref:this.muteRef,id:"audioController",onClick:function(){r?(r=!1,t.unmute()):(r=!0,t.mute())}},"Mute"):n.createElement(n.Fragment,null)),n.createElement("div",{style:{width:"50%",display:"table-cell",padding:10}},(null===(e=this.state)||void 0===e?void 0:e.stats)?this.state.stats.map((function(e){return n.createElement("div",{key:(0,s.Z)()},e)})):n.createElement(n.Fragment,null)),n.createElement("hr",null))},t}(n.Component),ce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},le.apply(this,arguments)},de=function(e){function t(t){return e.call(this,t)||this}return ce(t,e),t.prototype.componentDidMount=function(){var e,t=this;this.setState({localClient:{id:d(),userId:l(),stream:new MediaStream},remoteClients:new Map}),this.localClientMediaTrackAddedListener=function(e){var n=e.track,r=t.state.localClient;r.stream.addTrack(n),t.setState(le(le({},t.state),{localClient:r}))},k(this.localClientMediaTrackAddedListener),this.localClientMediaTrackRemovedListener=function(e){var n=e.track,r=t.state.localClient;r.stream.removeTrack(n),t.setState(le(le({},t.state),{localClient:r}))},e=this.localClientMediaTrackRemovedListener,S.on(v,e),this.remoteClientTrackAddedListener=function(e){return n=t,r=void 0,s=function(){var t,n,r,i,s,a;return function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(o){return t=this.state.remoteClients,n=e.track,r=e.userId,i=e.clientId,(s=t.get(i))?(s.stream.addTrack(n),[2]):(a=new MediaStream,s={id:i,userId:r,stream:a},a.addTrack(n),t.set(i,s),this.setState(le(le({},this.state),{remoteClients:t})),[2])}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{c(s.next(e))}catch(e){t(e)}}function o(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,o)}c((s=s.apply(n,r||[])).next())}));var n,r,i,s},function(e){S.on(_,e)}(this.remoteClientTrackAddedListener),this.remoteClientTrackRemovedListener=function(e){var n=e.clientId,r=e.track,i=t.state.remoteClients,s=i.get(n);s&&(s.stream.removeTrack(r),0<s.stream.getTracks().length||(i.delete(n),t.setState(le(le({},t.state),{remoteClients:i}))))},function(e){S.on(w,e)}(this.remoteClientTrackRemovedListener),this.metricsUpdatedListener=function(e){var n,r,i=[];null===(r=null===(n=t.state)||void 0===n?void 0:n.localClient)||void 0===r||r.stream.getTracks().forEach((function(t){var n=e.tracks.get(t.id);n&&(Array.from(n.layers.values()).forEach((function(e){Object.entries(e).map((function(e){return e[0]+": "+e[1]})).forEach((function(e){return i.push(e)}))})),i.push(""))})),t.setState(le(le({},t.state),{statsCollectingTimeInMs:e.statsCollectedInMs}))},L(this.metricsUpdatedListener)},t.prototype.componentWillUnmount=function(){var e;this.localClientMediaTrackAddedListener&&C(this.localClientMediaTrackAddedListener),this.localClientMediaTrackRemovedListener&&C(this.localClientMediaTrackRemovedListener),this.remoteClientTrackAddedListener&&(e=this.remoteClientTrackAddedListener,S.off(_,e)),this.remoteClientTrackRemovedListener&&function(e){S.off(w,e)}(this.remoteClientTrackRemovedListener),this.metricsUpdatedListener&&j(this.metricsUpdatedListener)},t.prototype.render=function(){var e,t,r;return n.createElement("div",null,n.createElement("div",null,(null===(e=this.state)||void 0===e?void 0:e.localClient)?n.createElement(oe,{id:this.state.localClient.id,stream:this.state.localClient.stream,playBtn:!0,userId:this.state.localClient.userId,muteBtn:!0}):n.createElement(n.Fragment,null)),n.createElement("section",{id:"remoteClients"},(null===(t=this.state)||void 0===t?void 0:t.remoteClients)?Array.from(this.state.remoteClients.values()).map((function(e){return n.createElement("div",{key:e.id},n.createElement(oe,{stream:e.stream,id:e.id,userId:e.userId}))})):n.createElement(n.Fragment,null)),(null===(r=this.state)||void 0===r?void 0:r.statsCollectingTimeInMs)?n.createElement("h3",null,"Last Stats collecting time in ms: ",n.createElement("span",null,this.state.statsCollectingTimeInMs)):n.createElement(n.Fragment,null))},t}(n.Component);ie=function(){var e,t,i;return function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(s){switch(s.label){case 0:return[4,te()];case 1:return s.sent(),r.render(n.createElement("div",null,n.createElement(de,null)),document.getElementById("root")),[4,navigator.mediaDevices.enumerateDevices()];case 2:return e=s.sent(),D.addMediaDevice.apply(D,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}(e),!1)),t={video:!0,audio:!0},D.addMediaConstraints(t),[4,navigator.mediaDevices.getUserMedia(t).catch((function(e){D.addUserMediaError(e)}))];case 3:return(i=s.sent())?(console.log("Got MediaStream:",i,i.getTracks()),i.getTracks().forEach((function(e){var t;t={track:e,userId:l(),clientId:d()},S.emit(g,t)})),[2]):[2]}}))},new((re=void 0)||(re=Promise))((function(e,t){function n(e){try{i(ie.next(e))}catch(e){t(e)}}function r(e){try{i(ie.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof re?i:new re((function(e){e(i)}))).then(n,r)}i((ie=ie.apply(void 0,[])).next())}))})()})();