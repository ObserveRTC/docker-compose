Examples for Monitoring WebRTC Applications
============

This repository collect

Dockerfile for WebRTC-Observer project. 
The image is available directly from [Docker Hub](hhttps://hub.docker.com/repository/docker/observertc)


## Pre-Requisites

- install docker-compose [https://docs.docker.com/compose/install/](https://docs.docker.com/compose/install/)

*NOTE* if you want to regenerate the docker-compose files by yourself, then: `pip install -r requirements.txt`, `python generate-docker-compose-files.py`

## Quick Start

```shell
    docker run -p 7080:7080 observertc/observer:1.0.0-beta
```

This composes up the [observer](https://github.com/github.com/ObserveRTC/observer) and opens port to `7080`.
Observer accepts [ClientSample](https://github.com/ObserveRTC/schemas-2.0/blob/main/generated-schemas/samples/v2/ClientSample.md)s and [SfuSample](https://github.com/ObserveRTC/schemas-2.0/blob/main/generated-schemas/samples/v2/SfuSample.md)s. ClientSamples are provided by a client WebRTC application integrated with the [client schema](https://github.com/ObserveRTC/schemas-2.0/blob/main/generated-schemas/samples/v2/ClientSample.json), SfuSamples are provided by SFUs integrated with the [sfu schema](https://github.com/ObserveRTC/schemas-2.0/blob/main/generated-schemas/samples/v2/SfuSample.json). 

For out-of-the-box client integrations see [observer-js](https://github.com/ObserveRTC/observer-js).
For out-of-the-box sfu implementation see [sfu-observer-js](https://github.com/ObserveRTC/sfu-observer-js)

Once you start the client or SFU to collect samples, the samples must send to 
the observer. Observer accepts samples through e.g.: websockets. Once the connection is established 
and samples are provided, the observer matches the samples originated from the same room and generates reports 
about the call ongoing in the room. 

## Example to deploy monitoring system for WebRTC Stack

ObserveRTC provided solution allows you to collect samples from your WebRTC client application, and from the intermediate SFU (if you use it). The focus point of the collected samples is the [observer](https://github.com/observertc/observer). Observer matches the samples belong to the same call, and generate reports for further analysis.
The generated reports can be processed by additional services. 

This repository provides example stacks to process and analyze reports generated by the observer.
 * [Observer + Mongo](observer-mongo/README.md)
 * [Observer + Kafka + Custom NodeJS App + Prometheus + Grafana](observer-kafka-myapp-prom-graf/README.md)
 * [Observer + Kafka](observer-kafka/README.md): Use [Kafka](https://kafka.apache.org/) to receive Observer generated reports
 * [Observer + Kafka + Node-RED](observer-kafka-nodered/README.md): Use the Node-RED for processing Observer Reports consumed through kafka
 * [Observer + Kafka + Node-RED + Prometheus + Grafana](observer-kafka-nodered-prometheus-grafana/README.md): Use Prometheus and Grafana to show metrics exposed using Node-RED to process Observer Reports

